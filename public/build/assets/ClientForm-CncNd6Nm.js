import{m as b,o as e,c as n,b as s,f as u,v as m,g as c,e as a,F as f,r as p,d as k,t as h,k as $,i as g,j as v,a as y,h as q}from"./app-CxYZ2Lw4.js";import{P as w}from"./Pagination-BLsYNeO3.js";import{_ as C}from"./UserTable-BkZIODMJ.js";import{v as U}from"./vue-the-mask-8BRBEpNH.js";const V={class:"row"},L={class:"col-12"},D={class:"input-group mb-3"},M={class:"form-floating"},A=s("label",{for:"search-clients"},"Поиск по клиентам",-1),j=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),I=[j],B={class:"d-flex scrollable-area py-5 mb-3"},S={key:0,class:"table table-responsive"},F={key:0},O=s("i",{class:"fa-solid fa-caret-down"},null,-1),R=[O],T={key:1},P=s("i",{class:"fa-solid fa-caret-up"},null,-1),E=[P],N={key:0},G=s("i",{class:"fa-solid fa-caret-down"},null,-1),J=[G],z={key:1},H=s("i",{class:"fa-solid fa-caret-up"},null,-1),K=[H],Q={key:0},W=s("i",{class:"fa-solid fa-caret-down"},null,-1),X=[W],Y={key:1},Z=s("i",{class:"fa-solid fa-caret-up"},null,-1),x=[Z],ss={key:0},ts=s("i",{class:"fa-solid fa-caret-down"},null,-1),os=[ts],es={key:1},ns=s("i",{class:"fa-solid fa-caret-up"},null,-1),ls=[ns],is={key:0},rs=s("i",{class:"fa-solid fa-caret-down"},null,-1),ds=[rs],as={key:1},cs=s("i",{class:"fa-solid fa-caret-up"},null,-1),us=[cs],ms={key:0},hs=s("i",{class:"fa-solid fa-caret-down"},null,-1),_s=[hs],fs={key:1},ps=s("i",{class:"fa-solid fa-caret-up"},null,-1),bs=[ps],ks={key:0},$s=s("i",{class:"fa-solid fa-caret-down"},null,-1),gs=[$s],vs={key:1},ys=s("i",{class:"fa-solid fa-caret-up"},null,-1),qs=[ys],ws={key:0},Cs=s("i",{class:"fa-solid fa-caret-down"},null,-1),Us=[Cs],Vs={key:1},Ls=s("i",{class:"fa-solid fa-caret-up"},null,-1),Ds=[Ls],Ms={key:0},As=s("i",{class:"fa-solid fa-caret-down"},null,-1),js=[As],Is={key:1},Bs=s("i",{class:"fa-solid fa-caret-up"},null,-1),Ss=[Bs],Fs={key:0},Os=s("i",{class:"fa-solid fa-caret-down"},null,-1),Rs=[Os],Ts={key:1},Ps=s("i",{class:"fa-solid fa-caret-up"},null,-1),Es=[Ps],Ns={key:0},Gs=s("i",{class:"fa-solid fa-caret-down"},null,-1),Js=[Gs],zs={key:1},Hs=s("i",{class:"fa-solid fa-caret-up"},null,-1),Ks=[Hs],Qs={key:0},Ws=s("i",{class:"fa-solid fa-caret-down"},null,-1),Xs=[Ws],Ys={key:1},Zs=s("i",{class:"fa-solid fa-caret-up"},null,-1),xs=[Zs],st={key:0},tt=s("i",{class:"fa-solid fa-caret-down"},null,-1),ot=[tt],et={key:1},nt=s("i",{class:"fa-solid fa-caret-up"},null,-1),lt=[nt],it=s("th",{scope:"col",class:"text-center"},"Действие",-1),rt={scope:"row"},dt=["onClick"],at=["onClick"],ct={class:"text-center"},ut={class:"text-center"},mt={class:"text-center"},ht={class:"text-center"},_t={class:"text-center"},ft={class:"text-center"},pt={class:"text-center"},bt={class:"text-center"},kt={class:"text-center"},$t={class:"text-center"},gt={class:"text-center"},vt={class:"dropdown"},yt=s("button",{class:"btn btn-link",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-bars"})],-1),qt={class:"dropdown-menu"},wt=["onClick"],Ct=s("i",{class:"fa-solid fa-pen mr-2"},null,-1),Ut=["onClick"],Vt=s("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),Lt={key:0,class:"alert alert-success",role:"alert"},Dt=s("h4",{class:"alert-heading"},"Клиенты",-1),Mt=s("p",null,"К сожалению, раздел клиентов пуст. Вы еще не добавили ни одного клиента, которых можно отобразить на этой странице.",-1),At=s("hr",null,null,-1),jt=s("p",{class:"mb-0"},"Воспользуйтесь формой выше и добавьте своего первого клиента",-1),It=[Dt,Mt,At,jt],Bt={key:1,class:"row mb-3"},St={class:"col-12"},Ft={data(){return{sort:{column:null,direction:"desc"},search:null,current_page:0,paginate_object:null,statuses:[],items:[{id:null,status:null,phone:null,email:null,fact_address:null,comment:null,user_id:null,title:null,fio:null,law_address:null,inn:null,kpp:null,ogrn:null,okpo:null,requisites:[]}]}},computed:{...b(["getClients","getClientsPaginateObject","getDictionary"])},mounted(){this.loadClients(),this.statuses=this.getDictionary.statuses||[]},methods:{preparedLawStatus(i){let t=this.statuses.find(o=>o.value===i)||null;return t?t.title:null},sortAndLoad(i){this.sort.column=i,this.sort.direction=this.sort.direction==="desc"?"asc":"desc",this.loadClients(this.current_page)},loadClients(i=0){this.current_page=i,this.$store.dispatch("loadClients",{dataObject:{search:this.search,order:this.sort.column,direction:this.sort.direction},page:this.current_page}).then(t=>{this.items=this.getClients,this.paginate_object=this.getClientsPaginateObject}).catch(()=>{this.loading=!1})},selectItem(i){this.$emit("select",i)},duplicateItem(i){this.$store.dispatch("duplicateClient",{materialId:i}).then(()=>{this.sortAndLoad("id")})},removeItem(i){this.$store.dispatch("removeClient",{materialId:i}).then(()=>{this.sortAndLoad("id")})}}},Ee=Object.assign(Ft,{__name:"ClientTable",setup(i){return(t,o)=>(e(),n(f,null,[s("form",V,[s("div",L,[s("div",D,[s("div",M,[u(s("input",{type:"search","onUpdate:modelValue":o[0]||(o[0]=r=>t.search=r),class:"form-control",id:"search-clients"},null,512),[[m,t.search]]),A]),s("button",{type:"button",onClick:o[1]||(o[1]=r=>t.sortAndLoad("id")),class:"btn btn-outline-secondary rounded-0"},I)])])]),s("div",B,[t.items.length>0?(e(),n("table",S,[s("thead",null,[s("tr",null,[s("th",{scope:"col",class:"cursor-pointer",onClick:o[2]||(o[2]=r=>t.sortAndLoad("id"))},[c("# "),t.sort.direction==="desc"&&t.sort.column==="id"?(e(),n("span",F,R)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="id"?(e(),n("span",T,E)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[3]||(o[3]=r=>t.sortAndLoad("title"))},[c("Название "),t.sort.direction==="desc"&&t.sort.column==="title"?(e(),n("span",N,J)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="title"?(e(),n("span",z,K)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[4]||(o[4]=r=>t.sortAndLoad("title"))},[c(" ФИО "),t.sort.direction==="desc"&&t.sort.column==="fio"?(e(),n("span",Q,X)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="fio"?(e(),n("span",Y,x)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[5]||(o[5]=r=>t.sortAndLoad("phone"))},[c("Телефон "),t.sort.direction==="desc"&&t.sort.column==="phone"?(e(),n("span",ss,os)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="phone"?(e(),n("span",es,ls)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[6]||(o[6]=r=>t.sortAndLoad("status"))},[c("Статус клиента "),t.sort.direction==="desc"&&t.sort.column==="status"?(e(),n("span",is,ds)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="status"?(e(),n("span",as,us)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[7]||(o[7]=r=>t.sortAndLoad("fact_address"))},[c("Фактический адрес "),t.sort.direction==="desc"&&t.sort.column==="fact_address"?(e(),n("span",ms,_s)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="fact_address"?(e(),n("span",fs,bs)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[8]||(o[8]=r=>t.sortAndLoad("law_address"))},[c("Юридический адрес "),t.sort.direction==="desc"&&t.sort.column==="law_address"?(e(),n("span",ks,gs)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="law_address"?(e(),n("span",vs,qs)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[9]||(o[9]=r=>t.sortAndLoad("inn"))},[c("ИНН "),t.sort.direction==="desc"&&t.sort.column==="inn"?(e(),n("span",ws,Us)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="inn"?(e(),n("span",Vs,Ds)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[10]||(o[10]=r=>t.sortAndLoad("kpp"))},[c("КПП "),t.sort.direction==="desc"&&t.sort.column==="kpp"?(e(),n("span",Ms,js)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="kpp"?(e(),n("span",Is,Ss)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[11]||(o[11]=r=>t.sortAndLoad("ogrn"))},[c("ОГРН "),t.sort.direction==="desc"&&t.sort.column==="ogrn"?(e(),n("span",Fs,Rs)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="ogrn"?(e(),n("span",Ts,Es)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[12]||(o[12]=r=>t.sortAndLoad("okpo"))},[c("ОКПО "),t.sort.direction==="desc"&&t.sort.column==="okpo"?(e(),n("span",Ns,Js)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="okpo"?(e(),n("span",zs,Ks)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[13]||(o[13]=r=>t.sortAndLoad("comment"))},[c("Комментарий "),t.sort.direction==="desc"&&t.sort.column==="comment"?(e(),n("span",Qs,Xs)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="comment"?(e(),n("span",Ys,xs)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[14]||(o[14]=r=>t.sortAndLoad("updated_at"))},[c(" Дата изменения "),t.sort.direction==="desc"&&t.sort.column==="updated_at"?(e(),n("span",st,ot)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="updated_at"?(e(),n("span",et,lt)):a("",!0)]),it])]),s("tbody",null,[(e(!0),n(f,null,p(t.items,(r,l)=>(e(),n("tr",null,[s("th",rt,h(r.id||l),1),s("td",{class:"text-center",onClick:d=>t.selectItem(r)},h(r.title||"-"),9,dt),s("td",{class:"text-center",onClick:d=>t.selectItem(r)},h(r.fio||"-"),9,at),s("td",ct,h(r.phone||"-"),1),s("td",ut,h(t.preparedLawStatus(r.status)||"-"),1),s("td",mt,h(r.fact_address||"-"),1),s("td",ht,h(r.law_address||"-"),1),s("td",_t,h(r.inn||"-"),1),s("td",ft,h(r.kpp||"-"),1),s("td",pt,h(r.ogrn||"-"),1),s("td",bt,h(r.okpo||"-"),1),s("td",kt,h(r.comment||"-"),1),s("td",$t,h(r.updated_at||"-"),1),s("td",gt,[s("div",vt,[yt,s("ul",qt,[s("li",null,[s("a",{class:"dropdown-item",onClick:d=>t.selectItem(r),href:"javascript:void(0)"},[Ct,c("Редактировать")],8,wt)]),s("li",null,[s("a",{class:"dropdown-item text-danger",onClick:d=>t.removeItem(r.id),href:"javascript:void(0)"},[Vt,c("Удалить")],8,Ut)])])])])]))),256))])])):a("",!0)]),t.items.length===0?(e(),n("div",Lt,It)):a("",!0),t.items.length>0?(e(),n("div",Bt,[s("div",St,[t.paginate_object?(e(),k(w,{key:0,onPagination_page:t.loadClients,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):a("",!0)])])):a("",!0)],64))}}),Ot={class:"row mb-3"},Rt={class:"col-md-6 col-12"},Tt={class:"row"},Pt={class:"col-md-6 col-12"},Et={class:"form-floating"},Nt=s("option",{value:null},"Не выбрано",-1),Gt=["value"],Jt=s("label",{for:"status"},"Тип контрагента",-1),zt={class:"col-md-6 col-12"},Ht={class:"form-floating mb-3"},Kt=s("label",{for:"client-title"},"Наименование компании",-1),Qt={class:"col-md-6 col-12"},Wt={class:"form-floating mb-3"},Xt=s("label",{for:"fio"},"ФИО представителя компании",-1),Yt={class:"col-6"},Zt={class:"form-floating mb-3"},xt={class:"form-floating"},so=s("label",{for:"law_address"},"Юридический адрес",-1),to={class:"col-md-6 col-12"},oo={class:"form-floating mb-3"},eo=s("label",{for:"client-email"},"Электронная почта",-1),no={class:"col-md-6 col-12"},lo={class:"form-floating mb-3"},io=s("label",{for:"client-phone"},"Телефон",-1),ro={class:"col-md-12 col-12"},ao={class:"form-floating mb-3"},co={class:"form-floating"},uo=s("label",{for:"comment"},"Комментарий",-1),mo={class:"col-md-6 col-12 mb-3"},ho={class:"input-group"},_o={class:"form-floating"},fo=s("label",{for:"client-inn"},"ИНН",-1),po=["disabled"],bo=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),ko=[bo],$o=["href"],go={class:"col-md-6 col-12"},vo={class:"form-floating mb-3"},yo=s("label",{for:"client-kpp"},"КПП",-1),qo={class:"col-md-6 col-12"},wo={class:"form-floating mb-3"},Co=s("label",{for:"client-ogrn"},"ОГРН",-1),Uo={class:"col-md-6 col-12"},Vo={class:"form-floating mb-3"},Lo=s("label",{for:"client-okpo"},"ОКПО",-1),Do={class:"col-md-6 col-12 mb-3"},Mo={class:"input-group"},Ao={key:0,class:"form-control rounded-0 border-secondary"},jo={key:1,class:"form-control rounded-0 border-secondary"},Io=s("label",{for:"client-user_id"},"Пользователь",-1),Bo=s("i",{class:"fa-solid fa-ban"},null,-1),So=[Bo],Fo={class:"row"},Oo={class:"col-12 my-2"},Ro=s("i",{class:"fa-solid fa-plus mr-1"},null,-1),To={class:"col-md-6 col-12 mb-3"},Po={class:"card rounded-0 border-secondary"},Eo={class:"card-header d-flex justify-between align-items-center border-secondary"},No={class:"form-check form-switch"},Go=["onChange","onUpdate:modelValue","id"],Jo=["for"],zo=["onClick"],Ho=s("i",{class:"fa-solid fa-xmark mr-2"},null,-1),Ko={class:"card-body"},Qo={class:"row"},Wo={class:"col-md-6 col-12"},Xo={class:"input-group mb-3"},Yo={class:"form-floating"},Zo=["onUpdate:modelValue","id"],xo=["for"],se=["disabled","onClick"],te=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),oe=[te],ee={class:"col-md-6 col-12"},ne={class:"form-floating mb-3"},le=["onUpdate:modelValue","id"],ie=["for"],re={class:"col-md-12 col-12"},de={class:"form-floating mb-3"},ae=["onUpdate:modelValue","id"],ce=["for"],ue={class:"col-md-6 col-12"},me={class:"form-floating mb-3"},he=["onUpdate:modelValue","id"],_e=["for"],fe={class:"col-md-6 col-12"},pe={class:"form-floating"},be=["onUpdate:modelValue","id"],ke=["for"],$e={class:"row"},ge={class:"col-12"},ve={class:"alert alert-danger alert-dismissible fade show",role:"alert"},ye=s("strong",null,"Внимание!",-1),qe=["onClick"],we={class:"row mt-5"},Ce={class:"col-12 d-flex justify-content-center"},Ue={class:"btn btn-dark rounded-0"},Ve={key:0,class:"fa-regular fa-floppy-disk mr-1"},Le={key:1,class:"spinner-border spinner-border-sm text-success",role:"status"},De=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),Me={class:"modal fade",id:"search-users",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ae={class:"modal-dialog modal-lg"},je={class:"modal-content rounded-0 border-secondary"},Ie=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Поиск пользователя"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Be={class:"modal-body 0"},Se=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-outline-secondary rounded-0 border-secondary","data-bs-dismiss":"modal"},"Закрыть ")],-1),Fe={components:{},directives:{mask:U.mask},props:["item"],data(){return{messages:[],userSearchModal:null,loading:!1,link_for_document:null,statuses:[],form:{id:null,status:null,phone:null,email:null,fact_address:null,comment:null,user:null,user_id:null,title:null,fio:null,law_address:null,inn:null,kpp:null,ogrn:null,okpo:null,requisites:[]}}},computed:{...b(["getDictionary"])},mounted(){this.statuses=this.getDictionary.statuses||[],this.userSearchModal=new bootstrap.Modal(document.getElementById("search-users"),{}),this.item&&this.$nextTick(()=>{this.form={id:this.item.id||null,status:this.item.status||null,phone:this.item.phone||null,email:this.item.email||null,fact_address:this.item.fact_address||null,comment:this.item.comment||null,user_id:this.item.user_id||null,user:this.item.user||null,title:this.item.title||null,fio:this.item.fio||null,law_address:this.item.law_address||null,inn:this.item.inn||null,kpp:this.item.kpp||null,ogrn:this.item.ogrn||null,okpo:this.item.okpo||null,requisites:this.item.requisites||[]}})},methods:{openUserSearchModal(){this.userSearchModal.show()},requestByBik(i){this.$notify({title:"DoDoors",text:"Ищем по БИК..."}),this.$store.dispatch("requestByBik",{bik:this.form.requisites[i].bik}).then(t=>{this.form.requisites[i].bank=(t.name||"").replaceAll("&quot;","'"),this.form.requisites[i].address=t.address?(t.index||"")+", "+(t.city||"")+", "+(t.address||""):null,this.form.requisites[i].correspondent_account=t.ks||null,this.$notify({title:"DoDoors",text:"Отлично! Данные найдены",type:"success"})}).catch(t=>{this.$notify({title:"DoDoors",text:"Данные не найдено",type:"error"})})},requestByInn(){this.link_for_document=null,this.$notify({title:"DoDoors",text:"Ищем по ИНН..."}),this.$store.dispatch("requestByInn",{inn:this.form.inn}).then(i=>{this.form.title=i[0].c||null,this.form.kpp=i[0].p||null,this.form.ogrn=i[0].o||null;let t=new Date;this.link_for_document=(i[0].t||null)+`?r=${t.getTime()}&_=${t.getTime()}`,this.$notify({title:"DoDoors",text:"Отлично! Данные найдены",type:"success"})}).catch(i=>{this.$notify({title:"DoDoors",text:"Данные не найдено",type:"error"})})},changeRequisitesMain(i){this.form.requisites.forEach(t=>t.is_main=!1),this.form.requisites[i].is_main=!0},alert(i){this.messages.push(i)},removeRequisite(i){this.form.requisites.splice(i,1)},addRequisites(){this.form.requisites.push({bik:null,bank:null,address:null,correspondent_account:null,checking_account:null,is_main:!1})},selectUserId(i){this.form.user_id=i.id,this.form.user=i,this.userSearchModal.hide()},resetForm(){const i={id:null,status:null,phone:null,email:null,fact_address:null,comment:null,user_id:null,title:null,fio:null,law_address:null,inn:null,kpp:null,ogrn:null,okpo:null,requisites:[]};this.form=i,this.$emit("callback")},removeMessage(i){this.messages.splice(i,1)},submit(){let i=new FormData;Object.keys(this.form).forEach(t=>{const o=this.form[t]||"";typeof o=="object"?i.append(t,JSON.stringify(o)):i.append(t,o)}),this.$store.dispatch("storeClient",{clientForm:i}).then(t=>{this.$emit("callback"),this.resetForm()}).catch(t=>{})}}},Ne=Object.assign(Fe,{__name:"ClientForm",setup(i){return(t,o)=>{const r=$("mask");return e(),n(f,null,[s("div",Ot,[s("div",Rt,[s("button",{type:"button",class:"btn btn-dark rounded-0",onClick:o[0]||(o[0]=(...l)=>t.resetForm&&t.resetForm(...l))},"Очистить форму ")])]),s("form",{action:"",onSubmit:o[17]||(o[17]=v((...l)=>t.submit&&t.submit(...l),["prevent"]))},[s("div",Tt,[s("div",Pt,[s("div",Et,[u(s("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=l=>t.form.status=l),id:"status","aria-label":"Floating label select example"},[Nt,(e(!0),n(f,null,p(t.statuses,l=>(e(),n("option",{value:l.value},h(l.title||"Не указано"),9,Gt))),256))],512),[[g,t.form.status]]),Jt])]),s("div",zt,[s("div",Ht,[u(s("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=l=>t.form.title=l),class:"form-control",id:"client-title",required:""},null,512),[[m,t.form.title]]),Kt])]),s("div",Qt,[s("div",Wt,[u(s("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=l=>t.form.fio=l),class:"form-control",id:"client-title"},null,512),[[m,t.form.fio]]),Xt])]),s("div",Yt,[s("div",Zt,[s("div",xt,[u(s("textarea",{class:"form-control rounded-0 border-secondary","onUpdate:modelValue":o[4]||(o[4]=l=>t.form.law_address=l),placeholder:"Leave a comment here",id:"law_address"},null,512),[[m,t.form.law_address]]),so])])]),s("div",to,[s("div",oo,[u(s("input",{type:"email","onUpdate:modelValue":o[5]||(o[5]=l=>t.form.email=l),class:"form-control",id:"client-email"},null,512),[[m,t.form.email]]),eo])]),s("div",no,[s("div",lo,[u(s("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=l=>t.form.phone=l),class:"form-control",id:"client-phone"},null,512),[[m,t.form.phone],[r,"+7(###)###-##-##"]]),io])]),s("div",ro,[s("div",ao,[s("div",co,[u(s("textarea",{class:"form-control rounded-0 border-secondary","onUpdate:modelValue":o[7]||(o[7]=l=>t.form.comment=l),placeholder:"Leave a comment here",id:"comment"},null,512),[[m,t.form.comment]]),uo])])]),s("div",mo,[s("div",ho,[s("div",_o,[u(s("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=l=>t.form.inn=l),maxlength:"12",class:"form-control",id:"client-inn",required:""},null,512),[[m,t.form.inn]]),fo]),s("button",{type:"button",disabled:!t.form.inn,onClick:o[9]||(o[9]=(...l)=>t.requestByInn&&t.requestByInn(...l)),class:"btn btn-outline-secondary rounded-0"},ko,8,po)]),t.link_for_document?(e(),n("a",{key:0,href:"https://egrul.nalog.ru/vyp-download/"+t.link_for_document,target:"_blank",class:"btn btn-link my-0 py-0 px-0",style:{color:"red"}},"Скачать выписку",8,$o)):a("",!0)]),s("div",go,[s("div",vo,[u(s("input",{type:"text",maxlength:"9","onUpdate:modelValue":o[10]||(o[10]=l=>t.form.kpp=l),class:"form-control",id:"client-kpp"},null,512),[[m,t.form.kpp]]),yo])]),s("div",qo,[s("div",wo,[u(s("input",{type:"text",maxlength:"15","onUpdate:modelValue":o[11]||(o[11]=l=>t.form.ogrn=l),class:"form-control",id:"client-ogrn"},null,512),[[m,t.form.ogrn]]),Co])]),s("div",Uo,[s("div",Vo,[u(s("input",{type:"text","onUpdate:modelValue":o[12]||(o[12]=l=>t.form.okpo=l),maxlength:"10",class:"form-control",id:"client-okpo"},null,512),[[m,t.form.okpo]]),Lo])]),s("div",Do,[s("div",Mo,[s("div",{class:"form-floating",onClick:o[13]||(o[13]=(...l)=>t.openUserSearchModal&&t.openUserSearchModal(...l))},[t.form.user?(e(),n("p",Ao,h(t.form.user.email),1)):(e(),n("p",jo,"Не выбран")),Io]),t.form.user?(e(),n("button",{key:0,type:"button",class:"btn btn-outline-secondary rounded-0",onClick:o[14]||(o[14]=l=>t.form.user=null)},So)):a("",!0)])])]),s("div",Fo,[s("div",Oo,[s("button",{type:"button",onClick:o[15]||(o[15]=(...l)=>t.addRequisites&&t.addRequisites(...l)),class:"btn btn-dark rounded-0"},[Ro,c("Добавить расчётный счёт ")])]),(e(!0),n(f,null,p(t.form.requisites,(l,d)=>(e(),n("div",To,[s("div",Po,[s("div",Eo,[s("div",No,[u(s("input",{class:"form-check-input",onChange:_=>t.changeRequisitesMain(d),"onUpdate:modelValue":_=>t.form.requisites[d].is_main=_,type:"checkbox",role:"switch",id:"form-requisites-checking_account"+d,checked:""},null,40,Go),[[q,t.form.requisites[d].is_main]]),s("label",{class:"form-check-label",for:"form-requisites-checking_account"+d}," Основной расчетный счёт ",8,Jo)]),s("a",{href:"javascript:void(0)",class:"btn btn-outline-secondary rounded-0",onClick:_=>t.removeRequisite(d)},[Ho,c(" Удалить")],8,zo)]),s("div",Ko,[s("div",Qo,[s("div",Wo,[s("div",Xo,[s("div",Yo,[u(s("input",{type:"text",maxlength:"11","onUpdate:modelValue":_=>t.form.requisites[d].bik=_,class:"form-control",id:"form-requisites-bik"+d,required:""},null,8,Zo),[[m,t.form.requisites[d].bik]]),s("label",{for:"form-requisites-bik"+d},"БИК",8,xo)]),s("button",{type:"button",disabled:!t.form.requisites[d].bik,onClick:_=>t.requestByBik(d),class:"btn btn-outline-secondary rounded-0"},oe,8,se)])]),s("div",ee,[s("div",ne,[u(s("input",{type:"text","onUpdate:modelValue":_=>t.form.requisites[d].bank=_,class:"form-control",id:"form-requisites-bank"+d},null,8,le),[[m,t.form.requisites[d].bank]]),s("label",{for:"form-requisites-bank"+d},"Банк",8,ie)])]),s("div",re,[s("div",de,[u(s("input",{type:"text","onUpdate:modelValue":_=>t.form.requisites[d].address=_,class:"form-control",id:"form-requisites-address"+d},null,8,ae),[[m,t.form.requisites[d].address]]),s("label",{for:"form-requisites-address"+d},"Адрес",8,ce)])]),s("div",ue,[s("div",me,[u(s("input",{type:"text",maxlength:"20","onUpdate:modelValue":_=>t.form.requisites[d].correspondent_account=_,class:"form-control",id:"form-requisites-correspondent_account"+d},null,8,he),[[m,t.form.requisites[d].correspondent_account]]),s("label",{for:"form-requisites-correspondent_account"+d},"Кор.счёт",8,_e)])]),s("div",fe,[s("div",pe,[u(s("input",{type:"text","onUpdate:modelValue":_=>t.form.requisites[d].checking_account=_,maxlength:"20",class:"form-control",id:"form-requisites-checking_account"+d,required:""},null,8,be),[[m,t.form.requisites[d].checking_account]]),s("label",{for:"form-requisites-checking_account"+d},"Расчетный счет",8,ke)])])])])])]))),256))]),s("div",$e,[s("div",ge,[t.messages.length>0?(e(!0),n(f,{key:0},p(t.messages,(l,d)=>(e(),n("div",ve,[ye,c(" "+h(l||"Ошибка")+" ",1),s("button",{type:"button",class:"btn-close",onClick:_=>t.removeMessage(d)},null,8,qe)]))),256)):a("",!0)])]),s("div",we,[s("div",Ce,[s("button",Ue,[t.loading?(e(),n("span",Le)):(e(),n("i",Ve)),c(" Сохранить клиента ")]),t.loading?a("",!0):(e(),n("button",{key:0,type:"button",onClick:o[16]||(o[16]=(...l)=>t.resetForm&&t.resetForm(...l)),class:"btn btn-outline-secondary rounded-0 ml-2"},[De,c(" Очистить клиента ")]))])])],32),s("div",Me,[s("div",Ae,[s("div",je,[Ie,s("div",Be,[y(C,{"for-select":!0,onSelect:t.selectUserId},null,8,["onSelect"])]),Se])])])],64)}}});export{Ne as _,Ee as a};
