import{A as I}from"./ApplicationLogo-BctaxC8V.js";import{q as B,G as R,A as L,l as z,o as n,c as p,b as t,x as P,d as T,H as q,a as E,w as f,z as D,I as U,g as v,u as S,B as M,t as y,f as c,e as m,J as Q,m as N,E as Z,F as O,r as G,i as J,v as j,D as H}from"./app-ClgqYLNi.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"relative"},W={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(h){const o=h,e=i=>{a.value&&i.key==="Escape"&&(a.value=!1)};B(()=>document.addEventListener("keydown",e)),R(()=>document.removeEventListener("keydown",e));const r=L(()=>({48:"w-48"})[o.width.toString()]),s=L(()=>o.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":o.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),a=z(!1);return(i,u)=>(n(),p("div",K,[t("div",{onClick:u[0]||(u[0]=_=>a.value=!a.value)},[P(i.$slots,"trigger")]),T(t("div",{class:"fixed inset-0 z-40",onClick:u[1]||(u[1]=_=>a.value=!1)},null,512),[[q,a.value]]),E(U,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:f(()=>[T(t("div",{class:D(["absolute z-50 mt-2 rounded-md shadow-lg",[r.value,s.value]]),style:{display:"none"},onClick:u[2]||(u[2]=_=>a.value=!1)},[t("div",{class:D(["rounded-md ring-1 ring-black ring-opacity-5",h.contentClasses])},[P(i.$slots,"content")],2)],2),[[q,a.value]])]),_:3})]))}},A={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(h){return(o,e)=>(n(),v(S(M),{href:h.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:f(()=>[P(o.$slots,"default")]),_:3},8,["href"]))}},C={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(h){const o=h,e=L(()=>o.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(r,s)=>(n(),v(S(M),{href:h.href,class:D(e.value)},{default:f(()=>[P(r.$slots,"default")]),_:3},8,["href","class"]))}},x={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(h){const o=h,e=L(()=>o.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(r,s)=>(n(),v(S(M),{href:h.href,class:D(e.value)},{default:f(()=>[P(r.$slots,"default")]),_:3},8,["href","class"]))}},Y={props:["item"],methods:{editDoorItem(){window.dispatchEvent(new CustomEvent("select-door-item",{detail:{item:this.item}}))},removeProduct(){this.$store.dispatch("removeProduct",this.item.product.id)},changeQuantityProductInCart(h="increment"){let o=h==="increment"?this.item.quantity+1:this.item.quantity-1;if(o===0){this.$store.dispatch("removeProduct",this.item.product.id);return}this.$store.dispatch("setQuantity",{id:this.item.product.id,quantity:o})}}},ee={class:"card mb-2"},te={class:"card-body"},se={class:"row"},oe={class:"col-md-12"},ae={class:"text-muted font-bold"},ne={class:"text-black mb-0"},re={key:0},ie={key:1,class:"ml-1"},le={key:2,class:"ml-1"},ce={key:3},ue={key:4,class:"ml-1"},de={key:5,class:"ml-1"},fe={key:6,class:"ml-1"},me={key:7,class:"ml-1"},he={key:8,class:"ml-1"},pe={key:9,class:"ml-1"},ve={key:10,class:"ml-1"},ge={key:11,class:"ml-1"},_e={key:12,class:"ml-1"},ye={key:13,class:"ml-1"},be={key:14,class:"ml-1"},ke={key:15,class:"ml-1"},we={key:16,class:"ml-1"},$e={class:"row d-flex align-items-center"},Ce={class:"col-5 col-md-5 col-lg-5 col-xl-5 d-flex justify-content-center mt-2"},xe=t("i",{class:"fas fa-minus"},null,-1),Ee=[xe],De={class:"btn"},Pe=t("i",{class:"fas fa-plus"},null,-1),Te=[Pe],Fe={class:"col-5 col-md-5 col-lg-5 col-xl-5"},je={class:"mb-0 text-center font-bold"},Le={class:"col-2 col-md-2 col-lg-2 col-xl-2 text-center"},Se=t("i",{class:"fas fa-times"},null,-1),Me=[Se],qe={class:"col-12"},Ae=t("i",{class:"fa-regular fa-pen-to-square mr-2"},null,-1);function ze(h,o,e,r,s,a){return n(),p("div",ee,[t("div",te,[t("div",se,[t("div",oe,[t("h6",ae,y(e.item.product.door_type.title)+" "+y(e.item.product.width)+"x"+y(e.item.product.height)+"x"+y(e.item.product.depth),1),t("h6",ne,[e.item.product.box_and_frame_color.title?(n(),p("span",re,"("+y(e.item.product.box_and_frame_color.title)+")",1)):c("",!0),m(" лицо "),e.item.product.front_side_finish.title?(n(),p("span",ie,y(e.item.product.front_side_finish.title),1)):c("",!0),m("/ "),e.item.product.back_side_finish.title?(n(),p("span",le,y(e.item.product.back_side_finish.title)+",",1)):c("",!0),m(" петли "),e.item.product.loops.title?(n(),p("span",ce,y(e.item.product.loops.title)+",",1)):c("",!0),e.item.product.hinge_manufacturer.title?(n(),p("span",ue,y(e.item.product.hinge_manufacturer.title)+",",1)):c("",!0),e.item.product.fittings_color.title?(n(),p("span",de,"("+y(e.item.product.fittings_color.title)+"),",1)):c("",!0),e.item.product.opening_type.title?(n(),p("span",fe,y(e.item.product.opening_type.title)+",",1)):c("",!0),e.item.product.handle_holes.title?(n(),p("span",me,y(e.item.product.handle_holes.title)+",",1)):c("",!0),e.item.product.need_automatic_doorstep?(n(),p("span",he," автоматический порожек,")):c("",!0),e.item.product.need_upper_jumper?(n(),p("span",pe," верхняя перемычка,")):c("",!0),e.item.product.need_handle_holes?(n(),p("span",ve," дверная ручка,")):c("",!0),e.item.product.handle_holes_type.title?(n(),p("span",ge,y(e.item.product.handle_holes_type.title)+",",1)):c("",!0),e.item.product.handle_holes.title?(n(),p("span",_e,y(e.item.product.handle_holes.title)+",",1)):c("",!0),e.item.product.need_hidden_door_closer?(n(),p("span",ye," скрытый доводчик,")):c("",!0),e.item.product.need_hidden_skirting_board?(n(),p("span",be," скрытый плинтус,")):c("",!0),e.item.product.need_hidden_stopper?(n(),p("span",ke," скрытый стопор,")):c("",!0),e.item.product.need_door_install?(n(),p("span",we," установка двери")):c("",!0)])])]),t("div",$e,[t("div",Ce,[t("button",{class:"btn btn-link px-2",type:"button",onClick:o[0]||(o[0]=i=>a.changeQuantityProductInCart("decrement"))},Ee),t("span",De,y(e.item.quantity),1),t("button",{class:"btn btn-link px-2",type:"button",onClick:o[1]||(o[1]=i=>a.changeQuantityProductInCart("increment"))},Te)]),t("div",Fe,[t("h6",je,y(e.item.quantity*(e.item.product.price||0))+" ₽",1)]),t("div",Le,[t("a",{href:"javascript:void(0)",onClick:o[2]||(o[2]=(...i)=>a.removeProduct&&a.removeProduct(...i)),class:"text-muted"},Me)]),t("div",qe,[t("button",{type:"button",class:"btn btn-link",onClick:o[3]||(o[3]=(...i)=>a.editDoorItem&&a.editDoorItem(...i))},[Ae,m("Редактировать")])])])])])}const Ne=X(Y,[["render",ze]]);var V={exports:{}};(function(h,o){(function(e,r){h.exports=r()})(Q,function(){return function(e){function r(a){if(s[a])return s[a].exports;var i=s[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var s={};return r.m=e,r.c=s,r.i=function(a){return a},r.d=function(a,i,u){r.o(a,i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:u})},r.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(i,"a",i),i},r.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},r.p=".",r(r.s=10)}([function(e,r){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(s){return s.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(s){return s.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,r,s){function a(l){var d=document.createEvent("Event");return d.initEvent(l,!0,!0),d}var i=s(2),u=s(0),_=s.n(u);r.a=function(l,d){var g=d.value;if((Array.isArray(g)||typeof g=="string")&&(g={mask:g,tokens:_.a}),l.tagName.toLocaleUpperCase()!=="INPUT"){var b=l.getElementsByTagName("input");if(b.length!==1)throw new Error("v-mask directive requires 1 input, found "+b.length);l=b[0]}l.oninput=function(w){if(w.isTrusted){var $=l.selectionEnd,F=l.value[$-1];for(l.value=s.i(i.a)(l.value,g.mask,!0,g.tokens);$<l.value.length&&l.value.charAt($-1)!==F;)$++;l===document.activeElement&&(l.setSelectionRange($,$),setTimeout(function(){l.setSelectionRange($,$)},0)),l.dispatchEvent(a("input"))}};var k=s.i(i.a)(l.value,g.mask,!0,g.tokens);k!==l.value&&(l.value=k,l.dispatchEvent(a("input")))}},function(e,r,s){var a=s(6),i=s(5);r.a=function(u,_){var l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],d=arguments[3];return Array.isArray(_)?s.i(i.a)(a.a,_,d)(u,_,l,d):s.i(a.a)(u,_,l,d)}},function(e,r,s){function a(b){b.component(d.a.name,d.a),b.directive("mask",_.a)}Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),u=s.n(i),_=s(1),l=s(7),d=s.n(l);s.d(r,"TheMask",function(){return d.a}),s.d(r,"mask",function(){return _.a}),s.d(r,"tokens",function(){return u.a}),s.d(r,"version",function(){return g});var g="0.11.1";r.default=a,typeof window<"u"&&window.Vue&&window.Vue.use(a)},function(e,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(1),i=s(0),u=s.n(i),_=s(2);r.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return u.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(l){l!==this.lastValue&&(this.display=l)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(l){l.isTrusted||this.refresh(l.target.value)},refresh:function(d){this.display=d;var d=s.i(_.a)(d,this.mask,this.masked,this.tokens);d!==this.lastValue&&(this.lastValue=d,this.$emit("input",d))}}}},function(e,r,s){function a(i,u,_){return u=u.sort(function(l,d){return l.length-d.length}),function(l,d){for(var g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=0;b<u.length;){var k=u[b];b++;var w=u[b];if(!(w&&i(l,w,!0,_).length>k.length))return i(l,k,g,_)}return""}}r.a=a},function(e,r,s){function a(i,u){var _=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=arguments[3];i=i||"",u=u||"";for(var d=0,g=0,b="";d<u.length&&g<i.length;){var k=u[d],w=l[k],$=i[g];w&&!w.escape?(w.pattern.test($)&&(b+=w.transform?w.transform($):$,d++),g++):(w&&w.escape&&(d++,k=u[d]),_&&(b+=k),$===k&&g++,d++)}for(var F="";d<u.length&&_;){var k=u[d];if(l[k]){F="";break}F+=k,d++}return b+F}r.a=a},function(e,r,s){var a=s(8)(s(4),s(9),null,null);e.exports=a.exports},function(e,r){e.exports=function(s,a,i,u){var _,l=s=s||{},d=typeof s.default;d!=="object"&&d!=="function"||(_=s,l=s.default);var g=typeof l=="function"?l.options:l;if(a&&(g.render=a.render,g.staticRenderFns=a.staticRenderFns),i&&(g._scopeId=i),u){var b=g.computed||(g.computed={});Object.keys(u).forEach(function(k){var w=u[k];b[k]=function(){return w}})}return{esModule:_,exports:l,options:g}}},function(e,r){e.exports={render:function(){var s=this,a=s.$createElement;return(s._self._c||a)("input",{directives:[{name:"mask",rawName:"v-mask",value:s.config,expression:"config"}],attrs:{type:"text"},domProps:{value:s.display},on:{input:s.onInput}})},staticRenderFns:[]}},function(e,r,s){e.exports=s(3)}])})})(V);var Oe=V.exports;const Ve={class:"offcanvas offcanvas-end",tabindex:"-1",id:"cart","aria-labelledby":"cart"},Ie=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title font-bold"},"Вы выбрали"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),Be={key:0,class:"offcanvas-body"},Re=t("div",{class:"hr my-3"},null,-1),Ue={key:1,class:"offcanvas-body"},Qe=t("div",{class:"card"},[t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")])],-1),Ze=[Qe],Ge={key:2,class:"offcanvas-footer p-3"},Je={class:"card"},He={class:"card-body"},Xe={class:"font-bold"},Ke=t("p",{class:"mb-2"},[t("small",null,"Возможно в рассрочку!")],-1),We=t("p",{class:"mb-2",style:{"line-height":"80%"}},[t("small",null,"От цвета шпона или цвета покраски стекла цена не зависит, просто уточните эти детали в бесседе с менеджером")],-1),Ye={key:0},et={class:"form-floating mb-3"},tt=t("label",{for:"checkout-name"},"Ваше Ф.И.О.",-1),st={class:"form-floating mb-3"},ot=t("label",{for:"checkout-phone"},"Ваш номер телефона",-1),at={class:"form-floating mb-3"},nt=t("label",{for:"checkout-email"},"Ваш email",-1),rt={class:"form-floating"},it=t("label",{for:"checkout-info"},"Дополнительная информация",-1),lt=t("button",{class:"btn btn-primary w-100 my-2"},"Отправить",-1),ct={directives:{mask:Oe.mask},computed:{...N(["getErrors","cartTotalCount","cartTotalPrice","cartProducts"])},data(){return{step:0,clientForm:{name:null,phone:null,email:null,info:null,items:[]}}},methods:{clearCart(){this.$store.dispatch("clearCart").then(h=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"})}).catch(h=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},downloadCartExcel(){let h=this.cartProducts,o=new FormData;o.append("items",JSON.stringify(h)),this.$store.dispatch("downloadExcel",{cardData:o}).then(e=>{var r=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=r,s.setAttribute("download","cart.xls"),document.body.appendChild(s),s.click(),this.$notify({title:"DoDoors",text:"Excel успешно скачан!",type:"success"})}).catch(e=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},submit(){this.clientForm.items=this.cartProducts;let h=new FormData;Object.keys(this.clientForm).forEach(o=>{const e=this.clientForm[o]||"";typeof e=="object"?h.append(o,JSON.stringify(e)):h.append(o,e)}),h.append("total_price",this.cartTotalPrice),h.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:h}).then(o=>{this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(o=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},ut=Object.assign(ct,{__name:"CalcCartSimple",setup(h){return(o,e)=>{const r=Z("mask");return n(),p("div",Ve,[Ie,o.cartProducts.length>0?(n(),p("div",Be,[(n(!0),p(O,null,G(o.cartProducts,s=>(n(),v(Ne,{item:s},null,8,["item"]))),256)),Re,t("button",{onClick:e[0]||(e[0]=(...s)=>o.downloadCartExcel&&o.downloadCartExcel(...s)),class:"btn btn-outline-success rounded-5 w-100 mb-2"}," Скачать в виде Excel-файла "),t("button",{onClick:e[1]||(e[1]=(...s)=>o.clearCart&&o.clearCart(...s)),class:"btn btn-outline-danger rounded-5 w-100 mb-2"}," Очистить корзину ")])):(n(),p("div",Ue,Ze)),o.cartProducts.length>0?(n(),p("div",Ge,[t("div",Je,[t("div",He,[t("h6",Xe,"Итого цена "+y(o.cartTotalPrice)+" ₽",1),Ke,We,o.step===0?(n(),p("div",Ye,[t("button",{class:"btn btn-outline-primary rounded-5 w-100 mb-2",onClick:e[2]||(e[2]=s=>o.step=1)},"Обсудить заказ с менеджером "),t("button",{class:"btn btn-outline-primary rounded-5 w-100 mb-2",onClick:e[3]||(e[3]=s=>o.step=1)},"Получить цену на почту "),t("button",{class:"btn btn-outline-primary rounded-5 w-100 mb-2",onClick:e[4]||(e[4]=s=>o.step=1)},"Получить цену в Telegram ")])):c("",!0),o.step===1?(n(),p("form",{key:1,onSubmit:e[10]||(e[10]=J((...s)=>o.submit&&o.submit(...s),["prevent"]))},[t("div",et,[T(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=s=>o.clientForm.name=s),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[j,o.clientForm.name]]),tt]),t("div",st,[T(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=s=>o.clientForm.phone=s),id:"checkout-phone",placeholder:"name@example.com",required:""},null,512),[[r,"+7(###)###-##-##"],[j,o.clientForm.phone]]),ot]),t("div",at,[T(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=s=>o.clientForm.email=s),id:"checkout-email",placeholder:"name@example.com",required:""},null,512),[[j,o.clientForm.email]]),nt]),t("div",rt,[T(t("textarea",{class:"form-control","onUpdate:modelValue":e[8]||(e[8]=s=>o.clientForm.info=s),placeholder:"Оставьте свой комментарий",id:"checkout-info"},null,512),[[j,o.clientForm.info]]),it]),lt,t("button",{class:"btn btn-outline-secondary w-100",onClick:e[9]||(e[9]=s=>o.step=0)},"Назад")],32)):c("",!0)])])])):c("",!0)])}}}),dt={class:"min-h-screen bg-gray-100"},ft={class:"bg-white border-b border-gray-100"},mt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ht={class:"flex justify-between h-16"},pt={class:"flex"},vt={class:"shrink-0 flex items-center"},gt={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},_t={class:"badge bg-danger ml-1 rounded-full"},yt={class:"hidden sm:flex sm:items-center sm:ms-6"},bt={class:"ms-3 relative"},kt={class:"inline-flex rounded-md"},wt={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},$t=t("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Ct={class:"-me-2 flex items-center sm:hidden"},xt={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Et={class:"pt-2 pb-3 space-y-1"},Dt={class:"pt-4 pb-1 border-t border-gray-200"},Pt={class:"px-4"},Tt={class:"font-medium text-base text-gray-800"},Ft={class:"font-medium text-sm text-gray-500"},jt={class:"mt-3 space-y-1"},Lt=t("hr",null,null,-1),St={class:"mt-3 space-y-1"},Mt=t("i",{class:"fa-solid fa-lock"},null,-1),qt=t("i",{class:"fa-solid fa-lock"},null,-1),At={key:0,class:"bg-white shadow"},zt={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Nt={key:0,class:"cart-fixed-btn"},Ot={class:"btn btn-outline-primary rounded-5 shadow-lg","data-bs-toggle":"offcanvas",href:"#cart",role:"button","aria-controls":"cart"},Vt=t("i",{class:"fa-solid fa-basket-shopping text-primary"},null,-1),It={class:"badge text-primary font-bold"},Bt={class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"main-side-admin-menu","aria-labelledby":"offcanvasExampleLabel"},Rt=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"}," DoDoors "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("i",{class:"fa-solid fa-xmark"})])],-1),Ut={class:"offcanvas-body"},Qt={class:"d-flex flex-col align-items-center"},Zt={computed:{...N(["getErrors","cartTotalCount","cartProducts"])},mounted(){console.log(this.$page.props.auth)},methods:{hasRoles(h){return(this.$page.props.auth.roles||[]).includes(h)},can(h){return(this.$page.props.auth.permissions||[]).includes(h)}}},Xt=Object.assign(Zt,{__name:"AuthenticatedLayout",setup(h){const o=z(!1);return(e,r)=>{const s=H("notifications");return n(),p(O,null,[t("div",null,[E(s,{position:"top right"}),t("div",dt,[t("nav",ft,[t("div",mt,[t("div",ht,[t("div",pt,[t("div",vt,[E(S(M),{href:e.route("dashboard")},{default:f(()=>[E(I,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),t("div",gt,[e.hasRoles("administrator")?(n(),v(C,{key:0,"data-bs-toggle":"offcanvas",href:"#main-side-admin-menu",role:"button","aria-controls":"main-side-admin-menu"},{default:f(()=>[m(" Админ.меню ")]),_:1})):c("",!0),E(C,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:f(()=>[m(" Главная ")]),_:1},8,["href","active"]),e.can("manage-calc")?(n(),v(C,{key:1,href:e.route("calc"),active:e.route().current("calc")},{default:f(()=>[m(" Калькулятор ")]),_:1},8,["href","active"])):c("",!0),e.cartTotalCount>0?(n(),v(C,{key:2,href:e.route("basket"),active:e.route().current("basket")},{default:f(()=>[m(" Корзина "),t("span",_t,y(e.cartTotalCount),1)]),_:1},8,["href","active"])):c("",!0)])]),t("div",yt,[t("div",bt,[E(W,{align:"right",width:"48"},{trigger:f(()=>[t("span",kt,[t("button",wt,[m(y(e.$page.props.auth.user.name)+" ",1),$t])])]),content:f(()=>[E(A,{href:e.route("profile.edit")},{default:f(()=>[m(" Профиль ")]),_:1},8,["href"]),E(A,{href:e.route("logout"),method:"post",as:"button"},{default:f(()=>[m(" Выход ")]),_:1},8,["href"])]),_:1})])]),t("div",Ct,[t("button",{onClick:r[0]||(r[0]=a=>o.value=!o.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[(n(),p("svg",xt,[t("path",{class:D({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),t("path",{class:D({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),t("div",{class:D([{block:o.value,hidden:!o.value},"sm:hidden"])},[t("div",Et,[E(x,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:f(()=>[m(" Главная страница ")]),_:1},8,["href","active"])]),t("div",Dt,[t("div",Pt,[t("div",Tt,y(e.$page.props.auth.user.name),1),t("div",Ft,y(e.$page.props.auth.user.email),1)]),t("div",jt,[E(x,{href:e.route("profile.edit")},{default:f(()=>[m(" Профиль ")]),_:1},8,["href"]),E(x,{href:e.route("logout"),method:"post",as:"button"},{default:f(()=>[m(" Выход ")]),_:1},8,["href"]),Lt]),t("div",St,[e.can("manage-users")?(n(),v(x,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:f(()=>[m(" Пользователи ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-clients")?(n(),v(x,{key:1,class:"p-3"},{default:f(()=>[m(" Клиенты "),Mt]),_:1})):c("",!0),e.can("manage-orders")?(n(),v(x,{key:2,class:"p-3"},{default:f(()=>[m(" Заказы "),qt]),_:1})):c("",!0),e.can("manage-materials")?(n(),v(x,{key:3,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:f(()=>[m(" Материалы ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-handles")?(n(),v(x,{key:4,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:f(()=>[m(" Ручки ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-hinges")?(n(),v(x,{key:5,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:f(()=>[m(" Петли ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-door-variants")?(n(),v(x,{key:6,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:f(()=>[m(" Типы дверей ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-colors")?(n(),v(x,{key:7,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:f(()=>[m(" Цвета ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-sizes")?(n(),v(x,{key:8,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:f(()=>[m(" Размеры ")]),_:1},8,["href","active"])):c("",!0)])])],2)]),e.$slots.header?(n(),p("header",At,[t("div",zt,[P(e.$slots,"header")])])):c("",!0),t("main",null,[P(e.$slots,"default")])])]),e.cartTotalCount>0?(n(),p("div",Nt,[t("a",Ot,[Vt,t("span",It,y(e.cartTotalCount)+" шт.",1)])])):c("",!0),E(ut),t("div",Bt,[Rt,t("div",Ut,[t("div",null,[t("nav",Qt,[e.can("manage-users")?(n(),v(C,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:f(()=>[m(" Пользователи ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-clients")?(n(),v(C,{key:1,class:"p-3",href:e.route("clients"),active:e.route().current("clients")},{default:f(()=>[m(" Клиенты ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-orders")?(n(),v(C,{key:2,class:"p-3",href:e.route("orders"),active:e.route().current("orders")},{default:f(()=>[m(" Заказы ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-materials")?(n(),v(C,{key:3,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:f(()=>[m(" Материалы ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-handles")?(n(),v(C,{key:4,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:f(()=>[m(" Ручки ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-hinges")?(n(),v(C,{key:5,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:f(()=>[m(" Петли ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-door-variants")?(n(),v(C,{key:6,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:f(()=>[m(" Типы дверей ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-colors")?(n(),v(C,{key:7,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:f(()=>[m(" Цвета ")]),_:1},8,["href","active"])):c("",!0),e.can("manage-sizes")?(n(),v(C,{key:8,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:f(()=>[m(" Размеры ")]),_:1},8,["href","active"])):c("",!0)])])])])],64)}}});export{Xt as _};
