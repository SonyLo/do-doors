import{A as B}from"./ApplicationLogo-4aOqyZwU.js";import{B as x,D as Q,G as M,x as z,o as n,c,a as t,I as P,b as T,S as I,g as D,k as h,q as E,T as Z,f as v,u as V,Y as q,t as b,e as i,d as m,a0 as G,m as O,h as J,F as L,r as A,w as K,v as j,p as N,$ as X,_ as Y}from"./app-18_fjooi.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"relative"},ee={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(u){const o=u,e=l=>{a.value&&l.key==="Escape"&&(a.value=!1)};x(()=>document.addEventListener("keydown",e)),Q(()=>document.removeEventListener("keydown",e));const r=M(()=>({48:"w-48"})[o.width.toString()]),s=M(()=>o.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":o.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),a=z(!1);return(l,f)=>(n(),c("div",W,[t("div",{onClick:f[0]||(f[0]=y=>a.value=!a.value)},[P(l.$slots,"trigger")]),T(t("div",{class:"fixed inset-0 z-40",onClick:f[1]||(f[1]=y=>a.value=!1)},null,512),[[I,a.value]]),D(Z,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:h(()=>[T(t("div",{class:E(["absolute z-50 mt-2 rounded-md shadow-lg",[r.value,s.value]]),style:{display:"none"},onClick:f[2]||(f[2]=y=>a.value=!1)},[t("div",{class:E(["rounded-md ring-1 ring-black ring-opacity-5",u.contentClasses])},[P(l.$slots,"content")],2)],2),[[I,a.value]])]),_:3})]))}},U={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(u){return(o,e)=>(n(),v(V(q),{href:u.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:h(()=>[P(o.$slots,"default")]),_:3},8,["href"]))}},w={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(u){const o=u,e=M(()=>o.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(r,s)=>(n(),v(V(q),{href:u.href,class:E(e.value)},{default:h(()=>[P(r.$slots,"default")]),_:3},8,["href","class"]))}},F={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(u){const o=u,e=M(()=>o.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(r,s)=>(n(),v(V(q),{href:u.href,class:E(e.value)},{default:h(()=>[P(r.$slots,"default")]),_:3},8,["href","class"]))}},te={props:["item"],methods:{editDoorItem(){window.dispatchEvent(new CustomEvent("select-door-item",{detail:{item:this.item}}))},removeProduct(){this.$store.dispatch("removeProduct",this.item.product.id)},changeQuantityProductInCart(u="increment"){let o=u==="increment"?this.item.quantity+1:this.item.quantity-1;if(o===0){this.$store.dispatch("removeProduct",this.item.product.id);return}this.$store.dispatch("setQuantity",{id:this.item.product.id,quantity:o})}}},se={class:"card mb-2 rounded-0"},oe={class:"card-body"},ne={class:"row"},ae={class:"col-md-12"},re={class:"text-muted font-bold"},ie={class:"text-black mb-0"},le={key:0},de={key:1,class:"ml-1"},ue={key:2,class:"ml-1"},ce={key:3},me={key:4,class:"ml-1"},he={key:5,class:"ml-1"},fe={key:6,class:"ml-1"},pe={key:7,class:"ml-1"},ve={key:8,class:"ml-1"},be={key:9,class:"ml-1"},ge={key:10,class:"ml-1"},ye={key:11,class:"ml-1"},_e={key:12,class:"ml-1"},ke={key:13,class:"ml-1"},we={key:14,class:"ml-1"},$e={key:15,class:"ml-1"},Ce={key:16,class:"ml-1"},Fe={class:"row d-flex align-items-center"},De={class:"col-5 col-md-5 col-lg-5 col-xl-5 d-flex justify-content-center mt-2"},Te=t("i",{class:"fas fa-minus"},null,-1),Ee=[Te],Pe={class:"btn",style:{color:"black"}},Se=t("i",{class:"fas fa-plus"},null,-1),je=[Se],Le={class:"col-5 col-md-5 col-lg-5 col-xl-5"},Me={class:"mb-0 text-center font-bold"},Ve={class:"col-2 col-md-2 col-lg-2 col-xl-2 text-center"},qe=t("i",{class:"fas fa-times"},null,-1),Ie=[qe],Ae={class:"col-12"},Ne=t("i",{class:"fa-regular fa-pen-to-square mr-2"},null,-1);function Ue(u,o,e,r,s,a){return n(),c("div",se,[t("div",oe,[t("div",ne,[t("div",ae,[t("h6",re,b(e.item.product.door_type.title)+" "+b(e.item.product.width)+"x"+b(e.item.product.height)+"x"+b(e.item.product.depth),1),t("h6",ie,[e.item.product.box_and_frame_color.title?(n(),c("span",le,"("+b(e.item.product.box_and_frame_color.title)+")",1)):i("",!0),m(" лицо "),e.item.product.front_side_finish.title?(n(),c("span",de,b(e.item.product.front_side_finish.title),1)):i("",!0),m("/ "),e.item.product.back_side_finish.title?(n(),c("span",ue,b(e.item.product.back_side_finish.title)+",",1)):i("",!0),m(" петли "),e.item.product.loops.title?(n(),c("span",ce,b(e.item.product.loops.title)+",",1)):i("",!0),e.item.product.hinge_manufacturer.title?(n(),c("span",me,b(e.item.product.hinge_manufacturer.title)+",",1)):i("",!0),e.item.product.fittings_color.title?(n(),c("span",he,"("+b(e.item.product.fittings_color.title)+"),",1)):i("",!0),e.item.product.opening_type.title?(n(),c("span",fe,b(e.item.product.opening_type.title)+",",1)):i("",!0),e.item.product.handle_holes.title?(n(),c("span",pe,b(e.item.product.handle_holes.title)+",",1)):i("",!0),e.item.product.need_automatic_doorstep?(n(),c("span",ve," автоматический порожек,")):i("",!0),e.item.product.need_upper_jumper?(n(),c("span",be," верхняя перемычка,")):i("",!0),e.item.product.need_handle_holes?(n(),c("span",ge," дверная ручка,")):i("",!0),e.item.product.handle_holes_type.title?(n(),c("span",ye,b(e.item.product.handle_holes_type.title)+",",1)):i("",!0),e.item.product.handle_holes.title?(n(),c("span",_e,b(e.item.product.handle_holes.title)+",",1)):i("",!0),e.item.product.need_hidden_door_closer?(n(),c("span",ke," скрытый доводчик,")):i("",!0),e.item.product.need_hidden_skirting_board?(n(),c("span",we," скрытый плинтус,")):i("",!0),e.item.product.need_hidden_stopper?(n(),c("span",$e," скрытый стопор,")):i("",!0),e.item.product.need_door_install?(n(),c("span",Ce," установка двери")):i("",!0)])])]),t("div",Fe,[t("div",De,[t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:o[0]||(o[0]=l=>a.changeQuantityProductInCart("decrement"))},Ee),t("span",Pe,b(e.item.quantity),1),t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:o[1]||(o[1]=l=>a.changeQuantityProductInCart("increment"))},je)]),t("div",Le,[t("h6",Me,b(e.item.quantity*(e.item.product.price||0))+" ₽",1)]),t("div",Ve,[t("a",{href:"javascript:void(0)",onClick:o[2]||(o[2]=(...l)=>a.removeProduct&&a.removeProduct(...l)),class:"text-muted"},Ie)]),t("div",Ae,[t("button",{type:"button",style:{color:"black"},class:"btn btn-link",onClick:o[3]||(o[3]=(...l)=>a.editDoorItem&&a.editDoorItem(...l))},[Ne,m("Редактировать")])])])])])}const ze=H(te,[["render",Ue]]);var R={exports:{}};(function(u,o){(function(e,r){u.exports=r()})(G,function(){return function(e){function r(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var s={};return r.m=e,r.c=s,r.i=function(a){return a},r.d=function(a,l,f){r.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:f})},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p=".",r(r.s=10)}([function(e,r){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(s){return s.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(s){return s.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,r,s){function a(d){var p=document.createEvent("Event");return p.initEvent(d,!0,!0),p}var l=s(2),f=s(0),y=s.n(f);r.a=function(d,p){var g=p.value;if((Array.isArray(g)||typeof g=="string")&&(g={mask:g,tokens:y.a}),d.tagName.toLocaleUpperCase()!=="INPUT"){var _=d.getElementsByTagName("input");if(_.length!==1)throw new Error("v-mask directive requires 1 input, found "+_.length);d=_[0]}d.oninput=function($){if($.isTrusted){var C=d.selectionEnd,S=d.value[C-1];for(d.value=s.i(l.a)(d.value,g.mask,!0,g.tokens);C<d.value.length&&d.value.charAt(C-1)!==S;)C++;d===document.activeElement&&(d.setSelectionRange(C,C),setTimeout(function(){d.setSelectionRange(C,C)},0)),d.dispatchEvent(a("input"))}};var k=s.i(l.a)(d.value,g.mask,!0,g.tokens);k!==d.value&&(d.value=k,d.dispatchEvent(a("input")))}},function(e,r,s){var a=s(6),l=s(5);r.a=function(f,y){var d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=arguments[3];return Array.isArray(y)?s.i(l.a)(a.a,y,p)(f,y,d,p):s.i(a.a)(f,y,d,p)}},function(e,r,s){function a(_){_.component(p.a.name,p.a),_.directive("mask",y.a)}Object.defineProperty(r,"__esModule",{value:!0});var l=s(0),f=s.n(l),y=s(1),d=s(7),p=s.n(d);s.d(r,"TheMask",function(){return p.a}),s.d(r,"mask",function(){return y.a}),s.d(r,"tokens",function(){return f.a}),s.d(r,"version",function(){return g});var g="0.11.1";r.default=a,typeof window<"u"&&window.Vue&&window.Vue.use(a)},function(e,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a=s(1),l=s(0),f=s.n(l),y=s(2);r.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return f.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(d){d!==this.lastValue&&(this.display=d)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(d){d.isTrusted||this.refresh(d.target.value)},refresh:function(p){this.display=p;var p=s.i(y.a)(p,this.mask,this.masked,this.tokens);p!==this.lastValue&&(this.lastValue=p,this.$emit("input",p))}}}},function(e,r,s){function a(l,f,y){return f=f.sort(function(d,p){return d.length-p.length}),function(d,p){for(var g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=0;_<f.length;){var k=f[_];_++;var $=f[_];if(!($&&l(d,$,!0,y).length>k.length))return l(d,k,g,y)}return""}}r.a=a},function(e,r,s){function a(l,f){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],d=arguments[3];l=l||"",f=f||"";for(var p=0,g=0,_="";p<f.length&&g<l.length;){var k=f[p],$=d[k],C=l[g];$&&!$.escape?($.pattern.test(C)&&(_+=$.transform?$.transform(C):C,p++),g++):($&&$.escape&&(p++,k=f[p]),y&&(_+=k),C===k&&g++,p++)}for(var S="";p<f.length&&y;){var k=f[p];if(d[k]){S="";break}S+=k,p++}return _+S}r.a=a},function(e,r,s){var a=s(8)(s(4),s(9),null,null);e.exports=a.exports},function(e,r){e.exports=function(s,a,l,f){var y,d=s=s||{},p=typeof s.default;p!=="object"&&p!=="function"||(y=s,d=s.default);var g=typeof d=="function"?d.options:d;if(a&&(g.render=a.render,g.staticRenderFns=a.staticRenderFns),l&&(g._scopeId=l),f){var _=g.computed||(g.computed={});Object.keys(f).forEach(function(k){var $=f[k];_[k]=function(){return $}})}return{esModule:y,exports:d,options:g}}},function(e,r){e.exports={render:function(){var s=this,a=s.$createElement;return(s._self._c||a)("input",{directives:[{name:"mask",rawName:"v-mask",value:s.config,expression:"config"}],attrs:{type:"text"},domProps:{value:s.display},on:{input:s.onInput}})},staticRenderFns:[]}},function(e,r,s){e.exports=s(3)}])})})(R);var Oe=R.exports;const Re={class:"offcanvas offcanvas-end",tabindex:"-1",id:"cart","aria-labelledby":"cart"},Be={class:"offcanvas-header"},xe={class:"offcanvas-title font-bold"},Qe={key:0},Ze={key:1},Ge=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Je={key:0,class:"offcanvas-body"},Ke=t("div",{class:"hr my-3"},null,-1),Xe={key:1,class:"card"},Ye=t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")],-1),He=[Ye],We={key:1,class:"offcanvas-body"},et={class:"input-group mb-3"},tt={class:"form-floating"},st=t("label",{for:"checkout-name"},"Ваше Ф.И.О.",-1),ot={key:0,class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},nt=t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"},null,-1),at=[nt],rt={class:"dropdown-menu dropdown-menu-end rounded-0"},it=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),lt=["onClick"],dt={class:"form-floating mb-3"},ut=t("label",{for:"checkout-phone"},"Ваш номер телефона",-1),ct={class:"form-floating mb-3"},mt=t("label",{for:"checkout-email"},"Ваш email",-1),ht={class:"form-floating"},ft=t("label",{for:"checkout-info"},"Дополнительная информация",-1),pt={class:"row my-3"},vt={class:"col-md-6"},bt={class:"form-check"},gt=t("label",{class:"form-check-label",for:"work-with-nds"}," Работаю с НДС ",-1),yt={class:"col-md-6"},_t={class:"form-check"},kt=t("label",{class:"form-check-label",for:"work-without-nds"}," Работаю без НДС ",-1),wt=t("hr",{class:"hr hr-blurry my-3"},null,-1),$t={class:"font-bold"},Ct={key:0},Ft={class:"form-floating mb-3"},Dt=t("label",{for:"checkout-promo"},"Промокод",-1),Tt=t("button",{class:"btn btn-dark w-100 my-2 rounded-0"},"Отправить",-1),Et={key:2,class:"offcanvas-footer p-3"},Pt={class:"card rounded-0"},St={class:"card-body"},jt={class:"font-bold"},Lt=t("p",{class:"mb-2"},[t("small",null,"Возможно в рассрочку!")],-1),Mt=t("p",{class:"mb-2",style:{"line-height":"80%"}},[t("small",null,"От цвета шпона или цвета покраски стекла цена не зависит, просто уточните эти детали в беседе с менеджером")],-1),Vt={key:0},qt={directives:{mask:Oe.mask},computed:{...O(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"])},data(){return{tab:0,step:0,discount:0,self_clients:[],clientForm:{client_id:null,name:null,phone:null,email:null,info:null,promo:null,work_with_nds:1,items:[]}}},mounted(){this.loadSelfClients()},methods:{back(){this.step=0,this.tab=0},checkout(){this.step=1,this.tab=1},preparedLawStatus(u){let e=(this.getDictionary.statuses||[]).find(r=>r.value===u)||null;return e?e.title:null},selectInfo(u){if(console.log(u),u==null){this.clientForm.id=null,this.clientForm.name=null,this.clientForm.email=null,this.clientForm.phone=null;return}this.clientForm.id=u.id||null,this.clientForm.name=u.title||null,this.clientForm.email=u.email||null,this.clientForm.phone=u.phone||null},clearCart(){this.$store.dispatch("clearCart").then(u=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"})}).catch(u=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},findPromo(){this.discount=0,!((this.clientForm.promo||"").length<=5)&&this.$store.dispatch("findPromoCode",{code:this.clientForm.promo}).then(u=>{this.discount=u.discount||0})},downloadCartExcel(){let u=this.cartProducts,o=new FormData;o.append("items",JSON.stringify(u)),this.$store.dispatch("downloadExcel",{cardData:o}).then(e=>{var r=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=r,s.setAttribute("download","cart.xls"),document.body.appendChild(s),s.click(),this.$notify({title:"DoDoors",text:"Excel успешно скачан!",type:"success"})}).catch(e=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},loadSelfClients(){this.$store.dispatch("loadSelfClients").then(u=>{this.self_clients=u.data||[]}).catch(()=>{})},submit(){this.clientForm.items=this.cartProducts;let u=new FormData;Object.keys(this.clientForm).forEach(o=>{const e=this.clientForm[o]||"";typeof e=="object"?u.append(o,JSON.stringify(e)):u.append(o,e)}),u.append("total_price",this.cartTotalPrice),u.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:u}).then(o=>{this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(o=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},It=Object.assign(qt,{__name:"CalcCartSimple",setup(u){return(o,e)=>{const r=J("mask");return n(),c("div",Re,[t("div",Be,[t("h5",xe,[o.tab===0?(n(),c("span",Qe,"Вы выбрали")):i("",!0),o.tab===1?(n(),c("span",Ze,"Оформление заказа")):i("",!0)]),Ge]),o.tab===0?(n(),c("div",Je,[o.cartProducts.length>0?(n(),c(L,{key:0},[(n(!0),c(L,null,A(o.cartProducts,s=>(n(),v(ze,{item:s},null,8,["item"]))),256)),Ke,t("button",{onClick:e[0]||(e[0]=(...s)=>o.downloadCartExcel&&o.downloadCartExcel(...s)),class:"btn btn-dark rounded-0 w-100 mb-2"}," Скачать в виде Excel-файла "),t("button",{onClick:e[1]||(e[1]=(...s)=>o.clearCart&&o.clearCart(...s)),class:"btn btn-outline-secondary rounded-0 w-100 mb-2"}," Очистить корзину ")],64)):(n(),c("div",Xe,He))])):i("",!0),o.tab===1?(n(),c("div",We,[o.step===1?(n(),c("form",{key:0,onSubmit:e[12]||(e[12]=K((...s)=>o.submit&&o.submit(...s),["prevent"]))},[t("div",et,[t("div",tt,[T(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>o.clientForm.name=s),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[j,o.clientForm.name]]),st]),o.self_clients.length>0?(n(),c("button",ot,at)):i("",!0),t("ul",rt,[t("li",null,[t("a",{class:"dropdown-item",onClick:e[3]||(e[3]=s=>o.selectInfo(null)),href:"javascript:void(0)"},"Не выбрано")]),it,t("li",null,[(n(!0),c(L,null,A(o.self_clients,s=>(n(),c("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:a=>o.selectInfo(s)},b(s.title||null)+" ("+b(o.preparedLawStatus(s.status)||"Не указан")+")",9,lt))),256))])])]),t("div",dt,[T(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=s=>o.clientForm.phone=s),id:"checkout-phone",placeholder:"name@example.com",required:""},null,512),[[r,"+7(###)###-##-##"],[j,o.clientForm.phone]]),ut]),t("div",ct,[T(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=s=>o.clientForm.email=s),id:"checkout-email",placeholder:"name@example.com",required:""},null,512),[[j,o.clientForm.email]]),mt]),t("div",ht,[T(t("textarea",{class:"form-control border-secondary rounded-0","onUpdate:modelValue":e[6]||(e[6]=s=>o.clientForm.info=s),placeholder:"Оставьте свой комментарий",id:"checkout-info"},null,512),[[j,o.clientForm.info]]),ft]),t("div",pt,[t("div",vt,[t("div",bt,[T(t("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":e[7]||(e[7]=s=>o.clientForm.work_with_nds=s),name:"flexRadioDefault",id:"work-with-nds"},null,512),[[N,o.clientForm.work_with_nds]]),gt])]),t("div",yt,[t("div",_t,[T(t("input",{class:"form-check-input",type:"radio",value:"0",name:"flexRadioDefault","onUpdate:modelValue":e[8]||(e[8]=s=>o.clientForm.work_with_nds=s),id:"work-without-nds"},null,512),[[N,o.clientForm.work_with_nds]]),kt])])]),wt,t("h6",$t,[m("Итого цена "+b(Math.round(o.cartTotalPrice*(1-o.discount/100)))+" ₽ ",1),o.discount>0?(n(),c("span",Ct,"(скидка "+b(o.discount)+"%)",1)):i("",!0)]),t("div",Ft,[T(t("input",{type:"text",class:"form-control",onKeyup:e[9]||(e[9]=(...s)=>o.findPromo&&o.findPromo(...s)),"onUpdate:modelValue":e[10]||(e[10]=s=>o.clientForm.promo=s),id:"checkout-promo",placeholder:"name@example.com"},null,544),[[j,o.clientForm.promo]]),Dt]),Tt,t("button",{class:"btn btn-outline-secondary w-100 rounded-0",onClick:e[11]||(e[11]=(...s)=>o.back&&o.back(...s))},"Назад")],32)):i("",!0)])):i("",!0),o.cartProducts.length>0&&o.tab===0?(n(),c("div",Et,[t("div",Pt,[t("div",St,[t("h6",jt,"Итого цена "+b(o.cartTotalPrice)+" ₽",1),Lt,Mt,o.step===0?(n(),c("div",Vt,[t("button",{class:"btn btn-dark rounded-0 w-100 mb-2",onClick:e[13]||(e[13]=(...s)=>o.checkout&&o.checkout(...s))},"Обсудить заказ с менеджером "),t("button",{class:"btn btn-outline-secondary rounded-0 w-100 mb-2",onClick:e[14]||(e[14]=(...s)=>o.checkout&&o.checkout(...s))},"Получить цену на почту "),t("button",{class:"btn btn-outline-secondary rounded-0 w-100 mb-2",onClick:e[15]||(e[15]=(...s)=>o.checkout&&o.checkout(...s))},"Получить цену в Telegram ")])):i("",!0)])])])):i("",!0)])}}}),At={class:"min-h-screen bg-gray-100"},Nt={class:"bg-white border-b border-gray-100"},Ut={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},zt={class:"flex justify-between h-16"},Ot={class:"flex"},Rt={class:"shrink-0 flex items-center"},Bt={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},xt={class:"badge bg-danger ml-1 rounded-full"},Qt={class:"hidden sm:flex sm:items-center sm:ms-6"},Zt={class:"ms-3 relative"},Gt={class:"inline-flex rounded-0"},Jt={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-0 text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},Kt=t("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Xt={class:"-me-2 flex items-center sm:hidden"},Yt={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Ht={class:"pt-2 pb-3 space-y-1"},Wt={class:"pt-4 pb-1 border-t border-gray-200"},es={class:"px-4"},ts={class:"font-medium text-base text-gray-800"},ss={class:"font-medium text-sm text-gray-500"},os={class:"mt-3 space-y-1"},ns=t("hr",null,null,-1),as={class:"mt-3 space-y-1"},rs=t("i",{class:"fa-solid fa-lock"},null,-1),is=t("i",{class:"fa-solid fa-lock"},null,-1),ls={key:0,class:"bg-white shadow"},ds={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},us=Y('<div class="container border-b border-gray-100"><footer class="py-3 my-4"><div class="d-flex justify-center"><img src="/images/logo.jpg" style="width:100px;" alt=""></div><p class="text-center text-muted">© 2024 DoDoors</p></footer></div>',1),cs={key:0,class:"cart-fixed-btn"},ms={class:"btn rounded-0 shadow-lg","data-bs-toggle":"offcanvas",href:"#cart",role:"button","aria-controls":"cart"},hs=t("i",{class:"fa-solid fa-basket-shopping text-primary"},null,-1),fs={class:"badge text-primary font-bold"},ps={class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"main-side-admin-menu","aria-labelledby":"offcanvasExampleLabel"},vs=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"}," DoDoors "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("i",{class:"fa-solid fa-xmark"})])],-1),bs={class:"offcanvas-body"},gs={class:"row"},ys={class:"col-md-6"},_s=t("i",{class:"fa-solid fa-user-tie mr-2"},null,-1),ks={class:"col-md-6"},ws=t("i",{class:"fa-solid fa-screwdriver-wrench mr-2"},null,-1),$s={class:"py-5"},Cs={key:0,class:"d-flex flex-col align-items-center"},Fs={key:1,class:"d-flex flex-col align-items-center"},Ds={data(){return{menuTab:0}},computed:{...O(["getErrors","cartTotalCount","cartProducts"])},mounted(){console.log(this.$page.props.auth)},methods:{hasRoles(u){return(this.$page.props.auth.roles||[]).includes(u)},can(u){return(this.$page.props.auth.permissions||[]).includes(u)}}},Ss=Object.assign(Ds,{__name:"AuthenticatedLayout",setup(u){const o=z(!1);return(e,r)=>{const s=X("notifications");return n(),c(L,null,[t("div",null,[D(s,{position:"top right"}),t("div",At,[t("nav",Nt,[t("div",Ut,[t("div",zt,[t("div",Ot,[t("div",Rt,[D(V(q),{href:e.route("dashboard")},{default:h(()=>[D(B,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),t("div",Bt,[e.can("manage-vies-adminmenu")?(n(),v(w,{key:0,"data-bs-toggle":"offcanvas",href:"#main-side-admin-menu",role:"button","aria-controls":"main-side-admin-menu"},{default:h(()=>[m(" Админ.меню ")]),_:1})):i("",!0),D(w,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:h(()=>[m(" Главная ")]),_:1},8,["href","active"]),e.cartTotalCount>0?(n(),v(w,{key:1,href:e.route("basket"),active:e.route().current("basket")},{default:h(()=>[m(" Корзина "),t("span",xt,b(e.cartTotalCount),1)]),_:1},8,["href","active"])):i("",!0)])]),t("div",Qt,[t("div",Zt,[D(ee,{align:"right",width:"48"},{trigger:h(()=>[t("span",Gt,[t("button",Jt,[m(b(e.$page.props.auth.user.name)+" ",1),Kt])])]),content:h(()=>[D(U,{href:e.route("profile.edit")},{default:h(()=>[m(" Профиль")]),_:1},8,["href"]),D(U,{href:e.route("logout"),method:"post",as:"button"},{default:h(()=>[m(" Выход ")]),_:1},8,["href"])]),_:1})])]),t("div",Xt,[t("button",{onClick:r[0]||(r[0]=a=>o.value=!o.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[(n(),c("svg",Yt,[t("path",{class:E({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),t("path",{class:E({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),t("div",{class:E([{block:o.value,hidden:!o.value},"sm:hidden"])},[t("div",Ht,[D(F,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:h(()=>[m(" Главная страница ")]),_:1},8,["href","active"])]),t("div",Wt,[t("div",es,[t("div",ts,b(e.$page.props.auth.user.name),1),t("div",ss,b(e.$page.props.auth.user.email),1)]),t("div",os,[D(F,{href:e.route("profile.edit")},{default:h(()=>[m(" Профиль")]),_:1},8,["href"]),D(F,{href:e.route("logout"),method:"post",as:"button"},{default:h(()=>[m(" Выход ")]),_:1},8,["href"]),ns]),t("div",as,[e.can("manage-users")?(n(),v(F,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:h(()=>[m(" Пользователи ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-clients")?(n(),v(F,{key:1,class:"p-3"},{default:h(()=>[m(" Клиенты "),rs]),_:1})):i("",!0),e.can("manage-orders")?(n(),v(F,{key:2,class:"p-3"},{default:h(()=>[m(" Заказы "),is]),_:1})):i("",!0),e.can("manage-materials")?(n(),v(F,{key:3,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:h(()=>[m(" Материалы ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-handles")?(n(),v(F,{key:4,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:h(()=>[m(" Ручки ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-hinges")?(n(),v(F,{key:5,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:h(()=>[m(" Петли ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-door-variants")?(n(),v(F,{key:6,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:h(()=>[m(" Типы дверей ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-colors")?(n(),v(F,{key:7,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:h(()=>[m(" Цвета ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-sizes")?(n(),v(F,{key:8,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:h(()=>[m(" Размеры ")]),_:1},8,["href","active"])):i("",!0)])])],2)]),e.$slots.header?(n(),c("header",ls,[t("div",ds,[P(e.$slots,"header")])])):i("",!0),t("main",null,[P(e.$slots,"default")])])]),us,e.cartTotalCount>0?(n(),c("div",cs,[t("a",ms,[hs,t("span",fs,b(e.cartTotalCount)+" шт.",1)])])):i("",!0),D(It),t("div",ps,[vs,t("div",bs,[t("div",gs,[t("div",ys,[t("button",{class:E(["btn w-100 rounded-0",{"btn-dark":e.menuTab===0,"btn-outline-secondary":e.menuTab!==0}]),onClick:r[1]||(r[1]=a=>e.menuTab=0)},[_s,m("Общее ")],2)]),t("div",ks,[t("button",{class:E(["btn w-100 rounded-0",{"btn-dark":e.menuTab===1,"btn-outline-secondary":e.menuTab!==1}]),onClick:r[2]||(r[2]=a=>e.menuTab=1)},[ws,m("Админ ")],2)])]),t("div",$s,[e.menuTab===0?(n(),c("nav",Cs,[e.can("manage-calc")?(n(),v(w,{key:0,class:"p-3",href:e.route("calc"),active:e.route().current("calc")},{default:h(()=>[m(" Калькулятор ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-clients")?(n(),v(w,{key:1,class:"p-3",href:e.route("clients"),active:e.route().current("clients")},{default:h(()=>[m(" Клиенты ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-orders")?(n(),v(w,{key:2,class:"p-3",href:e.route("orders"),active:e.route().current("orders")},{default:h(()=>[m(" Заказы ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-promo-codes")?(n(),v(w,{key:3,class:"p-3",href:e.route("promo-codes"),active:e.route().current("promo-codes")},{default:h(()=>[m(" Промокоды ")]),_:1},8,["href","active"])):i("",!0)])):i("",!0),e.menuTab===1?(n(),c("nav",Fs,[e.can("manage-users")?(n(),v(w,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:h(()=>[m(" Пользователи ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-roles")?(n(),v(w,{key:1,class:"p-3",href:e.route("roles"),active:e.route().current("roles")},{default:h(()=>[m(" Роли пользователей ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-permissions")?(n(),v(w,{key:2,class:"p-3",href:e.route("permissions"),active:e.route().current("permissions")},{default:h(()=>[m(" Разрешения пользователей ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-materials")?(n(),v(w,{key:3,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:h(()=>[m(" Материалы ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-handles")?(n(),v(w,{key:4,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:h(()=>[m(" Ручки ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-hinges")?(n(),v(w,{key:5,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:h(()=>[m(" Петли ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-door-variants")?(n(),v(w,{key:6,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:h(()=>[m(" Типы дверей ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-colors")?(n(),v(w,{key:7,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:h(()=>[m(" Цвета ")]),_:1},8,["href","active"])):i("",!0),e.can("manage-sizes")?(n(),v(w,{key:8,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:h(()=>[m(" Размеры ")]),_:1},8,["href","active"])):i("",!0)])):i("",!0)])])])],64)}}});export{Ss as _,Oe as v};
