import{_ as he}from"./AuthenticatedLayout-DsbX7nKY.js";import"./CalcForm-DkgBSXoj.js";import{o as i,c as r,a as s,b,v as y,d as $,t as _,e as u,F as L,r as R,w as B,f as z,m as oe,I as le,j as U,g as G,k as D,y as ue,x as Z,E as pe,B as me,W as fe,N as be,q as J,u as ie,Z as ge}from"./app-18_fjooi.js";import{_ as _e}from"./MaterialTable-BuHMi7vb.js";import{P as re}from"./Pagination-CxuXhhjE.js";import"./ApplicationLogo-4aOqyZwU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RalColorSelector-IVGjiu7g.js";const ve={class:"row"},ye={class:"col-12 col-md-6"},we={class:"form-floating mb-3"},ke=s("label",{for:"size-width"},"Ширина, см",-1),$e={class:"col-12 col-md-6"},Me={class:"form-floating mb-3"},Se=s("label",{for:"size-height"},"Высота, см",-1),Fe={class:"row"},Le={class:"col-12 col-md-6"},Ye={class:"form-floating mb-3"},Ce=s("label",{for:"size-price-wholesale"},"Цена опт, руб",-1),Te={class:"col-12 col-md-6"},Xe={class:"form-floating mb-3"},We=s("label",{for:"size-price-dealer"},"Цена дилеру, руб",-1),Ee={class:"col-12 col-md-6"},Re={class:"form-floating mb-3"},He=s("label",{for:"size-price-wholesale"},"Цена опт, руб",-1),ze={class:"col-12 col-md-6"},Pe={class:"form-floating mb-3"},Ae=s("label",{for:"size-price-retail"},"Цена розница, руб",-1),je={class:"col-12 col-md-6"},De={class:"form-floating mb-3"},Oe=s("label",{for:"size-price-cost"},"Себестоимость, руб",-1),Ue={class:"col-12 col-md-6"},Be={class:"form-floating mb-3"},Ie=s("label",{for:"size-price-koef"},"Ценовой коэффициент",-1),Ve={class:"form-floating mb-3"},qe=s("label",{for:"size-loops-count"},"Число петель",-1),Ne={key:0,class:"mb-2"},Ge=s("i",{class:"fa-solid fa-xmark ml-1 text-danger"},null,-1),Ke=[Ge],Je=s("i",{class:"fa-solid fa-scroll mr-2"},null,-1),Ze={class:"row mt-2"},Qe={class:"col-12"},xe={class:"alert alert-danger alert-dismissible fade show",role:"alert"},et=s("strong",null,"Внимание!",-1),tt=["onClick"],st={class:"row mt-5"},ot={class:"col-12 d-flex justify-content-center"},lt=["disabled"],it={key:0,class:"fa-regular fa-floppy-disk mr-1"},rt={key:1,class:"spinner-border spinner-border-sm text-success",role:"status"},nt=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),at={class:"modal fade",id:"select-material-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},dt={class:"modal-dialog modal-lg"},ct={class:"modal-content"},ht={class:"modal-body"},ut=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),pt={props:["item"],data(){return{materialModal:null,messages:[],loading:!1,loadingMaterial:!1,selectedMaterial:null,form:{id:null,width:0,height:0,material_id:null,price:{wholesale:0,dealer:0,retail:0,cost:0},price_koef:0,loops_count:0}}},computed:{needClearForm(){return this.form.id||this.form.width||this.form.height||this.form.size_id||this.form.price||this.form.price_koef||this.form.loops_count}},mounted(){this.materialModal=new bootstrap.Modal(document.getElementById("select-material-modal"),{}),this.item&&this.$nextTick(()=>{this.form={id:this.item.id||null,width:this.item.width||null,height:this.item.height||null,size_id:this.item.size_id||null,price:this.item.price||{wholesale:0,dealer:0,retail:0,cost:0},price_koef:this.item.price_koef||null,loops_count:this.item.loops_count||null,material_id:this.item.material_id||null},this.selectedMaterial=this.item.material||null})},methods:{removeSelectedMaterial(){this.selectedMaterial=null,this.form.material_id=null},openMaterialModal(){this.materialModal.show()},selectMaterial(t){this.selectedMaterial=t,this.form.material_id=t.id,this.loadingMaterial=!0,this.$nextTick(()=>{this.loadingMaterial=!1}),this.materialModal.hide()},alert(t){this.messages.push(t)},resetForm(){this.form={id:this.item.id||null,width:this.item.width||null,height:this.item.height||null,size_id:this.item.size_id||null,price:this.item.price||{wholesale:0,dealer:0,retail:0,cost:0},price_koef:this.item.price_koef||null,loops_count:this.item.loops_count||null},this.$emit("callback")},removeMessage(t){this.messages.splice(t,1)},submit(){let t=new FormData;Object.keys(this.form).forEach(e=>{const o=this.form[e]||"";typeof o=="object"?t.append(e,JSON.stringify(o)):t.append(e,o)}),this.$store.dispatch("storeSize",{sizeForm:t}).then(e=>{this.resetForm(),this.$emit("callback")}).catch(e=>{e.response?this.alert(e.response.data.message):this.alert("Ошибка")})}}},mt=Object.assign(pt,{__name:"SizeForm",setup(t){return(e,o)=>(i(),r(L,null,[s("form",{action:"",onSubmit:o[12]||(o[12]=B((...l)=>e.submit&&e.submit(...l),["prevent"]))},[s("div",ve,[s("div",ye,[s("div",we,[b(s("input",{type:"number","onUpdate:modelValue":o[0]||(o[0]=l=>e.form.width=l),class:"form-control",id:"size-width",required:""},null,512),[[y,e.form.width]]),ke])]),s("div",$e,[s("div",Me,[b(s("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=l=>e.form.height=l),class:"form-control",id:"size-height",required:""},null,512),[[y,e.form.height]]),Se])])]),s("div",Fe,[s("div",Le,[s("div",Ye,[b(s("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=l=>e.form.price.wholesale=l),class:"form-control",id:"size-price-wholesale",required:""},null,512),[[y,e.form.price.wholesale]]),Ce])]),s("div",Te,[s("div",Xe,[b(s("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=l=>e.form.price.dealer=l),class:"form-control",id:"size-price-dealer",required:""},null,512),[[y,e.form.price.dealer]]),We])]),s("div",Ee,[s("div",Re,[b(s("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=l=>e.form.price.wholesale=l),class:"form-control",id:"size-price-wholesale",required:""},null,512),[[y,e.form.price.wholesale]]),He])]),s("div",ze,[s("div",Pe,[b(s("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=l=>e.form.price.retail=l),class:"form-control",id:"size-price-retail",required:""},null,512),[[y,e.form.price.retail]]),Ae])]),s("div",je,[s("div",De,[b(s("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=l=>e.form.price.cost=l),class:"form-control",id:"size-price-cost",required:""},null,512),[[y,e.form.price.cost]]),Oe])]),s("div",Ue,[s("div",Be,[b(s("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=l=>e.form.price_koef=l),step:"0.1",class:"form-control",id:"size-price-koef",required:""},null,512),[[y,e.form.price_koef]]),Ie])])]),s("div",Ve,[b(s("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=l=>e.form.loops_count=l),class:"form-control",id:"size-loops-count",placeholder:"name@example.com"},null,512),[[y,e.form.loops_count]]),qe]),e.selectedMaterial?(i(),r("p",Ne,[$("Вы выбрали материал: "),s("strong",null,_(e.selectedMaterial.title||"-"),1),s("a",{href:"javascript:void(0)",onClick:o[9]||(o[9]=(...l)=>e.removeSelectedMaterial&&e.removeSelectedMaterial(...l))},Ke)])):u("",!0),s("button",{type:"button",class:"btn btn-outline-primary",onClick:o[10]||(o[10]=(...l)=>e.openMaterialModal&&e.openMaterialModal(...l))},[Je,$(" Выберите материал ")]),s("div",Ze,[s("div",Qe,[e.messages.length>0?(i(!0),r(L,{key:0},R(e.messages,(l,a)=>(i(),r("div",xe,[et,$(" "+_(l||"Ошибка")+" ",1),s("button",{type:"button",class:"btn-close",onClick:c=>e.removeMessage(a)},null,8,tt)]))),256)):u("",!0)])]),s("div",st,[s("div",ot,[s("button",{disabled:!e.needClearForm||e.form.material_id==null,class:"btn btn-dark rounded-0"},[e.loading?(i(),r("span",rt)):(i(),r("i",it)),$(" Сохранить размер ")],8,lt),e.needClearForm&&!e.loading?(i(),r("button",{key:0,type:"button",onClick:o[11]||(o[11]=(...l)=>e.resetForm&&e.resetForm(...l)),class:"btn btn-outline-secondary rounded-0 ml-2"},[nt,$(" Очистить форму ")])):u("",!0)])])],32),s("div",at,[s("div",dt,[s("div",ct,[s("div",ht,[e.loadingMaterial?u("",!0):(i(),z(_e,{key:0,onSelect:e.selectMaterial},null,8,["onSelect"]))]),ut])])])],64))}}),ft={class:"dropdown"},bt={class:"btn btn-outline-secondary w-100 p-3",type:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},gt={class:"dropdown-menu w-100"},_t={class:"px-4 py-3"},vt={class:"form-floating mb-3"},yt=s("label",{for:"search-materials"},"Поиск по материалам",-1),wt={key:0,class:"list-group"},kt=["onClick"],$t={key:1,class:"alert alert-success",role:"alert"},Mt=s("p",null,"Ничего не найдено",-1),St=[Mt],Ft={data(){return{sort:{column:null,direction:"desc"},search:null,current_page:0,paginate_object:null,items:[{id:null,title:null,wrapper_variants:[],door_variants:[]}]}},computed:{...oe(["getMaterialsPaginateObject","getMaterials"])},mounted(){this.loadMaterials()},methods:{sortAndLoad(t){this.sort.column=t,this.sort.direction=this.sort.direction==="desc"?"asc":"desc",this.loadMaterials(this.current_page)},loadMaterials(t=0){this.current_page=t,this.$store.dispatch("loadMaterials",{dataObject:{search:this.search,order:this.sort.column,direction:this.sort.direction},page:this.current_page}).then(e=>{this.items=this.getMaterials,this.paginate_object=this.getMaterialsPaginateObject}).catch(()=>{this.loading=!1})},selectItem(t){this.$emit("select",t)}}},Q=Object.assign(Ft,{__name:"MaterialDropdown",setup(t){return(e,o)=>(i(),r("div",ft,[s("button",bt,[le(e.$slots,"default")]),s("div",gt,[s("div",_t,[s("div",vt,[b(s("input",{type:"search","onUpdate:modelValue":o[0]||(o[0]=l=>e.search=l),onKeyup:o[1]||(o[1]=l=>e.sortAndLoad("id")),class:"form-control",id:"search-materials"},null,544),[[y,e.search]]),yt]),e.items.length>0?(i(),r("div",wt,[(i(!0),r(L,null,R(e.items,(l,a)=>(i(),r("a",{href:"javascript:void(0)",onClick:c=>e.selectItem(l),class:"list-group-item list-group-item-action","aria-current":"true"},_(l.title||"-"),9,kt))),256))])):u("",!0),e.items.length===0?(i(),r("div",$t,St)):u("",!0),e.paginate_object&&e.items.length>0?(i(),z(re,{key:2,class:"my-3",onPagination_page:e.loadMaterials,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):u("",!0)])])]))}}),Lt={class:"row"},Yt={class:"col-12"},Ct={class:"input-group mb-3"},Tt={class:"form-floating"},Xt=s("button",{type:"submit",class:"btn btn-outline-primary"},[s("i",{class:"fa-solid fa-magnifying-glass"})],-1),Wt={class:"row"},Et={class:"col-12 d-flex"},Rt={class:"dropdown"},Ht=s("button",{class:"btn btn-outline-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-bars mr-2"}),$("Управление разделом ")],-1),zt={class:"dropdown-menu"},Pt=s("li",null,[s("a",{class:"dropdown-item",href:"/sizes/export-prices"},"Скачать шаблон таблицы")],-1),At={class:"d-flex scrollable-area"},jt={key:0,class:"table table-responsive"},Dt={key:0},Ot=s("i",{class:"fa-solid fa-caret-down"},null,-1),Ut=[Ot],Bt={key:1},It=s("i",{class:"fa-solid fa-caret-up"},null,-1),Vt=[It],qt={key:0},Nt=s("i",{class:"fa-solid fa-caret-down"},null,-1),Gt=[Nt],Kt={key:1},Jt=s("i",{class:"fa-solid fa-caret-up"},null,-1),Zt=[Jt],Qt={key:0},xt=s("i",{class:"fa-solid fa-caret-down"},null,-1),es=[xt],ts={key:1},ss=s("i",{class:"fa-solid fa-caret-up"},null,-1),os=[ss],ls={key:0},is=s("i",{class:"fa-solid fa-caret-down"},null,-1),rs=[is],ns={key:1},as=s("i",{class:"fa-solid fa-caret-up"},null,-1),ds=[as],cs={key:0},hs=s("i",{class:"fa-solid fa-caret-down"},null,-1),us=[hs],ps={key:1},ms=s("i",{class:"fa-solid fa-caret-up"},null,-1),fs=[ms],bs={key:0},gs=s("i",{class:"fa-solid fa-caret-down"},null,-1),_s=[gs],vs={key:1},ys=s("i",{class:"fa-solid fa-caret-up"},null,-1),ws=[ys],ks={key:0},$s=s("i",{class:"fa-solid fa-caret-down"},null,-1),Ms=[$s],Ss={key:1},Fs=s("i",{class:"fa-solid fa-caret-up"},null,-1),Ls=[Fs],Ys={key:0},Cs=s("i",{class:"fa-solid fa-caret-down"},null,-1),Ts=[Cs],Xs={key:1},Ws=s("i",{class:"fa-solid fa-caret-up"},null,-1),Es=[Ws],Rs=s("th",{scope:"col",class:"text-center"},"Действие",-1),Hs={scope:"row"},zs=["onClick"],Ps=["onClick"],As={class:"text-center"},js=s("thead",null,[s("th",null,"опт"),s("th",null,"дилер"),s("th",null,"розница"),s("th",null,"себестоимость")],-1),Ds={style:{"min-width":"100px","text-align":"center"}},Os={style:{"min-width":"100px","text-align":"center"}},Us={style:{"min-width":"100px","text-align":"center"}},Bs={style:{"min-width":"100px","text-align":"center"}},Is={class:"text-center"},Vs=["onClick"],qs=["onBlur","onChange","onUpdate:modelValue"],Ns={class:"text-center"},Gs={class:"text-center"},Ks={key:0},Js={key:1},Zs={class:"text-center"},Qs={class:"text-center"},xs={class:"dropdown"},eo=s("button",{class:"btn btn-link",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-bars"})],-1),to={class:"dropdown-menu"},so=["onClick"],oo=s("i",{class:"fa-solid fa-pen mr-2"},null,-1),lo=["onClick"],io=s("i",{class:"fa-solid fa-bolt mr-2"},null,-1),ro=["onClick"],no=s("i",{class:"fa-regular fa-copy mr-2"},null,-1),ao=["onClick"],co=s("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),ho={key:0,class:"alert alert-success my-3",role:"alert"},uo=s("h4",{class:"alert-heading"},"Размеры",-1),po=s("p",null,"К сожалению, раздел размеров пуст. Вы еще не добавили ни одного размера, который можно отобразить на этой странице.",-1),mo=s("hr",null,null,-1),fo=s("p",{class:"mb-0"},"Воспользуйтесь формой выше и добавьте свой первый размер",-1),bo=[uo,po,mo,fo],go={key:1,class:"row mb-3"},_o={class:"col-12"},vo={class:"modal fade",id:"import-prices-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},yo={class:"modal-dialog"},wo={class:"modal-content"},ko=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Форма загрузки таблицы"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),$o={class:"modal-body"},Mo={class:"form-check form-switch"},So={class:"form-check-label",for:"need_rewrite"},Fo={key:0},Lo={key:1},Yo={class:"form-check form-switch"},Co={class:"form-check-label",for:"need_rewrite"},To={key:0},Xo={key:1},Wo={class:"form-floating my-3 border-gray-100 border"},Eo=s("label",{for:"excel-file-for-import"},"Файл-эксель",-1),Ro=["disabled"],Ho={key:0},zo={class:"form-check form-switch"},Po={class:"form-check-label",for:"need_rewrite_google"},Ao={key:0},jo={key:1},Do={class:"form-floating my-3 border-gray-100 border"},Oo=s("label",{for:"sheet-id"},"Идентификатор таблицы",-1),Uo={class:"form-floating my-3 border-gray-100 border"},Bo=s("label",{for:"sheet-title"},"Название листа",-1),Io=["disabled"],Vo={key:0},qo=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),No={class:"modal fade",id:"recount-prices",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Go={class:"modal-dialog"},Ko={class:"modal-content"},Jo=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Форма пересчета показателей"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Zo={class:"modal-body"},Qo={class:"form-check form-switch"},xo=s("label",{class:"form-check-label",for:"recount-by-width"}," Пересчитать по ширине ",-1),el={key:0,class:"form-floating mb-3"},tl=s("label",{for:"base-width"},"Базовая ширина",-1),sl={class:"form-check form-switch"},ol=s("label",{class:"form-check-label",for:"recount-by-height"}," Пересчитать по высоте ",-1),ll={key:1,class:"form-floating mb-3"},il=s("label",{for:"base-height"},"Базовая высота",-1),rl={key:0},nl={key:1},al={class:"form-floating mb-3"},dl=s("label",{for:"base-price"},"Цена для пересчета",-1),cl={key:2,class:"alert alert-success mb-3",role:"alert"},hl=["disabled"],ul=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),pl={class:"modal fade",id:"generate-sizes",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ml={class:"modal-dialog"},fl={class:"modal-content"},bl=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Форма генерации размерности"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),gl={class:"modal-body"},_l={class:"row"},vl={class:"col-md-6"},yl={class:"form-floating mb-3"},wl=s("label",{for:"generate-base-width"},"Базовая ширина",-1),kl={class:"col-md-6"},$l={class:"form-floating mb-3"},Ml=s("label",{for:"generate-step-width"},"Шаг генерации ширины",-1),Sl={class:"row"},Fl={class:"col-md-6"},Ll={class:"form-floating mb-3"},Yl=s("label",{for:"generate-base-width"},"Базовая высота",-1),Cl={class:"col-md-6"},Tl={class:"form-floating mb-3"},Xl=s("label",{for:"generate-step-width"},"Шаг генерации высоты",-1),Wl={class:"row"},El={class:"col-md-6"},Rl={class:"form-floating mb-3"},Hl=s("label",{for:"generate-base-width"},"Базовый коэффициент",-1),zl={class:"col-md-6"},Pl={class:"form-floating mb-3"},Al=s("label",{for:"generate-step-width"},"Шаг генерации коэффициента",-1),jl={class:"row"},Dl={class:"col-md-6"},Ol={class:"form-floating mb-3"},Ul=s("label",{for:"generate-base-loops"},"Базовое число петель",-1),Bl={class:"col-md-6"},Il={class:"form-floating mb-3"},Vl=s("label",{for:"generate-step-width"},"Шаг генерации петель",-1),ql={class:"row"},Nl={class:"col-md-6"},Gl={class:"form-floating mb-3"},Kl=s("label",{for:"generate-base-price"},"Базовая цена",-1),Jl={class:"col-md-6"},Zl={class:"form-floating mb-3"},Ql=s("label",{for:"generate-step-width"},"Шаг генерации цены",-1),xl={class:"form-floating mb-3"},ei=s("label",{for:"generate-step-width"},"Число шагов генерации",-1),ti={key:0},si={key:1},oi={key:0,class:"alert alert-success mb-3",role:"alert"},li=["disabled"],ii=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),ri={class:"modal fade",id:"confirm-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ni={class:"modal-dialog"},ai={class:"modal-content rounded-0"},di={class:"modal-body"},ci=s("p",null,"Вы хотите обновить JSON-файл с размерами?",-1),hi={class:"row"},ui={class:"col-6"},pi={class:"col-6"},mi={data(){return{timer:null,affected:null,sort:{column:null,direction:"desc"},search:null,generateForm:{base_width:0,base_height:0,base_koef:0,base_loops:0,base_price:0,width_step:0,height_step:0,koef_step:0,loops_step:0,price_step:0,selected_material:null,steps:0},need_import_from_google:!1,importGoogleForm:{sheet_id:null,sheet_title:null,need_rewrite:!1},importForm:{need_rewrite:!1,files:[]},recountForm:{selected_material:null,need_recount_by_width:!1,need_recount_by_height:!1,base_width:null,base_height:null,recount_price:null},recountModal:null,confirmModal:null,importPricesModal:null,generateModal:null,current_page:0,paginate_object:null,items:[]}},computed:{...oe(["getSizesPaginateObject","getSizes"])},mounted(){this.loadSizes(),this.confirmModal=new bootstrap.Modal(document.getElementById("confirm-modal"),{}),this.recountModal=new bootstrap.Modal(document.getElementById("recount-prices"),{}),this.importPricesModal=new bootstrap.Modal(document.getElementById("import-prices-form"),{}),this.generateModal=new bootstrap.Modal(document.getElementById("generate-sizes"),{})},methods:{openConfirmModal(){this.confirmModal.show()},onChangeFile(t){const e=t.target.files;for(let o=0;o<e.length;o++)this.importForm.files.push(e[o])},saveFormattedSizes(){this.$store.dispatch("loadFormattedSizes").then(t=>{this.confirmModal.hide(),this.loadSizes(),this.$notify({title:"DoDoors",text:"Вы успешно обновили данные"})}).catch(()=>{this.$notify({title:"DoDoors",text:"Ошибка обновления данных",type:"error"})})},openImportFormModal(){this.importPricesModal.show()},generateModalShow(){this.generateModal.show()},recountModalShow(){this.affected=null,this.recountForm.recount_price=0,this.recountForm.need_recount_by_height=!1,this.recountForm.need_recount_by_width=!1,this.recountForm.base_height=0,this.recountForm.base_width=0,this.recountForm.selected_material=null,this.recountModal.show()},recountByKoef(t){this.affected=null,this.recountForm.recount_price=t.price,this.recountForm.need_recount_by_height=!0,this.recountForm.need_recount_by_width=!0,this.recountForm.base_height=t.height,this.recountForm.base_width=t.width,this.recountForm.selected_material=t.material,this.recountModal.show()},importFromGoogleSubmit(){let t=new FormData;this.timer=0;let e=setInterval(()=>{this.timer++},1e3);Object.keys(this.importGoogleForm).forEach(o=>{const l=this.importGoogleForm[o]||"";typeof l=="object"?t.append(o,JSON.stringify(l)):t.append(o,l)}),this.$store.dispatch("importSizesFromGoogle",{importForm:t}).then(o=>{window.open(o.url,"_blank").focus(),this.loadSizes(),this.importPricesModal.hide(),this.$notify({title:"DoDoors",text:"Вы успешно загрузили данные"}),clearInterval(e),this.timer=null,this.confirmModal.show()}).catch(()=>{clearInterval(e),this.timer=null,this.$notify({title:"DoDoors",text:"Ошибка загрузки данных",type:"error"})})},importSubmit(){let t=new FormData;this.timer=0;let e=setInterval(()=>{this.timer++},1e3);if(Object.keys(this.importForm).forEach(o=>{const l=this.importForm[o]||"";typeof l=="object"?t.append(o,JSON.stringify(l)):t.append(o,l)}),this.importForm.files.length>0){t.delete("files");for(let o=0;o<this.importForm.files.length;o++)t.append("files[]",this.importForm.files[o])}this.$store.dispatch("importSizes",{importForm:t}).then(o=>{this.loadSizes(),this.importPricesModal.hide(),this.$notify({title:"DoDoors",text:"Вы успешно загрузили данные"}),clearInterval(e),this.timer=null,this.confirmModal.show()}).catch(()=>{clearInterval(e),this.timer=null,this.$notify({title:"DoDoors",text:"Ошибка загрузки данных",type:"error"})})},submitRecountForm(){this.affected=null;let t=new FormData;t.append("material_id",this.recountForm.selected_material.id),Object.keys(this.recountForm).forEach(e=>{const o=this.recountForm[e]||"";typeof o=="object"?t.append(e,JSON.stringify(o)):t.append(e,o)}),this.$store.dispatch("recountPrice",{recountForm:t}).then(e=>{this.affected=e.affected||0,this.loadSizes()})},submitGenerateForm(){let t=new FormData;t.append("material_id",this.generateForm.selected_material.id),Object.keys(this.generateForm).forEach(e=>{const o=this.generateForm[e]||"";typeof o=="object"?t.append(e,JSON.stringify(o)):t.append(e,o)}),this.$store.dispatch("generateSizes",{generateForm:t}).then(e=>{this.loadSizes(),this.generateModal.hide()})},selectMaterialForRecount(t){this.recountForm.selected_material=t},selectMaterialForGeneration(t){this.generateForm.selected_material=t},sortAndLoad(t){this.sort.column=t,this.sort.direction=this.sort.direction==="desc"?"asc":"desc",this.loadSizes(this.current_page)},loadSizes(t=0){this.current_page=t,this.$store.dispatch("loadSizes",{dataObject:{search:this.search,order:this.sort.column,direction:this.sort.direction},page:this.current_page}).then(e=>{this.items=this.getSizes,this.paginate_object=this.getSizesPaginateObject}).catch(()=>{this.loading=!1})},selectItem(t){this.$emit("select",t)},duplicateItem(t){this.$store.dispatch("duplicateSize",{sizeId:t}).then(()=>{this.sortAndLoad("id")})},removeItem(t){this.$store.dispatch("removeSize",{sizeId:t}).then(()=>{this.sortAndLoad("id")})},blurParams(t,e){this.items[e].need_edit_wholesale_price=!1,this.items[e].need_edit_dealer_price=!1,this.items[e].need_edit_retail_price=!1,this.items[e].need_edit_cost_price=!1,this.items[e].need_edit_koef=!1},saveParam(t,e){this.$store.dispatch("updateSizeParam",{dataObject:{id:this.items[e].id,key:t,value:this.items[e][t]}}).then(o=>{this.items[e].need_edit_wholesale_price=!1,this.items[e].need_edit_dealer_price=!1,this.items[e].need_edit_retail_price=!1,this.items[e].need_edit_cost_price=!1,this.items[e].need_edit_koef=!1,this.$notify({title:"DoDoors",text:"Параметры успешно обновлены"})}).catch(()=>{})}}},fi=Object.assign(mi,{__name:"SizeTable",setup(t){return(e,o)=>(i(),r(L,null,[s("form",Lt,[s("div",Yt,[s("div",Ct,[s("div",Tt,[b(s("input",{type:"search","onUpdate:modelValue":o[0]||(o[0]=l=>e.search=l),class:"form-control",id:"search-sizes"},null,512),[[y,e.search]]),s("label",{onClick:o[1]||(o[1]=l=>e.sortAndLoad("id")),for:"search-sizes"},"Поиск по размерам и материалам")]),Xt])])]),s("div",Wt,[s("div",Et,[s("div",Rt,[Ht,s("ul",zt,[Pt,s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:o[2]||(o[2]=(...l)=>e.openImportFormModal&&e.openImportFormModal(...l))},"Загрузить данные из Excel или Google таблицы")]),s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:o[3]||(o[3]=(...l)=>e.openConfirmModal&&e.openConfirmModal(...l))},"Обновить JSON")]),s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:o[4]||(o[4]=(...l)=>e.recountModalShow&&e.recountModalShow(...l))},"Пересчет показателей")]),s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:o[5]||(o[5]=(...l)=>e.generateModalShow&&e.generateModalShow(...l))}," Генерация размеров")])])])])]),s("div",At,[e.items.length>0?(i(),r("table",jt,[s("thead",null,[s("tr",null,[s("th",{scope:"col",class:"cursor-pointer",onClick:o[6]||(o[6]=l=>e.sortAndLoad("id"))},[$("# "),e.sort.direction==="desc"&&e.sort.column==="id"?(i(),r("span",Dt,Ut)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="id"?(i(),r("span",Bt,Vt)):u("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[7]||(o[7]=l=>e.sortAndLoad("width"))},[$("Ширина, см "),e.sort.direction==="desc"&&e.sort.column==="width"?(i(),r("span",qt,Gt)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="width"?(i(),r("span",Kt,Zt)):u("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[8]||(o[8]=l=>e.sortAndLoad("height"))},[$("Высота, см "),e.sort.direction==="desc"&&e.sort.column==="height"?(i(),r("span",Qt,es)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="height"?(i(),r("span",ts,os)):u("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[9]||(o[9]=l=>e.sortAndLoad("price"))},[$("Цена, руб "),e.sort.direction==="desc"&&e.sort.column==="price"?(i(),r("span",ls,rs)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="price"?(i(),r("span",ns,ds)):u("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[10]||(o[10]=l=>e.sortAndLoad("price_koef"))},[$("Ценовой коэффициент "),e.sort.direction==="desc"&&e.sort.column==="price_koef"?(i(),r("span",cs,us)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="price_koef"?(i(),r("span",ps,fs)):u("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[11]||(o[11]=l=>e.sortAndLoad("loops_count"))},[$("Число петель "),e.sort.direction==="desc"&&e.sort.column==="loops_count"?(i(),r("span",bs,_s)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="loops_count"?(i(),r("span",vs,ws)):u("",!0)]),s("th",{scope:"col",class:"text-center",onClick:o[12]||(o[12]=l=>e.sortAndLoad("material_id"))},[$("Материал "),e.sort.direction==="desc"&&e.sort.column==="material_id"?(i(),r("span",ks,Ms)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="material_id"?(i(),r("span",Ss,Ls)):u("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[13]||(o[13]=l=>e.sortAndLoad("updated_at"))},[$(" Дата изменения "),e.sort.direction==="desc"&&e.sort.column==="updated_at"?(i(),r("span",Ys,Ts)):u("",!0),e.sort.direction==="asc"&&e.sort.column==="updated_at"?(i(),r("span",Xs,Es)):u("",!0)]),Rs])]),s("tbody",null,[(i(!0),r(L,null,R(e.items,(l,a)=>(i(),r("tr",null,[s("th",Hs,_(l.id||a),1),s("td",{class:"text-center",onClick:c=>e.selectItem(l)},_(l.width||0),9,zs),s("td",{class:"text-center",onClick:c=>e.selectItem(l)},_(l.height||0),9,Ps),s("td",As,[s("table",null,[js,s("tbody",null,[s("tr",null,[s("td",Ds,_(e.items[a].price.wholesale||0),1),s("td",Os,_(e.items[a].price.dealer||0),1),s("td",Us,_(e.items[a].price.retail||0),1),s("td",Bs,_(e.items[a].price.cost||0),1)])])])]),s("td",Is,[e.items[a].need_edit_koef?u("",!0):(i(),r("p",{key:0,onClick:c=>e.items[a].need_edit_koef=!0},_(e.items[a].price_koef||0),9,Vs)),e.items[a].need_edit_koef?b((i(),r("input",{key:1,type:"number",step:"0.1",min:"0",onBlur:c=>e.blurParams("price_koef",a),onChange:c=>e.saveParam("price_koef",a),"onUpdate:modelValue":c=>e.items[a].price_koef=c,class:"form-control text-center",id:"floatingInput",placeholder:"name@example.com"},null,40,qs)),[[y,e.items[a].price_koef]]):u("",!0)]),s("td",Ns,_(l.loops_count||0),1),s("td",Gs,[l.material?(i(),r("p",Ks,_(l.material.title||"-")+" (#"+_(l.material_id||"-")+") ",1)):(i(),r("p",Js,"Материал не выбран"))]),s("td",Zs,_(l.updated_at||"-"),1),s("td",Qs,[s("div",xs,[eo,s("ul",to,[s("li",null,[s("a",{class:"dropdown-item",onClick:c=>e.selectItem(l),href:"javascript:void(0)"},[oo,$("Редактировать")],8,so)]),s("li",null,[s("a",{class:"dropdown-item",onClick:c=>e.recountByKoef(l),href:"javascript:void(0)"},[io,$("Пересчитать по коэффициенту")],8,lo)]),s("li",null,[s("a",{class:"dropdown-item",onClick:c=>e.duplicateItem(l.id),href:"javascript:void(0)"},[no,$("Дублировать")],8,ro)]),s("li",null,[s("a",{class:"dropdown-item text-danger",onClick:c=>e.removeItem(l.id),href:"javascript:void(0)"},[co,$("Удалить")],8,ao)])])])])]))),256))])])):u("",!0)]),e.items.length===0?(i(),r("div",ho,bo)):u("",!0),e.items.length>0?(i(),r("div",go,[s("div",_o,[e.paginate_object?(i(),z(re,{key:0,onPagination_page:e.loadSizes,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):u("",!0)])])):u("",!0),s("div",vo,[s("div",yo,[s("div",wo,[ko,s("div",$o,[s("div",Mo,[b(s("input",{class:"form-check-input","onUpdate:modelValue":o[14]||(o[14]=l=>e.need_import_from_google=l),type:"checkbox",role:"switch",id:"need_rewrite"},null,512),[[U,e.need_import_from_google]]),s("label",So,[e.need_import_from_google?(i(),r("span",Fo,"Загрузить из Google-таблицы")):(i(),r("span",Lo,"Загрузить из Excel-файла"))])]),e.need_import_from_google?(i(),r("form",{key:1,onSubmit:o[21]||(o[21]=B((...l)=>e.importFromGoogleSubmit&&e.importFromGoogleSubmit(...l),["prevent"]))},[s("div",zo,[b(s("input",{class:"form-check-input","onUpdate:modelValue":o[18]||(o[18]=l=>e.importGoogleForm.need_rewrite=l),type:"checkbox",role:"switch",id:"need_rewrite_google"},null,512),[[U,e.importGoogleForm.need_rewrite]]),s("label",Po,[e.importGoogleForm.need_rewrite?(i(),r("span",Ao,"Перезаписать старые значения")):(i(),r("span",jo,"Добавить новые значения"))])]),s("div",Do,[b(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o[19]||(o[19]=l=>e.importGoogleForm.sheet_id=l),id:"sheet-id",placeholder:"name@example.com"},null,512),[[y,e.importGoogleForm.sheet_id]]),Oo]),s("div",Uo,[b(s("input",{type:"text","onUpdate:modelValue":o[20]||(o[20]=l=>e.importGoogleForm.sheet_title=l),class:"form-control",id:"sheet-title",placeholder:"name@example.com"},null,512),[[y,e.importGoogleForm.sheet_title]]),Bo]),s("button",{type:"submit",disabled:e.timer!=null,class:"btn btn-outline-primary w-100 p-3"},[$("Загрузить "),e.timer!=null?(i(),r("span",Vo,_(e.timer)+" сек",1)):u("",!0)],8,Io)],32)):(i(),r("form",{key:0,onSubmit:o[17]||(o[17]=B((...l)=>e.importSubmit&&e.importSubmit(...l),["prevent"]))},[s("div",Yo,[b(s("input",{class:"form-check-input","onUpdate:modelValue":o[15]||(o[15]=l=>e.importForm.need_rewrite=l),type:"checkbox",role:"switch",id:"need_rewrite"},null,512),[[U,e.importForm.need_rewrite]]),s("label",Co,[e.importForm.need_rewrite?(i(),r("span",To,"Перезаписать старые значения")):(i(),r("span",Xo,"Добавить новые значения"))])]),s("div",Wo,[s("input",{type:"file",class:"form-control",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"excel-file-for-import",ref:"importPriceFromExcel",onChange:o[16]||(o[16]=l=>e.onChangeFile(l))},null,544),Eo]),s("button",{type:"submit",disabled:e.timer!=null,class:"btn btn-outline-primary w-100 p-3"},[$("Загрузить "),e.timer!=null?(i(),r("span",Ho,_(e.timer)+" сек",1)):u("",!0)],8,Ro)],32))]),qo])])]),s("div",No,[s("div",Go,[s("div",Ko,[Jo,s("div",Zo,[s("form",{onSubmit:o[27]||(o[27]=B((...l)=>e.submitRecountForm&&e.submitRecountForm(...l),["prevent"]))},[s("div",Qo,[b(s("input",{class:"form-check-input","onUpdate:modelValue":o[22]||(o[22]=l=>e.recountForm.need_recount_by_width=l),type:"checkbox",role:"switch",id:"recount-by-width"},null,512),[[U,e.recountForm.need_recount_by_width]]),xo]),e.recountForm.need_recount_by_width?(i(),r("div",el,[b(s("input",{type:"number","onUpdate:modelValue":o[23]||(o[23]=l=>e.recountForm.base_width=l),class:"form-control",id:"base-width",required:""},null,512),[[y,e.recountForm.base_width]]),tl])):u("",!0),s("div",sl,[b(s("input",{class:"form-check-input","onUpdate:modelValue":o[24]||(o[24]=l=>e.recountForm.need_recount_by_height=l),type:"checkbox",role:"switch",id:"recount-by-height"},null,512),[[U,e.recountForm.need_recount_by_height]]),ol]),e.recountForm.need_recount_by_height?(i(),r("div",ll,[b(s("input",{type:"number","onUpdate:modelValue":o[25]||(o[25]=l=>e.recountForm.base_height=l),class:"form-control",id:"base-height",required:""},null,512),[[y,e.recountForm.base_height]]),il])):u("",!0),G(Q,{onSelect:e.selectMaterialForRecount,class:"mb-3"},{default:D(()=>[e.recountForm.selected_material==null?(i(),r("span",rl,"Выбор материала")):(i(),r("span",nl,_(e.recountForm.selected_material.title||"-"),1))]),_:1},8,["onSelect"]),s("div",al,[b(s("input",{type:"number","onUpdate:modelValue":o[26]||(o[26]=l=>e.recountForm.recount_price=l),class:"form-control",id:"base-price",required:""},null,512),[[y,e.recountForm.recount_price]]),dl]),e.affected?(i(),r("div",cl," Выполнен перерасчет. Затронуто "+_(e.affected)+" строк. ",1)):u("",!0),s("button",{type:"submit",disabled:e.recountForm.selected_material==null,class:"btn btn-outline-primary w-100 p-3"},"Выполнить пересчет ",8,hl)],32)]),ul])])]),s("div",pl,[s("div",ml,[s("div",fl,[bl,s("div",gl,[s("form",{onSubmit:o[39]||(o[39]=B((...l)=>e.submitGenerateForm&&e.submitGenerateForm(...l),["prevent"]))},[s("div",_l,[s("div",vl,[s("div",yl,[b(s("input",{type:"number","onUpdate:modelValue":o[28]||(o[28]=l=>e.generateForm.base_width=l),class:"form-control",id:"generate-base-width",required:""},null,512),[[y,e.generateForm.base_width]]),wl])]),s("div",kl,[s("div",$l,[b(s("input",{type:"number","onUpdate:modelValue":o[29]||(o[29]=l=>e.generateForm.width_step=l),class:"form-control",id:"generate-step-width",required:""},null,512),[[y,e.generateForm.width_step]]),Ml])])]),s("div",Sl,[s("div",Fl,[s("div",Ll,[b(s("input",{type:"number","onUpdate:modelValue":o[30]||(o[30]=l=>e.generateForm.base_height=l),class:"form-control",id:"generate-base-width",required:""},null,512),[[y,e.generateForm.base_height]]),Yl])]),s("div",Cl,[s("div",Tl,[b(s("input",{type:"number","onUpdate:modelValue":o[31]||(o[31]=l=>e.generateForm.height_step=l),class:"form-control",id:"generate-step-width",required:""},null,512),[[y,e.generateForm.height_step]]),Xl])])]),s("div",Wl,[s("div",El,[s("div",Rl,[b(s("input",{type:"number","onUpdate:modelValue":o[32]||(o[32]=l=>e.generateForm.base_koef=l),class:"form-control",id:"generate-base-width",required:""},null,512),[[y,e.generateForm.base_koef]]),Hl])]),s("div",zl,[s("div",Pl,[b(s("input",{type:"number",step:"0.1","onUpdate:modelValue":o[33]||(o[33]=l=>e.generateForm.koef_step=l),class:"form-control",id:"generate-step-width",required:""},null,512),[[y,e.generateForm.koef_step]]),Al])])]),s("div",jl,[s("div",Dl,[s("div",Ol,[b(s("input",{type:"number","onUpdate:modelValue":o[34]||(o[34]=l=>e.generateForm.base_loops=l),class:"form-control",id:"generate-base-loops",required:""},null,512),[[y,e.generateForm.base_loops]]),Ul])]),s("div",Bl,[s("div",Il,[b(s("input",{type:"number",step:"0.1","onUpdate:modelValue":o[35]||(o[35]=l=>e.generateForm.loops_step=l),class:"form-control",id:"generate-step-width",required:""},null,512),[[y,e.generateForm.loops_step]]),Vl])])]),s("div",ql,[s("div",Nl,[s("div",Gl,[b(s("input",{type:"number","onUpdate:modelValue":o[36]||(o[36]=l=>e.generateForm.base_price=l),class:"form-control",id:"generate-base-price",required:""},null,512),[[y,e.generateForm.base_price]]),Kl])]),s("div",Jl,[s("div",Zl,[b(s("input",{type:"number",step:"0.1","onUpdate:modelValue":o[37]||(o[37]=l=>e.generateForm.price_step=l),class:"form-control",id:"generate-step-width",required:""},null,512),[[y,e.generateForm.price_step]]),Ql])])]),s("div",xl,[b(s("input",{type:"number","onUpdate:modelValue":o[38]||(o[38]=l=>e.generateForm.steps=l),class:"form-control",id:"generate-step-width",required:""},null,512),[[y,e.generateForm.steps]]),ei]),G(Q,{onSelect:e.selectMaterialForGeneration,class:"mb-3"},{default:D(()=>[e.generateForm.selected_material==null?(i(),r("span",ti,"Выбор материала")):(i(),r("span",si,_(e.generateForm.selected_material.title||"-"),1))]),_:1},8,["onSelect"]),e.affected?(i(),r("div",oi," Выполнен перерасчет. Затронуто "+_(e.affected)+" строк. ",1)):u("",!0),s("button",{type:"submit",disabled:e.generateForm.selected_material==null,class:"btn btn-outline-primary w-100 p-3"},"Выполнить генерацию ",8,li)],32)]),ii])])]),s("div",ri,[s("div",ni,[s("div",ai,[s("div",di,[ci,s("div",hi,[s("div",ui,[s("button",{class:"btn btn-dark rounded-0 w-100",type:"button",onClick:o[40]||(o[40]=(...l)=>e.saveFormattedSizes&&e.saveFormattedSizes(...l))},"Да, продолжить")]),s("div",pi,[s("button",{class:"btn btn-outline-secondary rounded-0 w-100",onClick:o[41]||(o[41]=l=>e.confirmModal.hide())},"Нет, отменить")])])])])])])],64))}});/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function W(t){return getComputedStyle(t)}function T(t,e){for(var o in e){var l=e[o];typeof l=="number"&&(l=l+"px"),t.style[o]=l}return t}function q(t){var e=document.createElement("div");return e.className=t,e}var x=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function H(t,e){if(!x)throw new Error("No element matching method supported");return x.call(t,e)}function j(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function ee(t,e){return Array.prototype.filter.call(t.children,function(o){return H(o,e)})}var M={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},ne={x:null,y:null};function ae(t,e){var o=t.element.classList,l=M.state.scrolling(e);o.contains(l)?clearTimeout(ne[e]):o.add(l)}function de(t,e){ne[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(M.state.scrolling(e))},t.settings.scrollingThreshold)}function bi(t,e){ae(t,e),de(t,e)}var I=function(e){this.element=e,this.handlers={}},ce={isEmpty:{configurable:!0}};I.prototype.bind=function(e,o){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(o),this.element.addEventListener(e,o,!1)};I.prototype.unbind=function(e,o){var l=this;this.handlers[e]=this.handlers[e].filter(function(a){return o&&a!==o?!0:(l.element.removeEventListener(e,a,!1),!1)})};I.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};ce.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(I.prototype,ce);var O=function(){this.eventElements=[]};O.prototype.eventElement=function(e){var o=this.eventElements.filter(function(l){return l.element===e})[0];return o||(o=new I(e),this.eventElements.push(o)),o};O.prototype.bind=function(e,o,l){this.eventElement(e).bind(o,l)};O.prototype.unbind=function(e,o,l){var a=this.eventElement(e);a.unbind(o,l),a.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(a),1)};O.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};O.prototype.once=function(e,o,l){var a=this.eventElement(e),c=function(n){a.unbind(o,c),l(n)};a.bind(o,c)};function N(t){if(typeof window.CustomEvent=="function")return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function K(t,e,o,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1);var c;if(e==="top")c=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")c=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");gi(t,o,c,l,a)}function gi(t,e,o,l,a){var c=o[0],n=o[1],h=o[2],d=o[3],p=o[4],f=o[5];l===void 0&&(l=!0),a===void 0&&(a=!1);var S=t.element;t.reach[d]=null,S[h]<1&&(t.reach[d]="start"),S[h]>t[c]-t[n]-1&&(t.reach[d]="end"),e&&(S.dispatchEvent(N("ps-scroll-"+d)),e<0?S.dispatchEvent(N("ps-scroll-"+p)):e>0&&S.dispatchEvent(N("ps-scroll-"+f)),l&&bi(t,d)),t.reach[d]&&(e||a)&&S.dispatchEvent(N("ps-"+d+"-reach-"+t.reach[d]))}function k(t){return parseInt(t,10)||0}function _i(t){return H(t,"input,[contenteditable]")||H(t,"select,[contenteditable]")||H(t,"textarea,[contenteditable]")||H(t,"button,[contenteditable]")}function vi(t){var e=W(t);return k(e.width)+k(e.paddingLeft)+k(e.paddingRight)+k(e.borderLeftWidth)+k(e.borderRightWidth)}var A={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function E(t){var e=t.element,o=Math.floor(e.scrollTop),l=e.getBoundingClientRect();t.containerWidth=Math.round(l.width),t.containerHeight=Math.round(l.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(ee(e,M.element.rail("x")).forEach(function(a){return j(a)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(ee(e,M.element.rail("y")).forEach(function(a){return j(a)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=te(t,k(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=k((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=te(t,k(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=k(o*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),yi(e,t),t.scrollbarXActive?e.classList.add(M.state.active("x")):(e.classList.remove(M.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=t.isRtl===!0?t.contentWidth:0),t.scrollbarYActive?e.classList.add(M.state.active("y")):(e.classList.remove(M.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function te(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function yi(t,e){var o={width:e.railXWidth},l=Math.floor(t.scrollTop);e.isRtl?o.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:o.left=t.scrollLeft,e.isScrollbarXUsingBottom?o.bottom=e.scrollbarXBottom-l:o.top=e.scrollbarXTop+l,T(e.scrollbarXRail,o);var a={top:l,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?a.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:a.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?a.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:a.left=e.scrollbarYLeft+t.scrollLeft,T(e.scrollbarYRail,a),T(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),T(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function wi(t){t.element,t.event.bind(t.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var o=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top,l=o>t.scrollbarYTop?1:-1;t.element.scrollTop+=l*t.containerHeight,E(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var o=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left,l=o>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=l*t.containerWidth,E(t),e.stopPropagation()})}function ki(t){se(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),se(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function se(t,e){var o=e[0],l=e[1],a=e[2],c=e[3],n=e[4],h=e[5],d=e[6],p=e[7],f=e[8],S=t.element,F=null,Y=null,m=null;function w(g){g.touches&&g.touches[0]&&(g[a]=g.touches[0].pageY),S[d]=F+m*(g[a]-Y),ae(t,p),E(t),g.stopPropagation(),g.type.startsWith("touch")&&g.changedTouches.length>1&&g.preventDefault()}function C(){de(t,p),t[f].classList.remove(M.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",w)}function v(g,X){F=S[d],X&&g.touches&&(g[a]=g.touches[0].pageY),Y=g[a],m=(t[l]-t[o])/(t[c]-t[h]),X?t.event.bind(t.ownerDocument,"touchmove",w):(t.event.bind(t.ownerDocument,"mousemove",w),t.event.once(t.ownerDocument,"mouseup",C),g.preventDefault()),t[f].classList.add(M.state.clicking),g.stopPropagation()}t.event.bind(t[n],"mousedown",function(g){v(g)}),t.event.bind(t[n],"touchstart",function(g){v(g,!0)})}function $i(t){var e=t.element,o=function(){return H(e,":hover")},l=function(){return H(t.scrollbarX,":focus")||H(t.scrollbarY,":focus")};function a(c,n){var h=Math.floor(e.scrollTop);if(c===0){if(!t.scrollbarYActive)return!1;if(h===0&&n>0||h>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var d=e.scrollLeft;if(n===0){if(!t.scrollbarXActive)return!1;if(d===0&&c<0||d>=t.contentWidth-t.containerWidth&&c>0)return!t.settings.wheelPropagation}return!0}t.event.bind(t.ownerDocument,"keydown",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)&&!(!o()&&!l())){var n=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(n){if(n.tagName==="IFRAME")n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(_i(n))return}var h=0,d=0;switch(c.which){case 37:c.metaKey?h=-t.contentWidth:c.altKey?h=-t.containerWidth:h=-30;break;case 38:c.metaKey?d=t.contentHeight:c.altKey?d=t.containerHeight:d=30;break;case 39:c.metaKey?h=t.contentWidth:c.altKey?h=t.containerWidth:h=30;break;case 40:c.metaKey?d=-t.contentHeight:c.altKey?d=-t.containerHeight:d=-30;break;case 32:c.shiftKey?d=t.containerHeight:d=-t.containerHeight;break;case 33:d=t.containerHeight;break;case 34:d=-t.containerHeight;break;case 36:d=t.contentHeight;break;case 35:d=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&h!==0||t.settings.suppressScrollY&&d!==0||(e.scrollTop-=d,e.scrollLeft+=h,E(t),a(h,d)&&c.preventDefault())}})}function Mi(t){var e=t.element;function o(n,h){var d=Math.floor(e.scrollTop),p=e.scrollTop===0,f=d+e.offsetHeight===e.scrollHeight,S=e.scrollLeft===0,F=e.scrollLeft+e.offsetWidth===e.scrollWidth,Y;return Math.abs(h)>Math.abs(n)?Y=p||f:Y=S||F,Y?!t.settings.wheelPropagation:!0}function l(n){var h=n.deltaX,d=-1*n.deltaY;return(typeof h>"u"||typeof d>"u")&&(h=-1*n.wheelDeltaX/6,d=n.wheelDeltaY/6),n.deltaMode&&n.deltaMode===1&&(h*=10,d*=10),h!==h&&d!==d&&(h=0,d=n.wheelDelta),n.shiftKey?[-d,-h]:[h,d]}function a(n,h,d){if(!A.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(n))return!1;for(var p=n;p&&p!==e;){if(p.classList.contains(M.element.consuming))return!0;var f=W(p);if(d&&f.overflowY.match(/(scroll|auto)/)){var S=p.scrollHeight-p.clientHeight;if(S>0&&(p.scrollTop>0&&d<0||p.scrollTop<S&&d>0))return!0}if(h&&f.overflowX.match(/(scroll|auto)/)){var F=p.scrollWidth-p.clientWidth;if(F>0&&(p.scrollLeft>0&&h<0||p.scrollLeft<F&&h>0))return!0}p=p.parentNode}return!1}function c(n){var h=l(n),d=h[0],p=h[1];if(!a(n.target,d,p)){var f=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(p?e.scrollTop-=p*t.settings.wheelSpeed:e.scrollTop+=d*t.settings.wheelSpeed,f=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(d?e.scrollLeft+=d*t.settings.wheelSpeed:e.scrollLeft-=p*t.settings.wheelSpeed,f=!0):(e.scrollTop-=p*t.settings.wheelSpeed,e.scrollLeft+=d*t.settings.wheelSpeed),E(t),f=f||o(d,p),f&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}typeof window.onwheel<"u"?t.event.bind(e,"wheel",c):typeof window.onmousewheel<"u"&&t.event.bind(e,"mousewheel",c)}function Si(t){if(!A.supportsTouch&&!A.supportsIePointer)return;var e=t.element;function o(m,w){var C=Math.floor(e.scrollTop),v=e.scrollLeft,g=Math.abs(m),X=Math.abs(w);if(X>g){if(w<0&&C===t.contentHeight-t.containerHeight||w>0&&C===0)return window.scrollY===0&&w>0&&A.isChrome}else if(g>X&&(m<0&&v===t.contentWidth-t.containerWidth||m>0&&v===0))return!0;return!0}function l(m,w){e.scrollTop-=w,e.scrollLeft-=m,E(t)}var a={},c=0,n={},h=null;function d(m){return m.targetTouches?m.targetTouches[0]:m}function p(m){return m.pointerType&&m.pointerType==="pen"&&m.buttons===0?!1:!!(m.targetTouches&&m.targetTouches.length===1||m.pointerType&&m.pointerType!=="mouse"&&m.pointerType!==m.MSPOINTER_TYPE_MOUSE)}function f(m){if(p(m)){var w=d(m);a.pageX=w.pageX,a.pageY=w.pageY,c=new Date().getTime(),h!==null&&clearInterval(h)}}function S(m,w,C){if(!e.contains(m))return!1;for(var v=m;v&&v!==e;){if(v.classList.contains(M.element.consuming))return!0;var g=W(v);if(C&&g.overflowY.match(/(scroll|auto)/)){var X=v.scrollHeight-v.clientHeight;if(X>0&&(v.scrollTop>0&&C<0||v.scrollTop<X&&C>0))return!0}if(w&&g.overflowX.match(/(scroll|auto)/)){var P=v.scrollWidth-v.clientWidth;if(P>0&&(v.scrollLeft>0&&w<0||v.scrollLeft<P&&w>0))return!0}v=v.parentNode}return!1}function F(m){if(p(m)){var w=d(m),C={pageX:w.pageX,pageY:w.pageY},v=C.pageX-a.pageX,g=C.pageY-a.pageY;if(S(m.target,v,g))return;l(v,g),a=C;var X=new Date().getTime(),P=X-c;P>0&&(n.x=v/P,n.y=g/P,c=X),o(v,g)&&m.preventDefault()}}function Y(){t.settings.swipeEasing&&(clearInterval(h),h=setInterval(function(){if(t.isInitialized){clearInterval(h);return}if(!n.x&&!n.y){clearInterval(h);return}if(Math.abs(n.x)<.01&&Math.abs(n.y)<.01){clearInterval(h);return}if(!t.element){clearInterval(h);return}l(n.x*30,n.y*30),n.x*=.8,n.y*=.8},10))}A.supportsTouch?(t.event.bind(e,"touchstart",f),t.event.bind(e,"touchmove",F),t.event.bind(e,"touchend",Y)):A.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",f),t.event.bind(e,"pointermove",F),t.event.bind(e,"pointerup",Y)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",f),t.event.bind(e,"MSPointerMove",F),t.event.bind(e,"MSPointerUp",Y)))}var Fi=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},Li={"click-rail":wi,"drag-thumb":ki,keyboard:$i,wheel:Mi,touch:Si},V=function(e,o){var l=this;if(o===void 0&&(o={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(M.main),this.settings=Fi();for(var a in o)this.settings[a]=o[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var c=function(){return e.classList.add(M.state.focus)},n=function(){return e.classList.remove(M.state.focus)};this.isRtl=W(e).direction==="rtl",this.isRtl===!0&&e.classList.add(M.rtl),this.isNegativeScroll=function(){var p=e.scrollLeft,f=null;return e.scrollLeft=-1,f=e.scrollLeft<0,e.scrollLeft=p,f}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new O,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=q(M.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=q(M.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",c),this.event.bind(this.scrollbarX,"blur",n),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var h=W(this.scrollbarXRail);this.scrollbarXBottom=parseInt(h.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=k(h.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=k(h.borderLeftWidth)+k(h.borderRightWidth),T(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=k(h.marginLeft)+k(h.marginRight),T(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=q(M.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=q(M.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",c),this.event.bind(this.scrollbarY,"blur",n),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=W(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=k(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?vi(this.scrollbarY):null,this.railBorderYWidth=k(d.borderTopWidth)+k(d.borderBottomWidth),T(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=k(d.marginTop)+k(d.marginBottom),T(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(p){return Li[p](l)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(p){return l.onScroll(p)}),E(this)};V.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,T(this.scrollbarXRail,{display:"block"}),T(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=k(W(this.scrollbarXRail).marginLeft)+k(W(this.scrollbarXRail).marginRight),this.railYMarginHeight=k(W(this.scrollbarYRail).marginTop)+k(W(this.scrollbarYRail).marginBottom),T(this.scrollbarXRail,{display:"none"}),T(this.scrollbarYRail,{display:"none"}),E(this),K(this,"top",0,!1,!0),K(this,"left",0,!1,!0),T(this.scrollbarXRail,{display:""}),T(this.scrollbarYRail,{display:""}))};V.prototype.onScroll=function(e){this.isAlive&&(E(this),K(this,"top",this.element.scrollTop-this.lastScrollTop),K(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};V.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),j(this.scrollbarX),j(this.scrollbarY),j(this.scrollbarXRail),j(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};V.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};const Yi=ue({__name:"PerfectScrollbar",props:{tag:{default:"div"},options:{default:()=>({})}},emits:["scroll","ps-scroll-y","ps-scroll-x","ps-scroll-up","ps-scroll-down","ps-scroll-left","ps-scroll-right","ps-y-reach-start","ps-y-reach-end","ps-x-reach-start","ps-x-reach-end"],setup(t,{expose:e,emit:o}){const l=t,a=o,c=Z(null),n=Z(null);pe(()=>l.options,()=>{d(),h()},{deep:!0}),me(()=>{c.value&&h()}),fe(()=>{d()});function h(){c.value&&(n.value=new V(c.value,l.options),S())}function d(){n.value&&(S(!1),n.value.destroy(),n.value=null)}const p={scroll:f("scroll"),"ps-scroll-y":f("ps-scroll-y"),"ps-scroll-x":f("ps-scroll-x"),"ps-scroll-up":f("ps-scroll-up"),"ps-scroll-down":f("ps-scroll-down"),"ps-scroll-left":f("ps-scroll-left"),"ps-scroll-right":f("ps-scroll-right"),"ps-y-reach-start":f("ps-y-reach-start"),"ps-y-reach-end":f("ps-y-reach-end"),"ps-x-reach-start":f("ps-x-reach-start"),"ps-x-reach-end":f("ps-x-reach-end")};function f(F){return function(Y){a(F,Y)}}function S(F=!0){var Y;(Y=n.value)!=null&&Y.element&&Object.entries(p).forEach(([m,w])=>{var C,v;F?(C=n.value)==null||C.element.addEventListener(m,w):(v=n.value)==null||v.element.removeEventListener(m,w)})}return e({ps:n}),(F,Y)=>(i(),z(be(F.tag),{ref_key:"scrollbar",ref:c,class:"ps"},{default:D(()=>[le(F.$slots,"default")]),_:3},512))}}),Ci={class:"row"},Ti={class:"col-12"},Xi=["onClick"],Wi=s("td",{rowspan:"2",class:"table-side-column"},"Высота",-1),Ei=s("td",{rowspan:"2",class:"table-side-column"},"Ширина",-1),Ri={key:0,colspan:"5",width:"200px",style:{"font-weight":"bold","text-align":"center",border:"1px solid #dadada"}},Hi=s("td",{width:"100px",style:{"font-weight":"bold","text-align":"center",border:"1px solid #dadada","min-width":"100px"}},"Опт",-1),zi=s("td",{width:"100px",style:{"font-weight":"bold","text-align":"center",border:"1px solid #dadada","min-width":"100px"}},"Дилер",-1),Pi=s("td",{width:"100px",style:{"font-weight":"bold","text-align":"center",border:"1px solid #dadada","min-width":"100px"}},"Розница",-1),Ai=s("td",{width:"100px",style:{"font-weight":"bold","text-align":"center",border:"1px solid #dadada","min-width":"100px"}},"Себестоимость",-1),ji=s("td",{width:"100px",style:{"font-weight":"bold","text-align":"center",border:"1px solid #dadada"}}," Коэффициент ",-1),Di={class:"table-side-column"},Oi={class:"table-side-column"},Ui={style:{"text-align":"center",border:"1px solid #dadada","min-width":"100px"}},Bi={style:{"text-align":"center",border:"1px solid #dadada","min-width":"100px"}},Ii={style:{"text-align":"center",border:"1px solid #dadada","min-width":"100px"}},Vi={style:{"text-align":"center",border:"1px solid #dadada","min-width":"100px"}},qi={width:"100px",style:{"text-align":"center",border:"1px solid #dadada"}},Ni={key:1,class:"alert alert-success my-3",role:"alert"},Gi=s("h4",{class:"alert-heading"},"Выберите материалы",-1),Ki=s("p",null,"Для отображения таблицы выберите интересующие материалы",-1),Ji=[Gi,Ki],Zi={key:2,class:"alert alert-success my-3",role:"alert"},Qi=s("h4",{class:"alert-heading"},"Размеры",-1),xi=s("p",null,"К сожалению, раздел размеров пуст. Вы еще не добавили ни одного размера, который можно отобразить на этой странице.",-1),er=s("hr",null,null,-1),tr=s("p",{class:"mb-0"},"Воспользуйтесь формой выше и добавьте свой первый размер",-1),sr=[Qi,xi,er,tr],or={data(){return{materials:[],prices:[],selectedMaterials:[]}},mounted(){this.loadSizes()},methods:{toggleMaterialId(t){let e=this.selectedMaterials.findIndex(o=>o===t);e===-1?this.selectedMaterials.push(t):this.selectedMaterials.splice(e,1)},loadSizes(t=0){this.$store.dispatch("loadPreparedPrices").then(e=>{this.materials=e.materials,this.prices=e.prices,this.selectedMaterials=this.materials.map(o=>o.id)}).catch(()=>{})},saveParam(t,e,o){this.$store.dispatch("updateSizeParam",{dataObject:{id:this.prices[e].prices[o].id,key:t,value:this.prices[e].prices[o][t],height:this.prices[e].prices[o].height||null,width:this.prices[e].prices[o].width||null,material_id:this.prices[e].prices[o].material_id||null}}).then(l=>{this.prices[e].prices[o].id||(this.prices[e].prices[o].id=l.data.id),this.$notify({title:"DoDoors",text:"Параметры успешно обновлены"})}).catch(()=>{})}}},lr=Object.assign(or,{__name:"SizeTable2",setup(t){return(e,o)=>(i(),r(L,null,[s("div",Ci,[s("div",Ti,[(i(!0),r(L,null,R(e.materials,l=>(i(),r("span",{class:J(["badge mr-2 cursor-pointer",{"bg-primary":e.selectedMaterials.indexOf(l.id)!=-1,"bg-secondary":e.selectedMaterials.indexOf(l.id)==-1}]),onClick:a=>e.toggleMaterialId(l.id)},_(l.title),11,Xi))),256))])]),e.prices.length>0&&e.selectedMaterials.length>0?(i(),z(ie(Yi),{key:0,scrollTop:"",class:"py-2"},{default:D(()=>[s("table",null,[s("thead",null,[s("tr",null,[Wi,Ei,(i(!0),r(L,null,R(e.materials,l=>(i(),r(L,null,[e.selectedMaterials.indexOf(l.id)!=-1?(i(),r("td",Ri,_(l.title),1)):u("",!0)],64))),256))]),s("tr",null,[(i(!0),r(L,null,R(e.materials,l=>(i(),r(L,null,[e.selectedMaterials.indexOf(l.id)!=-1?(i(),r(L,{key:0},[Hi,zi,Pi,Ai,ji],64)):u("",!0)],64))),256))])]),s("tbody",null,[(i(!0),r(L,null,R(e.prices,(l,a)=>(i(),r("tr",null,[s("td",Di,[s("span",null,_(l.height),1)]),s("td",Oi,[s("span",null,_(l.width),1)]),(i(!0),r(L,null,R(l.prices,(c,n)=>(i(),r(L,null,[e.selectedMaterials.indexOf(c.material_id)!=-1?(i(),r(L,{key:0},[s("td",Ui,_(l.prices[n].price.wholesale),1),s("td",Bi,_(l.prices[n].price.dealer),1),s("td",Ii,_(l.prices[n].price.retail),1),s("td",Vi,_(l.prices[n].price.cost),1),s("td",qi,_(l.prices[n].price_koef),1)],64)):u("",!0)],64))),256))]))),256))])])]),_:1})):u("",!0),e.selectedMaterials.length===0?(i(),r("div",Ni,Ji)):u("",!0),e.prices.length===0?(i(),r("div",Zi,sr)):u("",!0)],64))}}),ir=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Размеры",-1),rr={class:"py-12"},nr={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ar={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},dr={class:"p-6 text-gray-900"},cr=s("hr",{class:"hr my-5"},null,-1),hr={class:"d-flex justify-center my-2"},ur={class:"nav nav-tabs"},pr={class:"nav-item"},mr={class:"nav-item"},fr={data(){return{tab:0,loading:!1,selectedSize:null}},methods:{selectSize(t){this.selectedSize=t,this.loading=!0,this.$nextTick(()=>{this.loading=!1})},callbackSizeForm(){this.loading=!0,this.selectedSize=null,this.$nextTick(()=>{this.loading=!1})}}},Mr=Object.assign(fr,{__name:"SizesPage",setup(t){return(e,o)=>(i(),r(L,null,[G(ie(ge),{title:"Размеры"}),G(he,null,{header:D(()=>[ir]),default:D(()=>[s("div",rr,[s("div",nr,[s("div",ar,[s("div",dr,[e.loading?u("",!0):(i(),z(mt,{key:0,item:e.selectedSize,onCallback:e.callbackSizeForm},null,8,["item","onCallback"])),cr,s("div",hr,[s("ul",ur,[s("li",pr,[s("a",{class:J(["nav-link",{active:e.tab===0}]),"aria-current":"page",onClick:o[0]||(o[0]=l=>e.tab=0),href:"javascript:void(0)"},"Таблица размеров",2)]),s("li",mr,[s("a",{class:J(["nav-link",{active:e.tab===1}]),onClick:o[1]||(o[1]=l=>e.tab=1),href:"javascript:void(0)"},"Сводная таблица",2)])])]),e.tab===0?(i(),r(L,{key:1},[e.loading?u("",!0):(i(),z(fi,{key:0,onSelect:e.selectSize},null,8,["onSelect"]))],64)):u("",!0),e.tab===1?(i(),z(lr,{key:2})):u("",!0)])])])])]),_:1})],64))}});export{Mr as default};
