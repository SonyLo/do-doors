import{o as d,c as a,b as s,q as m,e as h,n as A,t as u,F as p,r as y,k as lo,f as _,h as V,m as x,g,I as to,v as U,a as Z,j as fo,i as I,d as E,w as P}from"./app-7qqAFMKY.js";import{_ as io}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{R as _o}from"./RalColorSelector-Bl0lesMZ.js";const po={props:["modelValue"],data(){return{side:0,door:null}},watch:{door:{handler(r){this.$emit("update:modelValue",this.door)},deep:!0}},mounted(){this.door=this.modelValue},computed:{sideColor(){return this.side===0?this.door.front_side_finish_color.code:this.door.back_side_finish_color.code},selectedSideFinishImageForDoor(){let r=this.side===0?"front_side_finish":"back_side_finish";if(!this.door[r].door_variants)return null;let o=this.door[r].door_variants.findIndex(e=>e.selected);return o===-1?null:this.door[r].door_variants[o].image},selectedSideFinishImageForWrapper(){let r=this.side===0?"front_side_finish":"back_side_finish";if(!this.door[r].wrapper_variants)return null;let o=this.door[r].wrapper_variants.findIndex(e=>e.selected);return o===-1?null:this.door[r].wrapper_variants[o].image}}},mo={key:0,class:"row"},vo={class:"col-12 mb-2"},go={key:1,class:"row"},yo={class:"col-12 col-md-8"},bo={key:0,class:"upper-jumper d-flex justify-content-center align-items-center"},Fo=s("div",{class:"door-upper-jumper d-flex justify-content-center align-items-center"},[s("p",{class:"text-center",style:{"font-size":"12px"}},"1")],-1),ko=[Fo],wo={style:{position:"relative"}},Co={class:"door"},$o=["src"],Do={class:"height"},Vo={class:"width"},So={class:"door-but"},Io={class:"height"},Uo={class:"depth"},zo={class:"door-footer"},Mo={key:0,class:"doorstep d-flex justify-content-center align-items-center",style:{"font-size":"12px"}},jo={key:1,class:"skirting-board d-flex justify-content-center align-items-center",style:{"font-size":"12px"}},Eo=s("p",null,"3",-1),Ao=[Eo],Po={class:"col-md-4 col-12"},Ro={class:"list-group list-group-numbered rounded-0 cursor-pointer"},Lo=s("li",{class:"list-group-item"},"Петли",-1);function To(r,o,e,l,t,n){return d(),a(p,null,[t.door?(d(),a("div",mo,[s("div",vo,[s("button",{class:m(["btn mr-2 rounded-0",{"btn-dark":t.side===0,"btn-outline-secondary":t.side!==0}]),onClick:o[0]||(o[0]=i=>t.side=0)}," Лицевая сторона ",2),s("button",{class:m(["btn rounded-0",{"btn-dark":t.side===1,"btn-outline-secondary":t.side!==1}]),onClick:o[1]||(o[1]=i=>t.side=1)}," Внутренняя сторона ",2)])])):h("",!0),t.door?(d(),a("div",go,[s("div",yo,[s("div",{class:"stage w-100",style:A({"background-image":"url("+n.selectedSideFinishImageForWrapper+")"})},[t.door.need_upper_jumper?(d(),a("div",bo,ko)):h("",!0),s("div",wo,[s("div",Co,[s("img",{src:r.doorImage?r.doorImage:"/images/door-1.jpg",class:"w-100 h-100",style:{"object-fit":"cover"},alt:""},null,8,$o),s("div",{class:"door-color",style:A({"background-color":n.sideColor||"transparent"})},null,4),s("div",Do,[s("span",null,u(t.door.height),1)]),s("div",Vo,[s("span",null,u(t.door.width),1)]),t.door.handle_holes.id!==3&&t.door.need_handle_holes&&t.door.loops.type?(d(),a("div",{key:0,class:m(["handle",{"to-left":t.door.loops.type==="left","to-right":t.door.loops.type==="right"}]),style:A([{"background-size":"cover"},{"background-color":t.door.handle_holes_type.color||"transparent","background-image":t.door.loops.type==="right"?"url(images/handle-left.png)":"url(images/handle-right.png)"}])},"6 ",6)):h("",!0),t.door.loops.type?(d(),a("div",{key:1,class:m(["loops",{"to-left":t.door.loops.type==="left","to-right":t.door.loops.type==="right"}])},[(d(!0),a(p,null,y(t.door.loops_count,i=>(d(),a("span",null,"7"))),256))],2)):h("",!0)]),s("div",So,[s("div",Io,[s("span",null,u(t.door.height),1)]),s("div",Uo,[s("span",null,u(t.door.depth),1)])])]),s("div",zo,[t.door.need_automatic_doorstep?(d(),a("div",Mo," 2 ")):h("",!0),t.door.need_hidden_skirting_board?(d(),a("div",jo,Ao)):h("",!0),t.door.need_hidden_stopper?(d(),a("div",{key:2,class:m(["stopper d-flex justify-content-center align-items-center",{"to-left":t.door.loops.type==="left","to-right":t.door.loops.type==="right"}]),style:{"font-size":"12px"}}," 4 ",2)):h("",!0),t.door.need_hidden_door_closer?(d(),a("div",{key:3,class:m(["door-closer d-flex justify-content-center align-items-center",{"to-left":t.door.loops.type==="left","to-right":t.door.loops.type==="right"}]),style:{"font-size":"12px"}}," 5 ",2)):h("",!0)])],4)]),s("div",Po,[s("ul",Ro,[s("li",{onClick:o[2]||(o[2]=i=>t.door.need_upper_jumper=!t.door.need_upper_jumper),class:m([{"bg-dark text-white":t.door.need_upper_jumper},"list-group-item"])},"Верхняя перемычка",2),s("li",{onClick:o[3]||(o[3]=i=>t.door.need_automatic_doorstep=!t.door.need_automatic_doorstep),class:m([{"bg-dark text-white":t.door.need_automatic_doorstep},"list-group-item"])},"Скрытый порог",2),s("li",{onClick:o[4]||(o[4]=i=>t.door.need_hidden_skirting_board=!t.door.need_hidden_skirting_board),class:m([{"bg-dark text-white":t.door.need_hidden_skirting_board},"list-group-item"])},"Скрытый плинтус",2),s("li",{onClick:o[5]||(o[5]=i=>t.door.need_hidden_stopper=!t.door.need_hidden_stopper),class:m([{"bg-dark text-white":t.door.need_hidden_stopper},"list-group-item"])},"Скрытый стопор",2),s("li",{onClick:o[6]||(o[6]=i=>t.door.need_hidden_door_closer=!t.door.need_hidden_door_closer),class:m([{"bg-dark text-white":t.door.need_hidden_door_closer},"list-group-item"])},"Скрытый доводчик",2),s("li",{onClick:o[7]||(o[7]=i=>t.door.need_handle_holes=!t.door.need_handle_holes),class:m([{"bg-dark text-white":t.door.need_handle_holes&&t.door.loops.type},"list-group-item"])},"Дверная ручка",2),Lo])])])):h("",!0)],64)}const qo=io(po,[["render",To]]),Ho={props:["item"],data(){return{need_select_door_variant:!0,need_select_wrapper_variant:!0}},watch:{need_select_door_variant:{handler(r){this.need_select_door_variant||(this.item.door_variants.forEach(o=>{o.selected&&delete o.selected}),this.$emit("update:item",this.item))},deep:!0},need_select_wrapper_variant:{handler(r){this.need_select_wrapper_variant||(this.item.wrapper_variants.forEach(o=>{o.selected&&delete o.selected}),this.$emit("update:item",this.item))},deep:!0}},methods:{selectSideFinish(r,o){this.item[r][o].selected||!1||this.item[r].forEach(l=>{l.selected&&delete l.selected}),this.item[r][o].selected=!this.item[r][o].selected,this.$emit("update:item",this.item)}}},Oo={class:"font-bold my-2"},Wo={class:"row"},Bo={class:"col-12"},No={class:"form-check form-switch"},Go=s("label",{class:"form-check-label",for:"need_select_door_variant"}," Нужно подобрать текстуру дверей ",-1),Ko={key:0,class:"row mb-2"},Xo=s("div",{class:"col-12"},[s("h6",{class:"font-700 font-bold my-3"},"Перечень вариантов дверей")],-1),Jo={class:"col-lg-4 col-md-4 col-12 mb-2"},Qo=["onClick"],Yo={class:"card-img-top",alt:"..."},Zo={class:"card-body"},xo={key:0,class:"font-bold"},oe={key:1,class:"card-text"},ee={class:"row"},te={class:"col-12"},se={class:"form-check form-switch"},re=s("label",{class:"form-check-label",for:"need_select_door_variant"}," Нужно подобрать текстуру материала вокруг двери ",-1),le={key:1,class:"row mb-2"},ie=s("div",{class:"col-12"},[s("h6",{class:"font-700 font-bold my-3"},"Перечень вариантов текстуры материала вокруг дверей")],-1),ne={class:"col-lg-4 col-md-4 col-12 mb-2"},de=["onClick"],ae={class:"card-img-top",alt:"..."},ce={class:"card-body"},he={key:0,class:"font-bold"},ue={key:1,class:"card-text"};function fe(r,o,e,l,t,n){const i=lo("lazy");return d(),a(p,null,[s("h3",Oo,'Выбранный материал "'+u(e.item.title||"не указан")+'"',1),s("div",Wo,[s("div",Bo,[s("div",No,[_(s("input",{class:"form-check-input","onUpdate:modelValue":o[0]||(o[0]=c=>t.need_select_door_variant=c),type:"checkbox",role:"switch",id:"need_select_door_variant",checked:""},null,512),[[V,t.need_select_door_variant]]),Go])])]),e.item.door_variants&&t.need_select_door_variant?(d(),a("div",Ko,[Xo,(d(!0),a(p,null,y(e.item.door_variants,(c,f)=>(d(),a("div",Jo,[s("div",{class:m(["card cursor-pointer",{"border-secondary shadow-lg":c.selected}]),onClick:v=>n.selectSideFinish("door_variants",f)},[_(s("img",Yo,null,512),[[i,c.image]]),s("div",Zo,[c.title?(d(),a("h6",xo,u(c.title||"не указано"),1)):h("",!0),c.description?(d(),a("p",oe,u(c.description||"не указано"),1)):h("",!0)])],10,Qo)]))),256))])):h("",!0),s("div",ee,[s("div",te,[s("div",se,[_(s("input",{class:"form-check-input","onUpdate:modelValue":o[1]||(o[1]=c=>t.need_select_wrapper_variant=c),type:"checkbox",role:"switch",id:"need_select_door_variant",checked:""},null,512),[[V,t.need_select_wrapper_variant]]),re])])]),e.item.wrapper_variants&&t.need_select_wrapper_variant?(d(),a("div",le,[ie,(d(!0),a(p,null,y(e.item.wrapper_variants,(c,f)=>(d(),a("div",ne,[s("div",{class:m(["card cursor-pointer",{"border-secondary shadow-lg":c.selected}]),onClick:v=>n.selectSideFinish("wrapper_variants",f)},[_(s("img",ae,null,512),[[i,c.image]]),s("div",ce,[c.title?(d(),a("h6",he,u(c.title||"не указано"),1)):h("",!0),c.description?(d(),a("p",ue,u(c.description||"не указано"),1)):h("",!0)])],10,de)]))),256))])):h("",!0)],64)}const so=io(Ho,[["render",fe]]);var B,_e=new Uint8Array(16);function no(){if(!B&&(B=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!B))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(_e)}const pe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ao(r){return typeof r=="string"&&pe.test(r)}var F=[];for(var K=0;K<256;++K)F.push((K+256).toString(16).substr(1));function oo(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(F[r[o+0]]+F[r[o+1]]+F[r[o+2]]+F[r[o+3]]+"-"+F[r[o+4]]+F[r[o+5]]+"-"+F[r[o+6]]+F[r[o+7]]+"-"+F[r[o+8]]+F[r[o+9]]+"-"+F[r[o+10]]+F[r[o+11]]+F[r[o+12]]+F[r[o+13]]+F[r[o+14]]+F[r[o+15]]).toLowerCase();if(!ao(e))throw TypeError("Stringified UUID is invalid");return e}var ro,X,J=0,Q=0;function me(r,o,e){var l=o&&e||0,t=o||new Array(16);r=r||{};var n=r.node||ro,i=r.clockseq!==void 0?r.clockseq:X;if(n==null||i==null){var c=r.random||(r.rng||no)();n==null&&(n=ro=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),i==null&&(i=X=(c[6]<<8|c[7])&16383)}var f=r.msecs!==void 0?r.msecs:Date.now(),v=r.nsecs!==void 0?r.nsecs:Q+1,b=f-J+(v-Q)/1e4;if(b<0&&r.clockseq===void 0&&(i=i+1&16383),(b<0||f>J)&&r.nsecs===void 0&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");J=f,Q=v,X=i,f+=122192928e5;var z=((f&268435455)*1e4+v)%4294967296;t[l++]=z>>>24&255,t[l++]=z>>>16&255,t[l++]=z>>>8&255,t[l++]=z&255;var D=f/4294967296*1e4&268435455;t[l++]=D>>>8&255,t[l++]=D&255,t[l++]=D>>>24&15|16,t[l++]=D>>>16&255,t[l++]=i>>>8|128,t[l++]=i&255;for(var S=0;S<6;++S)t[l+S]=n[S];return o||oo(t)}function ve(r){if(!ao(r))throw TypeError("Invalid UUID");var o,e=new Uint8Array(16);return e[0]=(o=parseInt(r.slice(0,8),16))>>>24,e[1]=o>>>16&255,e[2]=o>>>8&255,e[3]=o&255,e[4]=(o=parseInt(r.slice(9,13),16))>>>8,e[5]=o&255,e[6]=(o=parseInt(r.slice(14,18),16))>>>8,e[7]=o&255,e[8]=(o=parseInt(r.slice(19,23),16))>>>8,e[9]=o&255,e[10]=(o=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=o/4294967296&255,e[12]=o>>>24&255,e[13]=o>>>16&255,e[14]=o>>>8&255,e[15]=o&255,e}function ge(r){r=unescape(encodeURIComponent(r));for(var o=[],e=0;e<r.length;++e)o.push(r.charCodeAt(e));return o}var ye="6ba7b810-9dad-11d1-80b4-00c04fd430c8",be="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function co(r,o,e){function l(t,n,i,c){if(typeof t=="string"&&(t=ge(t)),typeof n=="string"&&(n=ve(n)),n.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+t.length);if(f.set(n),f.set(t,n.length),f=e(f),f[6]=f[6]&15|o,f[8]=f[8]&63|128,i){c=c||0;for(var v=0;v<16;++v)i[c+v]=f[v];return i}return oo(f)}try{l.name=r}catch{}return l.DNS=ye,l.URL=be,l}function Fe(r){if(typeof r=="string"){var o=unescape(encodeURIComponent(r));r=new Uint8Array(o.length);for(var e=0;e<o.length;++e)r[e]=o.charCodeAt(e)}return ke(we(Ce(r),r.length*8))}function ke(r){for(var o=[],e=r.length*32,l="0123456789abcdef",t=0;t<e;t+=8){var n=r[t>>5]>>>t%32&255,i=parseInt(l.charAt(n>>>4&15)+l.charAt(n&15),16);o.push(i)}return o}function ho(r){return(r+64>>>9<<4)+14+1}function we(r,o){r[o>>5]|=128<<o%32,r[ho(o)-1]=o;for(var e=1732584193,l=-271733879,t=-1732584194,n=271733878,i=0;i<r.length;i+=16){var c=e,f=l,v=t,b=n;e=k(e,l,t,n,r[i],7,-680876936),n=k(n,e,l,t,r[i+1],12,-389564586),t=k(t,n,e,l,r[i+2],17,606105819),l=k(l,t,n,e,r[i+3],22,-1044525330),e=k(e,l,t,n,r[i+4],7,-176418897),n=k(n,e,l,t,r[i+5],12,1200080426),t=k(t,n,e,l,r[i+6],17,-1473231341),l=k(l,t,n,e,r[i+7],22,-45705983),e=k(e,l,t,n,r[i+8],7,1770035416),n=k(n,e,l,t,r[i+9],12,-1958414417),t=k(t,n,e,l,r[i+10],17,-42063),l=k(l,t,n,e,r[i+11],22,-1990404162),e=k(e,l,t,n,r[i+12],7,1804603682),n=k(n,e,l,t,r[i+13],12,-40341101),t=k(t,n,e,l,r[i+14],17,-1502002290),l=k(l,t,n,e,r[i+15],22,1236535329),e=w(e,l,t,n,r[i+1],5,-165796510),n=w(n,e,l,t,r[i+6],9,-1069501632),t=w(t,n,e,l,r[i+11],14,643717713),l=w(l,t,n,e,r[i],20,-373897302),e=w(e,l,t,n,r[i+5],5,-701558691),n=w(n,e,l,t,r[i+10],9,38016083),t=w(t,n,e,l,r[i+15],14,-660478335),l=w(l,t,n,e,r[i+4],20,-405537848),e=w(e,l,t,n,r[i+9],5,568446438),n=w(n,e,l,t,r[i+14],9,-1019803690),t=w(t,n,e,l,r[i+3],14,-187363961),l=w(l,t,n,e,r[i+8],20,1163531501),e=w(e,l,t,n,r[i+13],5,-1444681467),n=w(n,e,l,t,r[i+2],9,-51403784),t=w(t,n,e,l,r[i+7],14,1735328473),l=w(l,t,n,e,r[i+12],20,-1926607734),e=C(e,l,t,n,r[i+5],4,-378558),n=C(n,e,l,t,r[i+8],11,-2022574463),t=C(t,n,e,l,r[i+11],16,1839030562),l=C(l,t,n,e,r[i+14],23,-35309556),e=C(e,l,t,n,r[i+1],4,-1530992060),n=C(n,e,l,t,r[i+4],11,1272893353),t=C(t,n,e,l,r[i+7],16,-155497632),l=C(l,t,n,e,r[i+10],23,-1094730640),e=C(e,l,t,n,r[i+13],4,681279174),n=C(n,e,l,t,r[i],11,-358537222),t=C(t,n,e,l,r[i+3],16,-722521979),l=C(l,t,n,e,r[i+6],23,76029189),e=C(e,l,t,n,r[i+9],4,-640364487),n=C(n,e,l,t,r[i+12],11,-421815835),t=C(t,n,e,l,r[i+15],16,530742520),l=C(l,t,n,e,r[i+2],23,-995338651),e=$(e,l,t,n,r[i],6,-198630844),n=$(n,e,l,t,r[i+7],10,1126891415),t=$(t,n,e,l,r[i+14],15,-1416354905),l=$(l,t,n,e,r[i+5],21,-57434055),e=$(e,l,t,n,r[i+12],6,1700485571),n=$(n,e,l,t,r[i+3],10,-1894986606),t=$(t,n,e,l,r[i+10],15,-1051523),l=$(l,t,n,e,r[i+1],21,-2054922799),e=$(e,l,t,n,r[i+8],6,1873313359),n=$(n,e,l,t,r[i+15],10,-30611744),t=$(t,n,e,l,r[i+6],15,-1560198380),l=$(l,t,n,e,r[i+13],21,1309151649),e=$(e,l,t,n,r[i+4],6,-145523070),n=$(n,e,l,t,r[i+11],10,-1120210379),t=$(t,n,e,l,r[i+2],15,718787259),l=$(l,t,n,e,r[i+9],21,-343485551),e=M(e,c),l=M(l,f),t=M(t,v),n=M(n,b)}return[e,l,t,n]}function Ce(r){if(r.length===0)return[];for(var o=r.length*8,e=new Uint32Array(ho(o)),l=0;l<o;l+=8)e[l>>5]|=(r[l/8]&255)<<l%32;return e}function M(r,o){var e=(r&65535)+(o&65535),l=(r>>16)+(o>>16)+(e>>16);return l<<16|e&65535}function $e(r,o){return r<<o|r>>>32-o}function N(r,o,e,l,t,n){return M($e(M(M(o,r),M(l,n)),t),e)}function k(r,o,e,l,t,n,i){return N(o&e|~o&l,r,o,t,n,i)}function w(r,o,e,l,t,n,i){return N(o&l|e&~l,r,o,t,n,i)}function C(r,o,e,l,t,n,i){return N(o^e^l,r,o,t,n,i)}function $(r,o,e,l,t,n,i){return N(e^(o|~l),r,o,t,n,i)}var De=co("v3",48,Fe);const Ve=De;function Se(r,o,e){r=r||{};var l=r.random||(r.rng||no)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,o){e=e||0;for(var t=0;t<16;++t)o[e+t]=l[t];return o}return oo(l)}function Ie(r,o,e,l){switch(r){case 0:return o&e^~o&l;case 1:return o^e^l;case 2:return o&e^o&l^e&l;case 3:return o^e^l}}function Y(r,o){return r<<o|r>>>32-o}function Ue(r){var o=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var l=unescape(encodeURIComponent(r));r=[];for(var t=0;t<l.length;++t)r.push(l.charCodeAt(t))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var n=r.length/4+2,i=Math.ceil(n/16),c=new Array(i),f=0;f<i;++f){for(var v=new Uint32Array(16),b=0;b<16;++b)v[b]=r[f*64+b*4]<<24|r[f*64+b*4+1]<<16|r[f*64+b*4+2]<<8|r[f*64+b*4+3];c[f]=v}c[i-1][14]=(r.length-1)*8/Math.pow(2,32),c[i-1][14]=Math.floor(c[i-1][14]),c[i-1][15]=(r.length-1)*8&4294967295;for(var z=0;z<i;++z){for(var D=new Uint32Array(80),S=0;S<16;++S)D[S]=c[z][S];for(var j=16;j<80;++j)D[j]=Y(D[j-3]^D[j-8]^D[j-14]^D[j-16],1);for(var T=e[0],q=e[1],H=e[2],O=e[3],G=e[4],W=0;W<80;++W){var eo=Math.floor(W/20),uo=Y(T,5)+Ie(eo,q,H,O)+G+o[eo]+D[W]>>>0;G=O,O=H,H=Y(q,30)>>>0,q=T,T=uo}e[0]=e[0]+T>>>0,e[1]=e[1]+q>>>0,e[2]=e[2]+H>>>0,e[3]=e[3]+O>>>0,e[4]=e[4]+G>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var ze=co("v5",80,Ue);const Me=ze;var L={v1:me,v3:Ve,v4:Se,v5:Me};const je={key:0,class:"mb-2"},Ee={key:0,class:"dropdown-center"},Ae=s("i",{class:"fa-solid fa-palette"},null,-1),Pe={key:0,class:"mb-0"},Re={class:"dropdown-menu rounded-0"},Le=s("li",null,[s("hr",{class:"dropdown-divider"})],-1),Te=["onClick"],qe={key:1,class:"input-group mb-3"},He={class:"form-floating"},Oe={for:"seal_color"},We=s("i",{class:"fa-solid fa-palette"},null,-1),Be=s("button",{class:"btn btn-outline-secondary",type:"button","data-bs-auto-close":"true","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),Ne={class:"dropdown-menu dropdown-menu-end rounded-0"},Ge=s("li",null,[s("hr",{class:"dropdown-divider"})],-1),Ke=["onClick"],Xe=["id"],Je={class:"modal-dialog"},Qe={class:"modal-content rounded-0"},Ye=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор цвета RAL"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ze={class:"modal-body"},xe={props:["modelValue"],data(){return{id:null,color:null,colorModal:null,colors:[]}},watch:{getRalColors:{handler(r){this.colors=this.getRalColors},deep:!0},color:{handler(r){let o=this.color.title;(this.color.title||"").length===4&&Object.keys(this.colors).forEach(e=>{this.colors[e].code===o&&(this.color.code=this.colors[e].color.hex,this.color.title=this.colors[e].names.en)})},deep:!0}},computed:{...x(["getDictionary","getRalColors"]),filteredColors(){return this.getDictionary.color_variants.filter(o=>o.type==="seal"||o.type==="all")}},mounted(){this.id=L.v4(),this.color=this.modelValue},methods:{isHex(r){return/^#[0-9A-F]{6}$/i.test(r)},alert(r){this.$emit("invalid",r)},callbackSelectColor(r){this.color.title=r.names.en,this.color.code=r.color.hex,this.colorModal.hide()},selectColor(r){let o=null;r!=null&&(o={title:r.title||r.code,code:r.code||null,sizes:r.sizes,type:r.type||"all",assign_with_size:r.assign_with_size||!1},r.title==="RAL"&&(o={title:"RAL",code:"RAL",sizes:r.sizes,type:r.type||"all",assign_with_size:r.assign_with_size||!1},this.colorModal=new bootstrap.Modal(document.getElementById("select-ral-color-"+this.id),{}),this.colorModal.show())),this.color=o||{title:null},document.querySelectorAll(".dropdown-menu").forEach(l=>{l.classList.remove("show")}),this.$emit("change",this.color),this.$emit("update:modelValue",this.color)}}},R=Object.assign(xe,{__name:"ColorSelector",setup(r){return(o,e)=>(d(),a(p,null,[o.color?(d(),a("div",je,[(o.color.code||null)!=="RAL"?(d(),a("div",Ee,[s("button",{class:m([{"text-white":o.color.code||null},"btn btn-outline-secondary w-100 rounded-0 custom-dropdown-btn text-left"]),style:A({"background-color":o.color.code}),type:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false"},[s("span",{class:m([{"font-size-10":o.color.title},"mr-2"])},[Ae,g(),to(o.$slots,"name")],2),o.color.title?(d(),a("p",Pe,u(o.color.title),1)):h("",!0)],6),s("ul",Re,[s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[0]||(e[0]=l=>o.selectColor(null))},"Не выбрано")]),Le,s("li",null,[(d(!0),a(p,null,y(o.filteredColors,l=>(d(),a("a",{class:m(["dropdown-item",{"bg-primary text-white":o.color.title===l.title}]),onClick:t=>o.selectColor(l),href:"javascript:void(0)"},u(l.title),11,Te))),256))])])])):h("",!0),(o.color.code||null)==="RAL"?(d(),a("div",qe,[o.isHex(o.color.title)?(d(),a("span",{key:0,class:"input-group-text border-secondary",style:A([{"background-color":o.color.title},{width:"40px","border-radius":"0px"}]),id:"basic-addon1"},null,4)):h("",!0),s("div",He,[_(s("input",{type:"text",onInvalid:e[1]||(e[1]=l=>o.alert("Вы не выбрали цвет")),"onUpdate:modelValue":e[2]||(e[2]=l=>o.color.title=l),class:"form-control",id:"seal_color",required:""},null,544),[[U,o.color.title]]),s("label",Oe,[We,to(o.$slots,"name")])]),Be,s("ul",Ne,[s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[3]||(e[3]=l=>o.color={title:null})},"Не выбрано")]),Ge,s("li",null,[(d(!0),a(p,null,y(o.filteredColors,l=>(d(),a("a",{class:m(["dropdown-item",{"bg-primary text-white":o.color.title===l.title}]),onClick:t=>o.selectColor(l),href:"javascript:void(0)"},u(l.title),11,Ke))),256))])])])):h("",!0)])):h("",!0),s("div",{class:"modal fade",id:"select-ral-color-"+o.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[s("div",Je,[s("div",Qe,[Ye,s("div",Ze,[Z(_o,{onSelect:o.callbackSelectColor},null,8,["onSelect"])])])])],8,Xe)],64))}}),ot={class:"row"},et={class:"col-md-6"},tt={class:"row"},st={class:"col-md-6 col-12"},rt={class:"col-md-6 col-12"},lt={class:"input-group mb-3"},it={class:"form-floating"},nt=s("label",{for:"floatingInput"},[s("i",{class:"fa-solid fa-signs-post"}),g(" Назначение двери")],-1),dt=s("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),at={class:"dropdown-menu dropdown-menu-end rounded-0"},ct=s("li",null,[s("hr",{class:"dropdown-divider"})],-1),ht=["onClick"],ut={class:"col-md-6 col-12"},ft={class:"input-group mb-3"},_t={class:"form-floating"},pt=s("label",{for:"floatingInput"},[s("i",{class:"fa-solid fa-ruler-vertical"}),g(" Высота, мм")],-1),mt=s("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),vt={class:"dropdown-menu dropdown-menu-end rounded-0"},gt=s("li",null,[s("hr",{class:"dropdown-divider"})],-1),yt={class:"p-1"},bt={class:"form-floating"},Ft=s("label",{for:"filtered-height"},"Фильтр высоты",-1),kt=s("li",null,[s("hr",{class:"dropdown-divider"})],-1),wt={class:"scrollable-menu p-2"},Ct=["onClick"],$t={key:0,class:"text-center"},Dt={class:"col-md-6 col-12"},Vt={class:"input-group mb-3"},St={class:"form-floating"},It=s("label",{for:"floatingInput"},[s("i",{class:"fa-solid fa-ruler-horizontal"}),g(" Ширина, мм")],-1),Ut=s("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),zt={class:"dropdown-menu dropdown-menu-end rounded-0"},Mt=s("li",null,[s("hr",{class:"dropdown-divider"})],-1),jt={class:"p-1"},Et={class:"form-floating"},At=s("label",{for:"filtered-height"},"Фильтр ширины",-1),Pt=s("li",null,[s("hr",{class:"dropdown-divider"})],-1),Rt={class:"scrollable-menu p-2"},Lt=["onClick"],Tt={key:0,class:"text-center"},qt={class:"col-md-6 col-12"},Ht={class:"form-floating mb-3"},Ot=s("option",{value:{title:null}},"Выберите один из вариантов",-1),Wt=["value"],Bt=s("label",{for:"floatingSelect"},[s("i",{class:"fa-brands fa-openid"}),g(" Тип открытия двери и толщина")],-1),Nt={class:"col-md-6 col-12"},Gt={class:"form-floating mb-3"},Kt=["value"],Xt=s("label",{for:"door-type"},[s("i",{class:"fa-solid fa-door-open"}),g(" Выберите тип двери")],-1),Jt={class:"col-md-6 col-12"},Qt={class:"form-floating mb-3"},Yt=["value"],Zt=s("label",{for:"floatingSelect"},[s("i",{class:"fa-solid fa-industry"}),g(" Производитель петель")],-1),xt={class:"col-md-6 col-12"},os={class:"form-floating mb-3"},es=["value"],ts=s("label",{for:"floatingSelect"},[s("i",{class:"fa-solid fa-angles-left"}),g(" Сторона петель")],-1),ss={class:"col-md-6 col-12 mb-3"},rs={class:"input-group"},ls={class:"form-floating"},is=s("option",{value:{title:null}},"Выберите один из вариантов",-1),ns=["value"],ds=s("label",{for:"floatingSelect"},[s("i",{class:"fa-solid fa-paint-roller"}),g(" Отделка первой стороны ")],-1),as=s("i",{class:"fa-solid fa-images"},null,-1),cs=[as],hs={key:0,style:{"line-height":"100%"}},us=s("small",null,[s("em",null,[s("strong",{class:"text-danger"},"Внимание!"),g(" сочетание размера и материала не доступно для заказа!")])],-1),fs=[us],_s={class:"col-md-6 col-12"},ps={key:1,class:"card rounded-0"},ms=s("div",{class:"card-body p-3 disabled-element"},[s("p",{class:"text-center"},'Выбрано "Под покраску"')],-1),vs=[ms],gs={class:"col-md-6 col-12 mb-3"},ys={class:"input-group"},bs={class:"form-floating"},Fs=s("option",{value:{title:null}},"Выберите один из вариантов",-1),ks=["value"],ws=s("label",{for:"floatingSelect"},[s("i",{class:"fa-solid fa-paint-roller"}),g(" Отделка второй стороны")],-1),Cs=s("i",{class:"fa-solid fa-images"},null,-1),$s=[Cs],Ds={key:0,style:{"line-height":"100%"}},Vs=s("small",null,[s("em",null,[s("strong",{class:"text-danger"},"Внимание!"),g(" сочетание размера и материала не доступно для заказа!")])],-1),Ss=[Vs],Is={class:"col-md-6 col-12"},Us={key:1,class:"card rounded-0"},zs=s("div",{class:"card-body p-3 disabled-element"},[s("p",{class:"text-center"},'Выбрано "Под покраску"')],-1),Ms=[zs],js={class:"col-md-6 col-12"},Es={class:"col-md-6 col-12"},As={class:"col-md-6 col-12"},Ps={class:"col-12"},Rs={class:"form-floating"},Ls=s("label",{for:"door-comment"},"Комментарий к двери",-1),Ts={key:0,class:"row py-3"},qs={class:"col-12 d-flex align-items-center"},Hs={class:"form-check form-switch"},Os=s("label",{class:"form-check-label",for:"need-handle-holes"}," Нужна ручка \\ не нужна ручка ",-1),Ws={key:0,class:"col-md-6 col-12"},Bs={class:"form-floating mb-3"},Ns=["value"],Gs=s("label",{for:"floatingSelect"},"Отверстий под ручку",-1),Ks={key:1,class:"col-md-6 col-12"},Xs={class:"form-floating mb-3"},Js=s("option",{value:{title:null}},"Выберите один из вариантов",-1),Qs=["value"],Ys=s("label",{for:"floatingSelect"},"Выбор ручки",-1),Zs={key:2,class:"col-12"},xs={class:"row"},or={class:"col-12"},er={class:"mb-2"},tr={class:"col-lg-3 col-md-3 col-12 mb-2"},sr=["onClick"],rr={class:"card-img-top",alt:"..."},lr={class:"card-body"},ir={key:0,class:"font-bold"},nr={key:1,class:"card-text"},dr={key:3,class:"col-12"},ar=s("div",{class:"alert alert-warning rounded-0",role:"alert"},[s("p",null,"Вариантов изображений ручки нет")],-1),cr=[ar],hr={class:"col-12 d-flex align-items-center"},ur={class:"form-check form-switch"},fr=s("label",{class:"form-check-label",for:"need-upper-jumper"}," Нужна верхняя перемычка ",-1),_r={class:"col-12 d-flex align-items-center"},pr={class:"form-check form-switch"},mr=s("label",{class:"form-check-label",for:"need-automatic-doorstep"}," Нужен автоматический порог \\ не нужен ",-1),vr={class:"col-12 d-flex align-items-center"},gr={class:"form-check form-switch"},yr=s("label",{class:"form-check-label",for:"need-hidden-stopper"}," Нужен скрытый стопор \\ не нужен ",-1),br={class:"col-12 d-flex align-items-center"},Fr={class:"form-check form-switch"},kr=s("label",{class:"form-check-label",for:"need-hidden-door-closer"}," Нужен скрытый доводчик \\ не нужен ",-1),wr={class:"col-12 d-flex align-items-center"},Cr={class:"form-check form-switch"},$r=s("label",{class:"form-check-label",for:"need-hidden-skirting-board"}," Нужен скрытый плинтус \\ не нужен ",-1),Dr={class:"col-12 d-flex align-items-center"},Vr={class:"form-check form-switch"},Sr=s("label",{class:"form-check-label",for:"need-door-install"}," Нужен установка двери \\ не нужна ",-1),Ir={class:"col-12 d-flex align-items-center"},Ur={class:"form-check form-switch"},zr=s("label",{class:"form-check-label",for:"need-door-wrapper"}," Нужен упаковка двери \\ не нужна ",-1),Mr={class:"footer-nav w-100"},jr={class:"row bg-white p-2 m-0 border-gray-100 border shadow-md"},Er={class:"form-floating"},Ar=["value"],Pr=s("label",{for:"door-type"},"Тип цены",-1),Rr={key:0,class:"col-md-2 mb-2"},Lr={class:"form-floating"},Tr=s("label",{for:"floatingInput"},"Процент дилера",-1),qr={class:"col-md-4 d-flex justify-between mb-2"},Hr=s("i",{class:"fa-solid fa-minus"},null,-1),Or=[Hr],Wr={class:"input-group"},Br=s("i",{class:"fa-solid fa-plus"},null,-1),Nr=[Br],Gr={class:"col-md-2 d-flex justify-center align-items-center mb-2"},Kr={class:"text-center text-primary font-bold text-black",style:{"font-size":"16px"}},Xr={class:"col-md-2 d-flex"},Jr=["disabled"],Qr=s("i",{class:"fa-solid fa-floppy-disk"},null,-1),Yr={class:"col-md-6"},Zr={class:"preview"},xr={class:"card rounded-0 mt-3"},ol={class:"card-body"},el=s("h6",null,"Характеристики",-1),tl={class:"text-muted font-bold"},sl={class:"text-black mb-0"},rl={key:0,class:"mr-1"},ll={key:1,class:"mr-1"},il={key:2,class:"mr-1"},nl={key:3,class:"mr-1"},dl={key:4,class:"mr-1"},al={key:5,class:"mr-1"},cl={key:6,class:"mr-1"},hl={key:7,class:"mr-1"},ul={class:"col-12"},fl=["onClick"],_l=s("strong",null,"Внимание!",-1),pl={class:"modal fade",id:"confirm-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ml={class:"modal-dialog modal-dialog-centered"},vl={class:"modal-content rounded-0"},gl={class:"modal-body"},yl=s("div",{class:"d-flex justify-center p-3"},[s("img",{src:"/images/logo.png",style:{width:"100px"},alt:""})],-1),bl={class:"font-bold text-center py-3"},Fl={class:"text-center pb-3"},kl={class:"row"},wl={class:"col-6"},Cl={class:"col-6"},$l=["id"],Dl={class:"modal-dialog modal-lg"},Vl={class:"modal-content"},Sl=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор типа материала для первый стороны"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"fa-solid fa-xmark"})])],-1),Il={class:"modal-body"},Ul=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary text-secondary","data-bs-dismiss":"modal","aria-label":"Close"},"Закрыть ")],-1),zl=["id"],Ml={class:"modal-dialog modal-lg"},jl={class:"modal-content"},El=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор типа материала для второй стороны"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"fa-solid fa-xmark"})])],-1),Al={class:"modal-body"},Pl=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary text-secondary","data-bs-dismiss":"modal","aria-label":"Close"},"Закрыть ")],-1),Rl={name:"MyComponent",props:["door"],data(){return{need_addition:!0,messages:[],filterHeight:null,filterWidth:null,selectedColorParam:null,loadedParams:!0,confirmModal:null,finishFrontVariantModal:null,finishBackVariantModal:null,colors:[],confirm:{title:null,message:null},color_sync_update:!1,doorForm:{id:null,width:0,height:0,depth:0,count:1,price:0,size:null,purpose:null,comment:null,dealer_percent:0,opening_type:{title:null},box_and_frame_color:{title:null},door_type:{title:null},front_side_finish:{title:null},back_side_finish:{title:null},front_side_finish_color:{title:null},back_side_finish_color:{title:null},seal_color:{title:null},fittings_color:{title:null},loops:{title:null},loops_count:0,price_type:{title:null},hinge_manufacturer:{title:null},handle_holes:{title:null},handle_holes_type:{title:null},need_handle_holes:!0,need_upper_jumper:!0,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!0}}},computed:{...x(["getErrors","getDictionary","cartTotalCount","cartProducts","cartTotalPrice"]),filteredSideFinishColors(){return this.getDictionary.color_variants.filter(o=>o.type==="side_finish"||o.type==="all")},filteredBoxAndFrameColors(){return this.getDictionary.color_variants.filter(o=>o.type==="box_and_frame"||o.type==="all")},filteredFittingsColors(){return this.getDictionary.color_variants.filter(o=>o.type==="fittings"||o.type==="all")},filteredSealColors(){return this.getDictionary.color_variants.filter(o=>o.type==="seal"||o.type==="all")},resultPrice(){return this.doorForm.price_type.id!==3?this.summaryPrice:this.summaryPriceWithDealer},summaryPriceWithDealer(){return Math.round((this.summaryPrice||0)*(1+(this.doorForm.dealer_percent||0)/100))},summaryPrice(){let r=0,o=this.doorForm.price_type.key;Object.keys(this.doorForm).forEach(i=>{let c=!1;if(i&&typeof this.doorForm[i]=="object"&&this.doorForm[i]!=null){if(i==="opening_type"&&this.doorForm[i].sizes){c=!0;let f=this.doorForm[i].sizes.findIndex(b=>b.width==this.doorForm.width&&b.height==this.doorForm.height),v=f===-1?0:this.doorForm[i].sizes[f].price[o];r+=v||0}if(i.indexOf("_color")!==-1&&this.doorForm[i].sizes&&!c){c=!0;let f=0;if(!this.doorForm[i].assign_with_size)f=this.doorForm[i].sizes[0].price[o];else{let v=this.doorForm[i].sizes.findIndex(b=>b.width==this.doorForm.width&&b.height==this.doorForm.height);f=v===-1?0:this.doorForm[i].sizes[v].price[o]}r+=f||0}i==="size"&&this.doorForm[i].loops&&!c&&(c=!0,r+=this.doorForm[i].loops.price[o]||0),this.doorForm[i].price&&!c&&(r+=typeof this.doorForm[i].price=="object"?this.doorForm[i].price[o]||0:this.doorForm[i].price||0)}});let e=this.getDictionary.prices,l=0,t=!1,n=null;if(e.forEach(i=>{i.width===this.doorForm.width&&i.height===this.doorForm.height&&(t=!0,n=i)}),t)n.materials.forEach(i=>{i.id===this.doorForm.front_side_finish.id&&(l+=typeof i.price=="object"?i.price[o]:i.price),i.id===this.doorForm.back_side_finish.id&&(l+=typeof i.price=="object"?i.price[o]:i.price)});else for(let i=0;i<e.length;i++)if(e[i].width>=this.doorForm.width&&e[i].height>=this.doorForm.height){e[i].materials.forEach(c=>{c.id===this.doorForm.front_side_finish.id&&(l+=typeof c.price=="object"?c.price[o]:c.price)}),e[i].materials.forEach(c=>{c.id===this.doorForm.back_side_finish.id&&(l+=typeof c.price=="object"?c.price[o]:c.price)});break}return r+l},filteredHeight(){return this.getDictionary?this.filterHeight?this.getDictionary.size_variants.filter(r=>(""+r.height).indexOf(this.filterHeight)!==-1):this.getDictionary.size_variants:[]},filteredWidth(){return this.getDictionary?this.filterWidth?this.getDictionary.size_variants.filter(r=>(""+r.width).indexOf(this.filterWidth)!==-1):this.getDictionary.size_variants:[]}},watch:{doorForm:{handler(r){this.loadedParams=!1,this.$nextTick(()=>{this.loadedParams=!0})},deep:!0},"doorForm.need_handle_holes":{handler(r){this.doorForm.need_handle_holes||(this.doorForm.handle_holes=this.getDictionary.handle_holes_variants[0],this.doorForm.handle_holes_type={title:null})},deep:!0},"doorForm.opening_type":{handler(r){if(this.doorForm.opening_type){let o=this.getDictionary.opening_variants.find(e=>e.id===this.doorForm.opening_type.id);o&&(this.doorForm.depth=o.depth||0)}},deep:!0},summaryPriceWithDealer:{handler(r){this.doorForm.price=this.summaryPriceWithDealer},deep:!0},summaryPrice:{handler(r){this.doorForm.price=this.summaryPrice},deep:!0}},mounted(){this.loadRalColors(),this.confirmModal=new bootstrap.Modal(document.getElementById("confirm-modal"),{}),this.door?this.$nextTick(()=>{this.doorForm={id:this.door.product.id,width:this.door.product.width,height:this.door.product.height,depth:this.door.product.depth,count:this.door.quantity,size:this.door.product.size,purpose:this.door.product.purpose||null,handle_holes:this.door.product.handle_holes||null,handle_holes_type:this.door.product.handle_holes_type||null,opening_type:this.door.product.opening_type||null,box_and_frame_color:this.door.product.box_and_frame_color||null,door_type:this.door.product.door_type||null,front_side_finish:this.door.product.front_side_finish||null,back_side_finish:this.door.product.back_side_finish||null,front_side_finish_color:this.door.product.front_side_finish_color||null,back_side_finish_color:this.door.product.back_side_finish_color||null,seal_color:this.door.product.seal_color||null,fittings_color:this.door.product.fittings_color||null,loops:this.door.product.loops||null,loops_count:this.door.product.loops_count||0,price_type:this.door.product.price_type||null,hinge_manufacturer:this.door.product.hinge_manufacturer||null,need_handle_holes:!0,need_upper_jumper:!0,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!0}}):(this.doorForm.id=L.v1(),this.$nextTick(()=>{this.clearForm(!1)})),this.doorForm.purpose="Дверь "+(this.cartProducts.length+1)},methods:{loadRalColors(){this.$store.dispatch("loadRalColors")},openConfirmModal(r,o){this.confirm.title=r||null,this.confirm.message=o||null,this.confirmModal.show()},selectSideFinish(r,o,e){this.doorForm[r][o][e].selected||!1||this.doorForm[r][o].forEach(t=>{t.selected&&delete t.selected}),this.doorForm[r][o][e].selected=!this.doorForm[r][o][e].selected},priceForSide(r){let o=this.doorForm.price_type.key,e=0,l=null,t=this.getDictionary.prices;if(this.doorForm.width===0&&this.doorForm.height===0)return 0;if(t.forEach(i=>{this.doorForm.width===i.width&&this.doorForm.height===i.height&&(l=i)}),!l)return e;let n=null;return l.materials&&l.materials.forEach(i=>{i.id===this.doorForm[r].id&&(n=i.price,e=typeof i.price=="object"?i.price[o]:i.price)}),this.doorForm[r].price_variants=n,e},clearForm(r=!1){this.confirmModal.hide(),r?this.doorForm={id:L.v1(),width:this.getDictionary.size_variants[0].width||0,height:this.getDictionary.size_variants[0].height||0,depth:0,count:0,size:null,purpose:"Входная",handle_holes:this.getDictionary.handle_holes_variants[0],handle_holes_type:this.getDictionary.handle_holes_type_variants[0],opening_type:this.getDictionary.opening_variants[0],box_and_frame_color:{title:null},door_type:this.getDictionary.door_variants[0],front_side_finish:this.getDictionary.finishes_variants[0],back_side_finish:this.getDictionary.finishes_variants[0],front_side_finish_color:{title:null},back_side_finish_color:{title:null},seal_color:{title:null},fittings_color:{title:null},loops:this.getDictionary.loops_variants[0],loops_count:2,price_type:this.getDictionary.price_type_variants[1],hinge_manufacturer:this.getDictionary.hinge_manufacturer_variants[0],need_handle_holes:!0,need_upper_jumper:!0,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!0}:this.doorForm={id:L.v1(),width:this.getDictionary.size_variants[0].width||0,height:this.getDictionary.size_variants[0].height||0,depth:0,count:1,price:0,size:null,purpose:null,dealer_percent:0,opening_type:{title:null},box_and_frame_color:{title:null},door_type:this.getDictionary.door_variants[0],front_side_finish:{title:null},back_side_finish:{title:null},front_side_finish_color:{title:null},back_side_finish_color:{title:null},seal_color:{title:null},fittings_color:{title:null},loops:this.getDictionary.loops_variants[0],loops_count:0,price_type:this.getDictionary.price_type_variants[1],hinge_manufacturer:this.getDictionary.hinge_manufacturer_variants[0],handle_holes:this.getDictionary.handle_holes_variants[0],handle_holes_type:{title:null},need_handle_holes:!0,need_upper_jumper:!0,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!0}},selectDoorSize(r){if(r==null){this.doorForm.width=0,this.doorForm.height=0,this.doorForm.size=null,this.doorForm.loops_count=0;return}this.doorForm.width=r.width,this.doorForm.height=r.height,this.doorForm.size=r,this.doorForm.loops_count=r.loops.count},changeDoorCount(r){r==="add"&&this.doorForm.count++,r==="sub"&&this.doorForm.count>0&&this.doorForm.count--},selectFrontSideFinish(){(this.doorForm.front_side_finish.door_variants||[]).length!==0&&(this.finishFrontVariantModal=new bootstrap.Modal(document.getElementById("finish-front-variant-modal-"+this.doorForm.id),{}),this.finishFrontVariantModal.show())},selectBackSideFinish(){(this.doorForm.back_side_finish.door_variants||[]).length!==0&&(this.finishBackVariantModal=new bootstrap.Modal(document.getElementById("finish-back-variant-modal-"+this.doorForm.id),{}),this.finishBackVariantModal.show())},alert(r){this.messages.push(r)},removeMessage(r){this.messages.splice(r,1)},syncColors(r,o){o.title!="RAL"&&(this.color_sync_update=!0,this.$nextTick(()=>{this.color_sync_update=!1,this.doorForm.box_and_frame_color.title==null&&(this.doorForm.box_and_frame_color=o),this.doorForm.seal_color.title==null&&(this.doorForm.seal_color=o),this.doorForm.fittings_color.title==null&&(this.doorForm.fittings_color=o)}))},submitForm(){this.messages=[],this.$store.dispatch("addProductToCart",this.doorForm).then(()=>{this.$nextTick(()=>{this.doorForm.id=L.v4()}),this.confirmModal.show(),this.$notify({title:"DoDoors",text:"Дверь успешно добавлена в корзину",type:"success"})})}}},Ll=Object.assign(Rl,{setup(r){return(o,e)=>{const l=lo("lazy");return d(),a(p,null,[s("div",ot,[s("div",et,[s("form",{onSubmit:e[59]||(e[59]=fo((...t)=>o.submitForm&&o.submitForm(...t),["prevent"]))},[s("div",tt,[s("div",st,[s("button",{type:"button",onClick:e[0]||(e[0]=t=>o.openConfirmModal("Внимание!","Вы очищает текущую работу в калькуляторе! Продолжить?")),class:"btn rounded-0 w-100 btn-dark p-3"},"Очистить форму ")]),s("div",rt,[s("div",lt,[s("div",it,[_(s("input",{type:"text",min:"0","onUpdate:modelValue":e[1]||(e[1]=t=>o.doorForm.purpose=t),class:"form-control",id:"floatingInput"},null,512),[[U,o.doorForm.purpose]]),nt]),dt,s("ul",at,[s("li",null,[s("a",{class:"dropdown-item",onClick:e[2]||(e[2]=t=>o.doorForm.purpose=null),href:"javascript:void(0)"},"Не выбрано")]),ct,s("li",null,[(d(!0),a(p,null,y(o.getDictionary.purpose_variants,t=>(d(),a("a",{class:m(["dropdown-item",{"bg-primary text-white":o.doorForm.purpose===t}]),onClick:n=>o.doorForm.purpose=t,href:"javascript:void(0)"},u(t),11,ht))),256))])])])]),s("div",ut,[s("div",ft,[s("div",_t,[_(s("input",{type:"number",min:"0",onInvalid:e[3]||(e[3]=t=>o.alert("Вы не выбрали  ввели высоту двери!")),"onUpdate:modelValue":e[4]||(e[4]=t=>o.doorForm.height=t),class:"form-control",id:"floatingInput",required:""},null,544),[[U,o.doorForm.height]]),pt]),mt,s("ul",vt,[s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[5]||(e[5]=t=>o.selectDoorSize(null))},"Не выбрано")]),gt,s("li",yt,[s("div",bt,[_(s("input",{type:"search","onUpdate:modelValue":e[6]||(e[6]=t=>o.filterHeight=t),class:"form-control",id:"filtered-height",placeholder:"name@example.com"},null,512),[[U,o.filterHeight]]),Ft])]),kt,s("li",wt,[(d(!0),a(p,null,y(o.filteredHeight,t=>(d(),a("a",{class:m(["dropdown-item",{"bg-primary":o.doorForm.width===t.width&&o.doorForm.width===t.height}]),onClick:n=>o.selectDoorSize(t),href:"javascript:void(0)"},u(t.height)+"x"+u(t.width),11,Ct))),256)),o.filteredHeight.length===0?(d(),a("p",$t,"Ничего не найдено")):h("",!0)])])])]),s("div",Dt,[s("div",Vt,[s("div",St,[_(s("input",{type:"number",min:"0",onInvalid:e[7]||(e[7]=t=>o.alert("Вы не выбрали  ввели ширину двери!")),"onUpdate:modelValue":e[8]||(e[8]=t=>o.doorForm.width=t),class:"form-control",id:"floatingInput",required:""},null,544),[[U,o.doorForm.width]]),It]),Ut,s("ul",zt,[s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[9]||(e[9]=t=>o.selectDoorSize(null))},"Не выбрано")]),Mt,s("li",jt,[s("div",Et,[_(s("input",{type:"search","onUpdate:modelValue":e[10]||(e[10]=t=>o.filterWidth=t),class:"form-control",id:"filtered-height",placeholder:"name@example.com"},null,512),[[U,o.filterWidth]]),At])]),Pt,s("li",Rt,[(d(!0),a(p,null,y(o.filteredWidth,t=>(d(),a("a",{class:m(["dropdown-item",{"bg-primary text-white":o.doorForm.width===t.width&&o.doorForm.width===t.height}]),onClick:n=>o.selectDoorSize(t),href:"javascript:void(0)"},u(t.height)+"x"+u(t.width),11,Lt))),256)),o.filteredWidth.length===0?(d(),a("p",Tt,"Ничего не найдено")):h("",!0)])])])]),s("div",qt,[s("div",Ht,[_(s("select",{class:"form-select","onUpdate:modelValue":e[11]||(e[11]=t=>o.doorForm.opening_type=t),onInvalid:e[12]||(e[12]=t=>o.alert("Вы не выбрали вариант открывания и толщину двери!")),id:"floatingSelect","aria-label":"Floating label select example",required:""},[Ot,(d(!0),a(p,null,y(o.getDictionary.opening_variants,t=>(d(),a("option",{value:t},u(t.title)+" (толщина "+u(t.depth)+" мм) ",9,Wt))),256))],544),[[I,o.doorForm.opening_type]]),Bt])]),s("div",Nt,[s("div",Gt,[_(s("select",{class:"form-select","onUpdate:modelValue":e[13]||(e[13]=t=>o.doorForm.door_type=t),onInvalid:e[14]||(e[14]=t=>o.alert("Вы не выбрали тип двери!")),id:"door-type","aria-label":"door-type",required:""},[(d(!0),a(p,null,y(o.getDictionary.door_variants,t=>(d(),a("option",{value:t},u(t.title),9,Kt))),256))],544),[[I,o.doorForm.door_type]]),Xt])]),s("div",Jt,[s("div",Qt,[_(s("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=t=>o.doorForm.hinge_manufacturer=t),onInvalid:e[16]||(e[16]=t=>o.alert("Вы не выбрали расположение петель!")),id:"floatingSelect","aria-label":"Floating label select example",required:""},[(d(!0),a(p,null,y(o.getDictionary.hinge_manufacturer_variants,t=>(d(),a("option",{value:t},u(t.title),9,Yt))),256))],544),[[I,o.doorForm.hinge_manufacturer]]),Zt])]),s("div",xt,[s("div",os,[_(s("select",{class:"form-select","onUpdate:modelValue":e[17]||(e[17]=t=>o.doorForm.loops=t),onInvalid:e[18]||(e[18]=t=>o.alert("Вы не выбрали сторону петель!")),id:"floatingSelect","aria-label":"Floating label select example",required:""},[(d(!0),a(p,null,y(o.getDictionary.loops_variants,t=>(d(),a("option",{value:t},u(t.title),9,es))),256))],544),[[I,o.doorForm.loops]]),ts])]),s("div",ss,[s("div",rs,[s("div",ls,[_(s("select",{class:"form-select",onInvalid:e[19]||(e[19]=t=>o.alert("Вы не выбрали отделку первой стороны двери!")),"onUpdate:modelValue":e[20]||(e[20]=t=>o.doorForm.front_side_finish=t),id:"floatingSelect","aria-label":"Floating label select example",required:""},[is,(d(!0),a(p,null,y(o.getDictionary.finishes_variants,t=>(d(),a("option",{value:t},u(t.title),9,ns))),256))],544),[[I,o.doorForm.front_side_finish]]),ds]),(o.doorForm.front_side_finish.door_variants||[]).length!==0?(d(),a("button",{key:0,onClick:e[21]||(e[21]=(...t)=>o.selectFrontSideFinish&&o.selectFrontSideFinish(...t)),class:"btn btn-outline-secondary rounded-0",type:"button"},cs)):h("",!0)]),o.priceForSide("front_side_finish")===0?(d(),a("p",hs,fs)):h("",!0)]),s("div",_s,[o.doorForm.front_side_finish.title!=="Под покраску"?(d(),E(R,{key:0,onInvalid:e[22]||(e[22]=t=>o.alert("Вы не выбрали цвет отделки первой стороны")),modelValue:o.doorForm.front_side_finish_color,"onUpdate:modelValue":e[23]||(e[23]=t=>o.doorForm.front_side_finish_color=t)},{name:P(()=>[g(" Цвет отделки первой стороны ")]),_:1},8,["modelValue"])):(d(),a("div",ps,vs))]),s("div",gs,[s("div",ys,[s("div",bs,[_(s("select",{class:"form-select",onInvalid:e[24]||(e[24]=t=>o.alert("Вы не выбрали отделку второй стороны двери!")),"onUpdate:modelValue":e[25]||(e[25]=t=>o.doorForm.back_side_finish=t),id:"floatingSelect","aria-label":"Floating label select example",required:""},[Fs,(d(!0),a(p,null,y(o.getDictionary.finishes_variants,t=>(d(),a("option",{value:t},u(t.title),9,ks))),256))],544),[[I,o.doorForm.back_side_finish]]),ws]),(o.doorForm.back_side_finish.door_variants||[]).length!==0?(d(),a("button",{key:0,onClick:e[26]||(e[26]=(...t)=>o.selectBackSideFinish&&o.selectBackSideFinish(...t)),class:"btn btn-outline-secondary rounded-0",type:"button"},$s)):h("",!0)]),o.priceForSide("back_side_finish")===0?(d(),a("p",Ds,Ss)):h("",!0)]),s("div",Is,[o.doorForm.back_side_finish.title!=="Под покраску"?(d(),E(R,{key:0,onInvalid:e[27]||(e[27]=t=>o.alert("Вы не выбрали цвет отделки второй стороны")),modelValue:o.doorForm.back_side_finish_color,"onUpdate:modelValue":e[28]||(e[28]=t=>o.doorForm.back_side_finish_color=t)},{name:P(()=>[g(" Цвет отделки второй стороны ")]),_:1},8,["modelValue"])):(d(),a("div",Us,Ms))]),s("div",js,[o.color_sync_update?h("",!0):(d(),E(R,{key:0,onChange:e[29]||(e[29]=t=>o.syncColors("box_and_frame_color",t)),onInvalid:e[30]||(e[30]=t=>o.alert("Вы не выбрали цвет короба и каркаса")),modelValue:o.doorForm.box_and_frame_color,"onUpdate:modelValue":e[31]||(e[31]=t=>o.doorForm.box_and_frame_color=t)},{name:P(()=>[g(" Цвет короба и каркаса ")]),_:1},8,["modelValue"]))]),s("div",Es,[o.color_sync_update?h("",!0):(d(),E(R,{key:0,onChange:e[32]||(e[32]=t=>o.syncColors("seal_color",t)),onInvalid:e[33]||(e[33]=t=>o.alert("Вы не выбрали цвет уплотнителя")),modelValue:o.doorForm.seal_color,"onUpdate:modelValue":e[34]||(e[34]=t=>o.doorForm.seal_color=t)},{name:P(()=>[g(" Цвет уплотнителя ")]),_:1},8,["modelValue"]))]),s("div",As,[o.color_sync_update?h("",!0):(d(),E(R,{key:0,onChange:e[35]||(e[35]=t=>o.syncColors("fittings_color",t)),onInvalid:e[36]||(e[36]=t=>o.alert("Вы не выбрали цвет фурнитуры")),modelValue:o.doorForm.fittings_color,"onUpdate:modelValue":e[37]||(e[37]=t=>o.doorForm.fittings_color=t)},{name:P(()=>[g(" Цвет фурнитуры ")]),_:1},8,["modelValue"]))]),s("div",Ps,[s("div",Rs,[_(s("textarea",{class:"form-control border-secondary rounded-0","onUpdate:modelValue":e[38]||(e[38]=t=>o.doorForm.comment=t),style:{"min-height":"100px"},placeholder:"Оставьте комментарий",id:"door-comment"},null,512),[[U,o.doorForm.comment]]),Ls])])]),o.need_addition?(d(),a("div",Ts,[s("div",qs,[s("div",Hs,[_(s("input",{class:"form-check-input","onUpdate:modelValue":e[39]||(e[39]=t=>o.doorForm.need_handle_holes=t),type:"checkbox",role:"switch",id:"need-handle-holes",checked:""},null,512),[[V,o.doorForm.need_handle_holes]]),Os])]),o.doorForm.need_handle_holes?(d(),a("div",Ws,[s("div",Bs,[_(s("select",{class:"form-select",onInvalid:e[40]||(e[40]=t=>o.alert("Вы не выбрали отверстие под ручку!")),"onUpdate:modelValue":e[41]||(e[41]=t=>o.doorForm.handle_holes=t),id:"floatingSelect","aria-label":"Floating label select example",required:""},[(d(!0),a(p,null,y(o.getDictionary.handle_holes_variants,t=>(d(),a("option",{value:t},u(t.title),9,Ns))),256))],544),[[I,o.doorForm.handle_holes]]),Gs])])):h("",!0),o.doorForm.need_handle_holes&&o.doorForm.handle_holes.id!==3?(d(),a("div",Ks,[s("div",Xs,[_(s("select",{class:"form-select",onInvalid:e[42]||(e[42]=t=>o.alert("Вы не выбрали внешний вид ручки!")),"onUpdate:modelValue":e[43]||(e[43]=t=>o.doorForm.handle_holes_type=t),id:"floatingSelect","aria-label":"Floating label select example",required:""},[Js,(d(!0),a(p,null,y(o.getDictionary.handle_holes_type_variants,t=>(d(),a("option",{value:t},u(t.title),9,Qs))),256))],544),[[I,o.doorForm.handle_holes_type]]),Ys])])):h("",!0),(o.doorForm.handle_holes_type.variants||[]).length>0&&o.doorForm.need_handle_holes&&o.doorForm.handle_holes.id!==3?(d(),a("div",Zs,[s("div",xs,[s("div",or,[s("p",er,[g("Цвет ручки "+u(o.doorForm.handle_holes_type.color||"не указан")+" ",1),o.doorForm.handle_holes_type.color?(d(),a("span",{key:0,class:"d-inline-block",style:A([{"background-color":o.doorForm.handle_holes_type.color},{width:"50px",height:"10px"}])},null,4)):h("",!0)])]),(d(!0),a(p,null,y(o.doorForm.handle_holes_type.variants,(t,n)=>(d(),a("div",tr,[s("div",{class:m(["card cursor-pointer",{"border-secondary shadow-lg":t.selected}]),onClick:i=>o.selectSideFinish("handle_holes_type","variants",n)},[_(s("img",rr,null,512),[[l,t.image]]),s("div",lr,[t.title?(d(),a("h6",ir,u(t.title||"не указано"),1)):h("",!0),t.description?(d(),a("p",nr,u(t.description||"не указано"),1)):h("",!0)])],10,sr)]))),256))])])):h("",!0),(o.doorForm.handle_holes_type.variants||[]).length===0&&o.doorForm.need_handle_holes?(d(),a("div",dr,cr)):h("",!0),s("div",hr,[s("div",ur,[_(s("input",{class:"form-check-input","onUpdate:modelValue":e[44]||(e[44]=t=>o.doorForm.need_upper_jumper=t),type:"checkbox",role:"switch",id:"need-upper-jumper",checked:""},null,512),[[V,o.doorForm.need_upper_jumper]]),fr])]),s("div",_r,[s("div",pr,[_(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[45]||(e[45]=t=>o.doorForm.need_automatic_doorstep=t),role:"switch",id:"need-automatic-doorstep",checked:""},null,512),[[V,o.doorForm.need_automatic_doorstep]]),mr])]),s("div",vr,[s("div",gr,[_(s("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":e[46]||(e[46]=t=>o.doorForm.need_hidden_stopper=t),id:"need-hidden-stopper",checked:""},null,512),[[V,o.doorForm.need_hidden_stopper]]),yr])]),s("div",br,[s("div",Fr,[_(s("input",{class:"form-check-input","onUpdate:modelValue":e[47]||(e[47]=t=>o.doorForm.need_hidden_door_closer=t),type:"checkbox",role:"switch",id:"need-hidden-door-closer",checked:""},null,512),[[V,o.doorForm.need_hidden_door_closer]]),kr])]),s("div",wr,[s("div",Cr,[_(s("input",{class:"form-check-input","onUpdate:modelValue":e[48]||(e[48]=t=>o.doorForm.need_hidden_skirting_board=t),type:"checkbox",role:"switch",id:"need-hidden-skirting-board",checked:""},null,512),[[V,o.doorForm.need_hidden_skirting_board]]),$r])]),s("div",Dr,[s("div",Vr,[_(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[49]||(e[49]=t=>o.doorForm.need_door_install=t),role:"switch",id:"need-door-install",checked:""},null,512),[[V,o.doorForm.need_door_install]]),Sr])]),s("div",Ir,[s("div",Ur,[_(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[50]||(e[50]=t=>o.doorForm.need_wrapper=t),role:"switch",id:"need-door-wrapper",checked:""},null,512),[[V,o.doorForm.need_wrapper]]),zr])])])):h("",!0),s("div",Mr,[s("div",jr,[s("div",{class:m(["p-0 mb-2",{"col-md-2":o.doorForm.price_type.id===3,"col-md-4":o.doorForm.price_type.id!==3}])},[s("div",Er,[_(s("select",{class:"form-select","onUpdate:modelValue":e[51]||(e[51]=t=>o.doorForm.price_type=t),onInvalid:e[52]||(e[52]=t=>o.alert("Вы не выбрали тип цены!")),id:"door-type","aria-label":"door-type",required:""},[(d(!0),a(p,null,y(o.getDictionary.price_type_variants,t=>(d(),a("option",{value:t},u(t.title),9,Ar))),256))],544),[[I,o.doorForm.price_type]]),Pr])],2),o.doorForm.price_type.id===3?(d(),a("div",Rr,[s("div",Lr,[_(s("input",{type:"number",min:"0",onInvalid:e[53]||(e[53]=t=>o.alert("Вы не ввели процент дилера!")),"onUpdate:modelValue":e[54]||(e[54]=t=>o.doorForm.dealer_percent=t),class:"form-control text-center",id:"floatingInput",required:""},null,544),[[U,o.doorForm.dealer_percent]]),Tr])])):h("",!0),s("div",qr,[s("button",{type:"button",onClick:e[55]||(e[55]=t=>o.changeDoorCount("sub")),class:"btn btn-dark rounded-0 mr-2 px-3"},Or),s("div",Wr,[_(s("input",{type:"number",onInvalid:e[56]||(e[56]=t=>o.alert("Вы не указали количество дверей")),"onUpdate:modelValue":e[57]||(e[57]=t=>o.doorForm.count=t),min:"1",value:"1",class:"form-control rounded-0 text-center"},null,544),[[U,o.doorForm.count]])]),s("button",{type:"button",onClick:e[58]||(e[58]=t=>o.changeDoorCount("add")),class:"btn btn-dark rounded-0 ml-2 px-3"},Nr)]),s("div",Gr,[s("p",Kr,u(o.resultPrice)+"х"+u(o.doorForm.count)+"="+u(o.resultPrice*o.doorForm.count)+"₽",1)]),s("div",Xr,[s("button",{disabled:!o.doorForm.price_type.key,class:"btn btn-dark rounded-0 w-100"},[Qr,g(" Сохранить ")],8,Jr)])])])],32)]),s("div",Yr,[s("div",Zr,[o.loadedParams?(d(),E(qo,{key:0,modelValue:o.doorForm,"onUpdate:modelValue":e[60]||(e[60]=t=>o.doorForm=t)},null,8,["modelValue"])):h("",!0),s("div",xr,[s("div",ol,[el,s("h6",tl,u(o.doorForm.door_type.title)+" "+u(o.doorForm.width)+"x"+u(o.doorForm.height)+"x"+u(o.doorForm.depth)+", ",1),s("h6",sl,[o.doorForm.box_and_frame_color.title?(d(),a("span",rl,"("+u(o.doorForm.box_and_frame_color.title)+"),",1)):h("",!0),o.doorForm.front_side_finish.title?(d(),a("span",ll,"первая сторона "+u(o.doorForm.front_side_finish.title)+", ",1)):h("",!0),o.doorForm.back_side_finish.title?(d(),a("span",il,"/вторая сторона "+u(o.doorForm.back_side_finish.title)+",",1)):h("",!0),o.doorForm.loops.title?(d(),a("span",nl,"петли "+u(o.doorForm.loops.title),1)):h("",!0),o.doorForm.hinge_manufacturer.title?(d(),a("span",dl,u(o.doorForm.hinge_manufacturer.title),1)):h("",!0),o.doorForm.fittings_color.title?(d(),a("span",al,"("+u(o.doorForm.fittings_color.title)+"),",1)):h("",!0),o.doorForm.opening_type.title?(d(),a("span",cl,u(o.doorForm.opening_type.title)+",",1)):h("",!0),o.doorForm.handle_holes.title?(d(),a("span",hl,u(o.doorForm.handle_holes.title),1)):h("",!0)])])])])]),s("div",ul,[o.messages.length>0?(d(!0),a(p,{key:0},y(o.messages,(t,n)=>(d(),a("div",{onClick:i=>o.removeMessage(n),class:"alert alert-danger alert-dismissible fade show my-2",role:"alert"},[_l,g(" "+u(t||"Ошибка"),1)],8,fl))),256)):h("",!0)])]),s("div",pl,[s("div",ml,[s("div",vl,[s("div",gl,[yl,s("h3",bl,u(o.confirm.title||"-"),1),s("p",Fl,u(o.confirm.message||"-"),1),s("div",kl,[s("div",wl,[s("button",{class:"btn btn-dark rounded-0 w-100",type:"button",onClick:e[61]||(e[61]=(...t)=>o.clearForm&&o.clearForm(...t))},"Да, очистить ")]),s("div",Cl,[s("button",{class:"btn btn-outline-secondary rounded-0 w-100",onClick:e[62]||(e[62]=t=>o.confirmModal.hide())},"Нет, не очищать ")])])])])])]),s("div",{class:"modal fade",id:"finish-front-variant-modal-"+o.doorForm.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[s("div",Dl,[s("div",Vl,[Sl,s("div",Il,[Z(so,{item:o.doorForm.front_side_finish,"onUpdate:item":e[63]||(e[63]=t=>o.doorForm.front_side_finish=t)},null,8,["item"])]),Ul])])],8,$l),s("div",{class:"modal fade",id:"finish-back-variant-modal-"+o.doorForm.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[s("div",Ml,[s("div",jl,[El,s("div",Al,[Z(so,{item:o.doorForm.back_side_finish,"onUpdate:item":e[64]||(e[64]=t=>o.doorForm.back_side_finish=t)},null,8,["item"])]),Pl])])],8,zl)],64)}}}),Tl={class:"row"},ql={class:"col-lg-12"},Hl={name:"MyComponent",data(){return{loading:!1,messages:[],selectedColor:null,selectedDoor:null,confirm:{title:null,message:null}}},computed:{...x(["getErrors","getDictionary","cartTotalCount","cartProducts","cartTotalPrice"]),summaryPriceWithDealer(){return Math.round(this.summaryPrice*(1+(this.doorForm.dealer_percent||0)/100))},summaryPrice(){let r=0;return Object.keys(this.doorForm).forEach(o=>{o&&typeof this.doorForm[o]=="object"&&this.doorForm[o]!=null&&(r+=this.doorForm[o].price||0)}),r}},mounted(){window.addEventListener("select-door-item",r=>{this.selectedDoor=r.detail.item||null,this.loading=!0,this.$nextTick(()=>{this.loading=!1}),this.$notify({title:"DoDoors",text:"Вы выбрали дверь для редактирования"})}),this.$store.dispatch("loadFormattedSizes").then(r=>{}).catch(()=>{})},methods:{selectColor(r){this.selectedColor=r.color.hex},clearForm(){this.loading=!0,this.selectedDoor=null,this.$nextTick(()=>{this.loading=!1}),this.$notify({title:"DoDoors",text:"Форма очищена"})}}},Nl=Object.assign(Hl,{setup(r){return(o,e)=>(d(),a("div",Tl,[s("div",ql,[o.loading?h("",!0):(d(),E(Ll,{key:0,onCallback:e[0]||(e[0]=l=>o.openConfirmModal("Дверь успешно добавлена в корзину!","Очистить калькулятор?")),door:o.selectedDoor},null,8,["door"]))])]))}});export{Nl as _,L as u};
