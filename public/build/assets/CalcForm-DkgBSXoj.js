import{o as n,c as a,a as t,q as g,n as M,e as f,t as c,F as p,r as m,_ as ao,h as oo,b as u,j as U,m as eo,w as co,v as $,i as I,d as v,g as L,f as ho}from"./app-18_fjooi.js";import{R as fo}from"./RalColorSelector-IVGjiu7g.js";import{_ as to}from"./_plugin-vue_export-helper-DlAUqK2U.js";const uo={props:["door"],data(){return{side:0}},computed:{sideColor(){return this.side===0?this.door.front_side_finish_color.code:this.door.back_side_finish_color.code},selectedSideFinishImageForDoor(){let r=this.side===0?"front_side_finish":"back_side_finish";if(!this.door[r].door_variants)return null;let o=this.door[r].door_variants.findIndex(e=>e.selected);return o===-1?null:this.door[r].door_variants[o].image},selectedSideFinishImageForWrapper(){let r=this.side===0?"front_side_finish":"back_side_finish";if(!this.door[r].wrapper_variants)return null;let o=this.door[r].wrapper_variants.findIndex(e=>e.selected);return o===-1?null:this.door[r].wrapper_variants[o].image}}},_o={class:"row"},po={class:"col-12 mb-2"},mo={class:"row"},vo={class:"col-12 col-md-8"},go={key:0,class:"upper-jumper d-flex justify-content-center align-items-center"},bo=t("div",{class:"door-upper-jumper d-flex justify-content-center align-items-center"},[t("p",{class:"text-center",style:{"font-size":"12px"}},"1")],-1),yo=[bo],Fo={style:{position:"relative"}},ko={class:"door"},wo=["src"],Co={class:"height"},$o={class:"width"},Do={class:"door-but"},So={class:"height"},Uo={class:"depth"},jo={class:"door-footer"},Io={key:0,class:"doorstep d-flex justify-content-center align-items-center",style:{"font-size":"12px"}},Mo={key:1,class:"skirting-board d-flex justify-content-center align-items-center",style:{"font-size":"12px"}},Vo=t("p",null,"3",-1),Eo=[Vo],zo=ao('<div class="col-md-4 col-12"><ul class="list-group list-group-numbered rounded-0"><li class="list-group-item">Верхняя перемычка</li><li class="list-group-item">Скрытый порог</li><li class="list-group-item">Скрытый плинтус</li><li class="list-group-item">Скрытый стопор</li><li class="list-group-item">Скрытый доводчик</li><li class="list-group-item">Дверная ручка</li><li class="list-group-item">Петли</li></ul></div>',1);function Po(r,o,e,l,s,d){return n(),a(p,null,[t("div",_o,[t("div",po,[t("button",{class:g(["btn mr-2 rounded-0",{"btn-dark":s.side===0,"btn-outline-secondary":s.side!==0}]),onClick:o[0]||(o[0]=i=>s.side=0)}," Лицевая сторона ",2),t("button",{class:g(["btn rounded-0",{"btn-dark":s.side===1,"btn-outline-secondary":s.side!==1}]),onClick:o[1]||(o[1]=i=>s.side=1)}," Внутренняя сторона ",2)])]),t("div",mo,[t("div",vo,[t("div",{class:"stage w-100",style:M({"background-image":"url("+d.selectedSideFinishImageForWrapper+")"})},[e.door.need_upper_jumper?(n(),a("div",go,yo)):f("",!0),t("div",Fo,[t("div",ko,[t("img",{src:r.doorImage?r.doorImage:"/images/door-1.jpg",class:"w-100 h-100",style:{"object-fit":"cover"},alt:""},null,8,wo),t("div",{class:"door-color",style:M({"background-color":d.sideColor||"transparent"})},null,4),t("div",Co,[t("span",null,c(e.door.height),1)]),t("div",$o,[t("span",null,c(e.door.width),1)]),e.door.handle_holes.id!==3?(n(),a("div",{key:0,class:g(["handle",{"to-left":e.door.loops.type==="left","to-right":e.door.loops.type==="right"}]),style:M({"background-color":e.door.handle_holes_type.color||"transparent"})},"6 ",6)):f("",!0),t("div",{class:g(["loops",{"to-left":e.door.loops.type==="left","to-right":e.door.loops.type==="right"}])},[(n(!0),a(p,null,m(e.door.loops_count,i=>(n(),a("span",null,"7"))),256))],2)]),t("div",Do,[t("div",So,[t("span",null,c(e.door.height),1)]),t("div",Uo,[t("span",null,c(e.door.depth),1)])])]),t("div",jo,[e.door.need_automatic_doorstep?(n(),a("div",Io," 2 ")):f("",!0),e.door.need_hidden_skirting_board?(n(),a("div",Mo,Eo)):f("",!0),e.door.need_hidden_stopper?(n(),a("div",{key:2,class:g(["stopper d-flex justify-content-center align-items-center",{"to-left":e.door.loops.type==="left","to-right":e.door.loops.type==="right"}]),style:{"font-size":"12px"}}," 4 ",2)):f("",!0),e.door.need_hidden_door_closer?(n(),a("div",{key:3,class:g(["door-closer d-flex justify-content-center align-items-center",{"to-left":e.door.loops.type==="left","to-right":e.door.loops.type==="right"}]),style:{"font-size":"12px"}}," 5 ",2)):f("",!0)])],4)]),zo])],64)}const Ao=to(uo,[["render",Po]]),qo={props:["item"],data(){return{need_select_door_variant:!0,need_select_wrapper_variant:!0}},watch:{need_select_door_variant:{handler(r){this.need_select_door_variant||(this.item.door_variants.forEach(o=>{o.selected&&delete o.selected}),this.$emit("update:item",this.item))},deep:!0},need_select_wrapper_variant:{handler(r){this.need_select_wrapper_variant||(this.item.wrapper_variants.forEach(o=>{o.selected&&delete o.selected}),this.$emit("update:item",this.item))},deep:!0}},methods:{selectSideFinish(r,o){this.item[r][o].selected||!1||this.item[r].forEach(l=>{l.selected&&delete l.selected}),this.item[r][o].selected=!this.item[r][o].selected,this.$emit("update:item",this.item)}}},Ro={class:"font-bold my-2"},To={class:"row"},Lo={class:"col-12"},Ho={class:"form-check form-switch"},Oo=t("label",{class:"form-check-label",for:"need_select_door_variant"}," Нужно подобрать текстуру дверей ",-1),Bo={key:0,class:"row mb-2"},No=t("div",{class:"col-12"},[t("h6",{class:"font-700 font-bold my-3"},"Перечень вариантов дверей")],-1),Wo={class:"col-lg-4 col-md-4 col-12 mb-2"},Go=["onClick"],Ko={class:"card-img-top",alt:"..."},Xo={class:"card-body"},Jo={key:0,class:"font-bold"},Qo={key:1,class:"card-text"},Yo={class:"row"},Zo={class:"col-12"},xo={class:"form-check form-switch"},oe=t("label",{class:"form-check-label",for:"need_select_door_variant"}," Нужно подобрать текстуру материала вокруг двери ",-1),ee={key:1,class:"row mb-2"},te=t("div",{class:"col-12"},[t("h6",{class:"font-700 font-bold my-3"},"Перечень вариантов текстуры материала вокруг дверей")],-1),se={class:"col-lg-4 col-md-4 col-12 mb-2"},re=["onClick"],le={class:"card-img-top",alt:"..."},ie={class:"card-body"},de={key:0,class:"font-bold"},ne={key:1,class:"card-text"};function ae(r,o,e,l,s,d){const i=oo("lazy");return n(),a(p,null,[t("h3",Ro,'Выбранный материал "'+c(e.item.title||"не указан")+'"',1),t("div",To,[t("div",Lo,[t("div",Ho,[u(t("input",{class:"form-check-input","onUpdate:modelValue":o[0]||(o[0]=h=>s.need_select_door_variant=h),type:"checkbox",role:"switch",id:"need_select_door_variant",checked:""},null,512),[[U,s.need_select_door_variant]]),Oo])])]),e.item.door_variants&&s.need_select_door_variant?(n(),a("div",Bo,[No,(n(!0),a(p,null,m(e.item.door_variants,(h,_)=>(n(),a("div",Wo,[t("div",{class:g(["card cursor-pointer",{"border-secondary shadow-lg":h.selected}]),onClick:b=>d.selectSideFinish("door_variants",_)},[u(t("img",Ko,null,512),[[i,h.image]]),t("div",Xo,[h.title?(n(),a("h6",Jo,c(h.title||"не указано"),1)):f("",!0),h.description?(n(),a("p",Qo,c(h.description||"не указано"),1)):f("",!0)])],10,Go)]))),256))])):f("",!0),t("div",Yo,[t("div",Zo,[t("div",xo,[u(t("input",{class:"form-check-input","onUpdate:modelValue":o[1]||(o[1]=h=>s.need_select_wrapper_variant=h),type:"checkbox",role:"switch",id:"need_select_door_variant",checked:""},null,512),[[U,s.need_select_wrapper_variant]]),oe])])]),e.item.wrapper_variants&&s.need_select_wrapper_variant?(n(),a("div",ee,[te,(n(!0),a(p,null,m(e.item.wrapper_variants,(h,_)=>(n(),a("div",se,[t("div",{class:g(["card cursor-pointer",{"border-secondary shadow-lg":h.selected}]),onClick:b=>d.selectSideFinish("wrapper_variants",_)},[u(t("img",le,null,512),[[i,h.image]]),t("div",ie,[h.title?(n(),a("h6",de,c(h.title||"не указано"),1)):f("",!0),h.description?(n(),a("p",ne,c(h.description||"не указано"),1)):f("",!0)])],10,re)]))),256))])):f("",!0)],64)}const Z=to(qo,[["render",ae]]);var H,ce=new Uint8Array(16);function so(){if(!H&&(H=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!H))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H(ce)}const he=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ro(r){return typeof r=="string"&&he.test(r)}var y=[];for(var W=0;W<256;++W)y.push((W+256).toString(16).substr(1));function Q(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(y[r[o+0]]+y[r[o+1]]+y[r[o+2]]+y[r[o+3]]+"-"+y[r[o+4]]+y[r[o+5]]+"-"+y[r[o+6]]+y[r[o+7]]+"-"+y[r[o+8]]+y[r[o+9]]+"-"+y[r[o+10]]+y[r[o+11]]+y[r[o+12]]+y[r[o+13]]+y[r[o+14]]+y[r[o+15]]).toLowerCase();if(!ro(e))throw TypeError("Stringified UUID is invalid");return e}var x,G,K=0,X=0;function fe(r,o,e){var l=o&&e||0,s=o||new Array(16);r=r||{};var d=r.node||x,i=r.clockseq!==void 0?r.clockseq:G;if(d==null||i==null){var h=r.random||(r.rng||so)();d==null&&(d=x=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=G=(h[6]<<8|h[7])&16383)}var _=r.msecs!==void 0?r.msecs:Date.now(),b=r.nsecs!==void 0?r.nsecs:X+1,D=_-K+(b-X)/1e4;if(D<0&&r.clockseq===void 0&&(i=i+1&16383),(D<0||_>K)&&r.nsecs===void 0&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");K=_,X=b,G=i,_+=122192928e5;var V=((_&268435455)*1e4+b)%4294967296;s[l++]=V>>>24&255,s[l++]=V>>>16&255,s[l++]=V>>>8&255,s[l++]=V&255;var S=_/4294967296*1e4&268435455;s[l++]=S>>>8&255,s[l++]=S&255,s[l++]=S>>>24&15|16,s[l++]=S>>>16&255,s[l++]=i>>>8|128,s[l++]=i&255;for(var j=0;j<6;++j)s[l+j]=d[j];return o||Q(s)}function ue(r){if(!ro(r))throw TypeError("Invalid UUID");var o,e=new Uint8Array(16);return e[0]=(o=parseInt(r.slice(0,8),16))>>>24,e[1]=o>>>16&255,e[2]=o>>>8&255,e[3]=o&255,e[4]=(o=parseInt(r.slice(9,13),16))>>>8,e[5]=o&255,e[6]=(o=parseInt(r.slice(14,18),16))>>>8,e[7]=o&255,e[8]=(o=parseInt(r.slice(19,23),16))>>>8,e[9]=o&255,e[10]=(o=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=o/4294967296&255,e[12]=o>>>24&255,e[13]=o>>>16&255,e[14]=o>>>8&255,e[15]=o&255,e}function _e(r){r=unescape(encodeURIComponent(r));for(var o=[],e=0;e<r.length;++e)o.push(r.charCodeAt(e));return o}var pe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",me="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function lo(r,o,e){function l(s,d,i,h){if(typeof s=="string"&&(s=_e(s)),typeof d=="string"&&(d=ue(d)),d.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var _=new Uint8Array(16+s.length);if(_.set(d),_.set(s,d.length),_=e(_),_[6]=_[6]&15|o,_[8]=_[8]&63|128,i){h=h||0;for(var b=0;b<16;++b)i[h+b]=_[b];return i}return Q(_)}try{l.name=r}catch{}return l.DNS=pe,l.URL=me,l}function ve(r){if(typeof r=="string"){var o=unescape(encodeURIComponent(r));r=new Uint8Array(o.length);for(var e=0;e<o.length;++e)r[e]=o.charCodeAt(e)}return ge(be(ye(r),r.length*8))}function ge(r){for(var o=[],e=r.length*32,l="0123456789abcdef",s=0;s<e;s+=8){var d=r[s>>5]>>>s%32&255,i=parseInt(l.charAt(d>>>4&15)+l.charAt(d&15),16);o.push(i)}return o}function io(r){return(r+64>>>9<<4)+14+1}function be(r,o){r[o>>5]|=128<<o%32,r[io(o)-1]=o;for(var e=1732584193,l=-271733879,s=-1732584194,d=271733878,i=0;i<r.length;i+=16){var h=e,_=l,b=s,D=d;e=F(e,l,s,d,r[i],7,-680876936),d=F(d,e,l,s,r[i+1],12,-389564586),s=F(s,d,e,l,r[i+2],17,606105819),l=F(l,s,d,e,r[i+3],22,-1044525330),e=F(e,l,s,d,r[i+4],7,-176418897),d=F(d,e,l,s,r[i+5],12,1200080426),s=F(s,d,e,l,r[i+6],17,-1473231341),l=F(l,s,d,e,r[i+7],22,-45705983),e=F(e,l,s,d,r[i+8],7,1770035416),d=F(d,e,l,s,r[i+9],12,-1958414417),s=F(s,d,e,l,r[i+10],17,-42063),l=F(l,s,d,e,r[i+11],22,-1990404162),e=F(e,l,s,d,r[i+12],7,1804603682),d=F(d,e,l,s,r[i+13],12,-40341101),s=F(s,d,e,l,r[i+14],17,-1502002290),l=F(l,s,d,e,r[i+15],22,1236535329),e=k(e,l,s,d,r[i+1],5,-165796510),d=k(d,e,l,s,r[i+6],9,-1069501632),s=k(s,d,e,l,r[i+11],14,643717713),l=k(l,s,d,e,r[i],20,-373897302),e=k(e,l,s,d,r[i+5],5,-701558691),d=k(d,e,l,s,r[i+10],9,38016083),s=k(s,d,e,l,r[i+15],14,-660478335),l=k(l,s,d,e,r[i+4],20,-405537848),e=k(e,l,s,d,r[i+9],5,568446438),d=k(d,e,l,s,r[i+14],9,-1019803690),s=k(s,d,e,l,r[i+3],14,-187363961),l=k(l,s,d,e,r[i+8],20,1163531501),e=k(e,l,s,d,r[i+13],5,-1444681467),d=k(d,e,l,s,r[i+2],9,-51403784),s=k(s,d,e,l,r[i+7],14,1735328473),l=k(l,s,d,e,r[i+12],20,-1926607734),e=w(e,l,s,d,r[i+5],4,-378558),d=w(d,e,l,s,r[i+8],11,-2022574463),s=w(s,d,e,l,r[i+11],16,1839030562),l=w(l,s,d,e,r[i+14],23,-35309556),e=w(e,l,s,d,r[i+1],4,-1530992060),d=w(d,e,l,s,r[i+4],11,1272893353),s=w(s,d,e,l,r[i+7],16,-155497632),l=w(l,s,d,e,r[i+10],23,-1094730640),e=w(e,l,s,d,r[i+13],4,681279174),d=w(d,e,l,s,r[i],11,-358537222),s=w(s,d,e,l,r[i+3],16,-722521979),l=w(l,s,d,e,r[i+6],23,76029189),e=w(e,l,s,d,r[i+9],4,-640364487),d=w(d,e,l,s,r[i+12],11,-421815835),s=w(s,d,e,l,r[i+15],16,530742520),l=w(l,s,d,e,r[i+2],23,-995338651),e=C(e,l,s,d,r[i],6,-198630844),d=C(d,e,l,s,r[i+7],10,1126891415),s=C(s,d,e,l,r[i+14],15,-1416354905),l=C(l,s,d,e,r[i+5],21,-57434055),e=C(e,l,s,d,r[i+12],6,1700485571),d=C(d,e,l,s,r[i+3],10,-1894986606),s=C(s,d,e,l,r[i+10],15,-1051523),l=C(l,s,d,e,r[i+1],21,-2054922799),e=C(e,l,s,d,r[i+8],6,1873313359),d=C(d,e,l,s,r[i+15],10,-30611744),s=C(s,d,e,l,r[i+6],15,-1560198380),l=C(l,s,d,e,r[i+13],21,1309151649),e=C(e,l,s,d,r[i+4],6,-145523070),d=C(d,e,l,s,r[i+11],10,-1120210379),s=C(s,d,e,l,r[i+2],15,718787259),l=C(l,s,d,e,r[i+9],21,-343485551),e=E(e,h),l=E(l,_),s=E(s,b),d=E(d,D)}return[e,l,s,d]}function ye(r){if(r.length===0)return[];for(var o=r.length*8,e=new Uint32Array(io(o)),l=0;l<o;l+=8)e[l>>5]|=(r[l/8]&255)<<l%32;return e}function E(r,o){var e=(r&65535)+(o&65535),l=(r>>16)+(o>>16)+(e>>16);return l<<16|e&65535}function Fe(r,o){return r<<o|r>>>32-o}function B(r,o,e,l,s,d){return E(Fe(E(E(o,r),E(l,d)),s),e)}function F(r,o,e,l,s,d,i){return B(o&e|~o&l,r,o,s,d,i)}function k(r,o,e,l,s,d,i){return B(o&l|e&~l,r,o,s,d,i)}function w(r,o,e,l,s,d,i){return B(o^e^l,r,o,s,d,i)}function C(r,o,e,l,s,d,i){return B(e^(o|~l),r,o,s,d,i)}var ke=lo("v3",48,ve);const we=ke;function Ce(r,o,e){r=r||{};var l=r.random||(r.rng||so)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,o){e=e||0;for(var s=0;s<16;++s)o[e+s]=l[s];return o}return Q(l)}function $e(r,o,e,l){switch(r){case 0:return o&e^~o&l;case 1:return o^e^l;case 2:return o&e^o&l^e&l;case 3:return o^e^l}}function J(r,o){return r<<o|r>>>32-o}function De(r){var o=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var l=unescape(encodeURIComponent(r));r=[];for(var s=0;s<l.length;++s)r.push(l.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var d=r.length/4+2,i=Math.ceil(d/16),h=new Array(i),_=0;_<i;++_){for(var b=new Uint32Array(16),D=0;D<16;++D)b[D]=r[_*64+D*4]<<24|r[_*64+D*4+1]<<16|r[_*64+D*4+2]<<8|r[_*64+D*4+3];h[_]=b}h[i-1][14]=(r.length-1)*8/Math.pow(2,32),h[i-1][14]=Math.floor(h[i-1][14]),h[i-1][15]=(r.length-1)*8&4294967295;for(var V=0;V<i;++V){for(var S=new Uint32Array(80),j=0;j<16;++j)S[j]=h[V][j];for(var z=16;z<80;++z)S[z]=J(S[z-3]^S[z-8]^S[z-14]^S[z-16],1);for(var P=e[0],A=e[1],q=e[2],R=e[3],N=e[4],T=0;T<80;++T){var Y=Math.floor(T/20),no=J(P,5)+$e(Y,A,q,R)+N+o[Y]+S[T]>>>0;N=R,R=q,q=J(A,30)>>>0,A=P,P=no}e[0]=e[0]+P>>>0,e[1]=e[1]+A>>>0,e[2]=e[2]+q>>>0,e[3]=e[3]+R>>>0,e[4]=e[4]+N>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var Se=lo("v5",80,De);const Ue=Se;var O={v1:fe,v3:we,v4:Ce,v5:Ue};const je={class:"row"},Ie={class:"col-md-6"},Me={class:"row"},Ve={class:"col-md-6 col-12"},Ee={class:"col-md-6 col-12"},ze={class:"input-group mb-3"},Pe={class:"form-floating"},Ae=t("label",{for:"floatingInput"},[t("i",{class:"fa-solid fa-signs-post"}),v(" Назначение двери")],-1),qe=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),Re={class:"dropdown-menu dropdown-menu-end rounded-0"},Te=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),Le=["onClick"],He={class:"col-md-6 col-12"},Oe={class:"input-group mb-3"},Be={class:"form-floating"},Ne=t("label",{for:"floatingInput"},[t("i",{class:"fa-solid fa-ruler-vertical"}),v(" Высота, мм")],-1),We=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),Ge={class:"dropdown-menu dropdown-menu-end rounded-0"},Ke=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),Xe={class:"p-1"},Je={class:"form-floating"},Qe=t("label",{for:"filtered-height"},"Фильтр высоты",-1),Ye=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),Ze={class:"scrollable-menu p-2"},xe=["onClick"],ot={key:0,class:"text-center"},et={class:"col-md-6 col-12"},tt={class:"input-group mb-3"},st={class:"form-floating"},rt=t("label",{for:"floatingInput"},[t("i",{class:"fa-solid fa-ruler-horizontal"}),v(" Ширина, мм")],-1),lt=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),it={class:"dropdown-menu dropdown-menu-end rounded-0"},dt=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),nt={class:"p-1"},at={class:"form-floating"},ct=t("label",{for:"filtered-height"},"Фильтр ширины",-1),ht=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),ft={class:"scrollable-menu p-2"},ut=["onClick"],_t={key:0,class:"text-center"},pt={class:"col-md-6 col-12"},mt={class:"form-floating mb-3"},vt=t("option",{value:{title:null}},"Выберите один из вариантов",-1),gt=["value"],bt=t("label",{for:"floatingSelect"},[t("i",{class:"fa-brands fa-openid"}),v(" Тип открытия двери и толщина")],-1),yt={class:"col-md-6 col-12"},Ft={class:"form-floating mb-3"},kt=t("option",{value:{title:null}},"Выберите один из вариантов",-1),wt=["value"],Ct=t("label",{for:"door-type"},[t("i",{class:"fa-solid fa-door-open"}),v(" Выберите тип двери")],-1),$t={class:"col-md-6 col-12"},Dt={class:"form-floating mb-3"},St=t("option",{value:{title:null}},"Выберите один из вариантов",-1),Ut=["value"],jt=t("label",{for:"floatingSelect"},[t("i",{class:"fa-solid fa-industry"}),v(" Производитель петель")],-1),It={class:"col-md-6 col-12"},Mt={class:"form-floating mb-3"},Vt=t("option",{value:{title:null}},"Выберите один из вариантов",-1),Et=["value"],zt=t("label",{for:"floatingSelect"},[t("i",{class:"fa-solid fa-angles-left"}),v(" Сторона петель")],-1),Pt={class:"col-md-6 col-12 mb-3"},At={class:"input-group"},qt={class:"form-floating"},Rt=t("option",{value:{title:null}},"Выберите один из вариантов",-1),Tt=["value"],Lt=t("label",{for:"floatingSelect"},[t("i",{class:"fa-solid fa-paint-roller"}),v(" Отделка первой стороны ")],-1),Ht=t("i",{class:"fa-solid fa-images"},null,-1),Ot=[Ht],Bt={key:0,style:{"line-height":"100%"}},Nt=t("small",null,[t("em",null,[t("strong",{class:"text-danger"},"Внимание!"),v(" сочетание размера и материала не доступно для заказа!")])],-1),Wt=[Nt],Gt={class:"col-md-6 col-12"},Kt={class:"input-group mb-3"},Xt={class:"form-floating"},Jt=t("label",{for:"front_side_finish_color"},[t("i",{class:"fa-solid fa-palette"}),v(" Цвет отделки первой стороны")],-1),Qt=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),Yt={class:"dropdown-menu dropdown-menu-end rounded-0"},Zt=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),xt=["onClick"],os={class:"col-md-6 col-12 mb-3"},es={class:"input-group"},ts={class:"form-floating"},ss=t("option",{value:{title:null}},"Выберите один из вариантов",-1),rs=["value"],ls=t("label",{for:"floatingSelect"},[t("i",{class:"fa-solid fa-paint-roller"}),v(" Отделка второй стороны")],-1),is=t("i",{class:"fa-solid fa-images"},null,-1),ds=[is],ns={key:0,style:{"line-height":"100%"}},as=t("small",null,[t("em",null,[t("strong",{class:"text-danger"},"Внимание!"),v(" сочетание размера и материала не доступно для заказа!")])],-1),cs=[as],hs={class:"col-md-6 col-12"},fs={class:"input-group mb-3"},us={class:"form-floating"},_s=t("label",{for:"back_side_finish_color"},[t("i",{class:"fa-solid fa-palette"}),v(" Цвет отделки второй стороны")],-1),ps=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),ms={class:"dropdown-menu dropdown-menu-end rounded-0"},vs=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),gs=["onClick"],bs={class:"col-md-6 col-12"},ys={class:"input-group mb-3"},Fs={class:"form-floating"},ks=t("label",{for:"box_and_frame_color"},[t("i",{class:"fa-solid fa-palette"}),v(" Цвет короба и каркаса")],-1),ws=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),Cs={class:"dropdown-menu dropdown-menu-end rounded-0"},$s=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),Ds=["onClick"],Ss={class:"col-md-6 col-12"},Us={class:"input-group mb-3"},js={class:"form-floating"},Is=t("label",{for:"seal_color"},[t("i",{class:"fa-solid fa-palette"}),v(" Цвет уплотнителя")],-1),Ms=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),Vs={class:"dropdown-menu dropdown-menu-end rounded-0"},Es=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),zs=["onClick"],Ps={class:"col-md-6 col-12"},As={class:"input-group mb-3"},qs={class:"form-floating"},Rs=t("label",{for:"fittings_color"},[t("i",{class:"fa-solid fa-palette"}),v(" Цвет фурнитуры")],-1),Ts=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"})],-1),Ls={class:"dropdown-menu dropdown-menu-end rounded-0"},Hs=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),Os=["onClick"],Bs={class:"col-12"},Ns={class:"form-floating"},Ws=t("label",{for:"door-comment"},"Комментарий к двери",-1),Gs={key:0,class:"row py-3"},Ks={class:"col-12 d-flex align-items-center"},Xs={class:"form-check form-switch"},Js=t("label",{class:"form-check-label",for:"need-handle-holes"}," Нужна ручка \\ не нужна ручка ",-1),Qs={key:0,class:"col-md-6 col-12"},Ys={class:"form-floating mb-3"},Zs=["value"],xs=t("label",{for:"floatingSelect"},"Отверстий под ручку",-1),or={key:1,class:"col-md-6 col-12"},er={class:"form-floating mb-3"},tr=t("option",{value:{title:null}},"Выберите один из вариантов",-1),sr=["value"],rr=t("label",{for:"floatingSelect"},"Выбор ручки",-1),lr={key:2,class:"col-12"},ir={class:"row"},dr={class:"col-12"},nr={class:"mb-2"},ar={class:"col-lg-3 col-md-3 col-12 mb-2"},cr=["onClick"],hr={class:"card-img-top",alt:"..."},fr={class:"card-body"},ur={key:0,class:"font-bold"},_r={key:1,class:"card-text"},pr={key:3,class:"col-12"},mr=t("div",{class:"alert alert-warning rounded-0",role:"alert"},[t("p",null,"Вариантов изображений ручки нет")],-1),vr=[mr],gr={class:"col-12 d-flex align-items-center"},br={class:"form-check form-switch"},yr=t("label",{class:"form-check-label",for:"need-upper-jumper"}," Нужна верхняя перемычка ",-1),Fr={class:"col-12 d-flex align-items-center"},kr={class:"form-check form-switch"},wr=t("label",{class:"form-check-label",for:"need-automatic-doorstep"}," Нужен автоматический порог \\ не нужен ",-1),Cr={class:"col-12 d-flex align-items-center"},$r={class:"form-check form-switch"},Dr=t("label",{class:"form-check-label",for:"need-hidden-stopper"}," Нужен скрытый стопор \\ не нужен ",-1),Sr={class:"col-12 d-flex align-items-center"},Ur={class:"form-check form-switch"},jr=t("label",{class:"form-check-label",for:"need-hidden-door-closer"}," Нужен скрытый доводчик \\ не нужен ",-1),Ir={class:"col-12 d-flex align-items-center"},Mr={class:"form-check form-switch"},Vr=t("label",{class:"form-check-label",for:"need-hidden-skirting-board"}," Нужен скрытый плинтус \\ не нужен ",-1),Er={class:"col-12 d-flex align-items-center"},zr={class:"form-check form-switch"},Pr=t("label",{class:"form-check-label",for:"need-door-install"}," Нужен установка двери \\ не нужна ",-1),Ar={class:"col-12 d-flex align-items-center"},qr={class:"form-check form-switch"},Rr=t("label",{class:"form-check-label",for:"need-door-wrapper"}," Нужен упаковка двери \\ не нужна ",-1),Tr={class:"footer-nav w-100"},Lr={class:"row bg-white p-2 m-0 border-gray-100 border shadow-md"},Hr={class:"form-floating"},Or=t("option",{value:{title:null}},"Выберите один из вариантов",-1),Br=["value"],Nr=t("label",{for:"door-type"},"Тип цены",-1),Wr={key:0,class:"col-md-2 mb-2"},Gr={class:"form-floating"},Kr=t("label",{for:"floatingInput"},"Процент дилера",-1),Xr={class:"col-md-4 d-flex justify-between mb-2"},Jr=t("i",{class:"fa-solid fa-minus"},null,-1),Qr=[Jr],Yr={class:"input-group"},Zr=t("i",{class:"fa-solid fa-plus"},null,-1),xr=[Zr],ol={class:"col-md-2 d-flex justify-center align-items-center mb-2"},el={class:"text-center text-primary font-bold text-black",style:{"font-size":"16px"}},tl={class:"col-md-2 d-flex"},sl=["disabled"],rl=t("i",{class:"fa-solid fa-floppy-disk"},null,-1),ll={class:"col-md-6"},il={class:"preview"},dl={class:"card rounded-0 mt-3"},nl={class:"card-body"},al=t("h6",null,"Характеристики",-1),cl={class:"text-muted font-bold"},hl={class:"text-black mb-0"},fl={key:0,class:"mr-1"},ul={key:1,class:"mr-1"},_l={key:2,class:"mr-1"},pl={key:3,class:"mr-1"},ml={key:4,class:"mr-1"},vl={key:5,class:"mr-1"},gl={key:6,class:"mr-1"},bl={key:7,class:"mr-1"},yl={class:"col-12"},Fl=["onClick"],kl=t("strong",null,"Внимание!",-1),wl={class:"modal fade",id:"confirm-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Cl={class:"modal-dialog modal-dialog-centered"},$l={class:"modal-content rounded-0"},Dl={class:"modal-body"},Sl=t("div",{class:"d-flex justify-center p-3"},[t("img",{src:"/images/logo.png",style:{width:"100px"},alt:""})],-1),Ul={class:"font-bold text-center py-3"},jl={class:"text-center pb-3"},Il={class:"row"},Ml={class:"col-6"},Vl={class:"col-6"},El=["id"],zl={class:"modal-dialog"},Pl={class:"modal-content rounded-0"},Al=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор цвета RAL"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ql={class:"modal-body"},Rl=["id"],Tl={class:"modal-dialog modal-lg"},Ll={class:"modal-content"},Hl=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор типа материала для первый стороны"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[t("i",{class:"fa-solid fa-xmark"})])],-1),Ol={class:"modal-body"},Bl=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary text-secondary","data-bs-dismiss":"modal","aria-label":"Close"},"Закрыть ")],-1),Nl=["id"],Wl={class:"modal-dialog modal-lg"},Gl={class:"modal-content"},Kl=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор типа материала для второй стороны"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[t("i",{class:"fa-solid fa-xmark"})])],-1),Xl={class:"modal-body"},Jl=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary text-secondary","data-bs-dismiss":"modal","aria-label":"Close"},"Закрыть ")],-1),Ql={name:"MyComponent",props:["door"],data(){return{need_addition:!0,messages:[],filterHeight:null,filterWidth:null,selectedColorParam:null,colorModal:null,confirmModal:null,finishFrontVariantModal:null,finishBackVariantModal:null,colors:[],confirm:{title:null,message:null},doorForm:{id:null,width:0,height:0,depth:0,count:1,price:0,size:null,purpose:null,comment:null,dealer_percent:0,opening_type:{title:null},box_and_frame_color:{title:null},door_type:{title:null},front_side_finish:{title:null},back_side_finish:{title:null},front_side_finish_color:{title:null},back_side_finish_color:{title:null},seal_color:{title:null},fittings_color:{title:null},loops:{title:null},loops_count:0,price_type:{title:null},hinge_manufacturer:{title:null},handle_holes:{title:null},handle_holes_type:{title:null},need_handle_holes:!0,need_upper_jumper:!1,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!1}}},computed:{...eo(["getErrors","getDictionary","cartTotalCount","cartProducts","cartTotalPrice"]),filteredSideFinishColors(){return this.getDictionary.color_variants.filter(o=>o.type==="side_finish"||o.type==="all")},filteredBoxAndFrameColors(){return this.getDictionary.color_variants.filter(o=>o.type==="box_and_frame"||o.type==="all")},filteredFittingsColors(){return this.getDictionary.color_variants.filter(o=>o.type==="fittings"||o.type==="all")},filteredSealColors(){return this.getDictionary.color_variants.filter(o=>o.type==="seal"||o.type==="all")},resultPrice(){return this.doorForm.price_type.id!==3?this.summaryPrice:this.summaryPriceWithDealer},summaryPriceWithDealer(){return Math.round((this.summaryPrice||0)*(1+(this.doorForm.dealer_percent||0)/100))},summaryPrice(){let r=0,o=this.doorForm.price_type.key;Object.keys(this.doorForm).forEach(i=>{i&&typeof this.doorForm[i]=="object"&&this.doorForm[i]!=null&&this.doorForm[i].price&&(r+=typeof this.doorForm[i].price=="object"?this.doorForm[i].price[o]||0:this.doorForm[i].price||0)});let e=this.getDictionary.prices,l=0,s=!1,d=null;if(e.forEach(i=>{i.width===this.doorForm.width&&i.height===this.doorForm.height&&(s=!0,d=i)}),s)d.materials.forEach(i=>{i.id===this.doorForm.front_side_finish.id&&(l+=typeof i.price=="object"?i.price[o]:i.price),i.id===this.doorForm.back_side_finish.id&&(l+=typeof i.price=="object"?i.price[o]:i.price)});else for(let i=0;i<e.length;i++)if(e[i].width>=this.doorForm.width&&e[i].height>=this.doorForm.height){e[i].materials.forEach(h=>{h.id===this.doorForm.front_side_finish.id&&(l+=typeof h.price=="object"?h.price[o]:h.price)}),e[i].materials.forEach(h=>{h.id===this.doorForm.back_side_finish.id&&(l+=typeof h.price=="object"?h.price[o]:h.price)});break}return r+l},filteredHeight(){return this.getDictionary?this.filterHeight?this.getDictionary.size_variants.filter(r=>(""+r.height).indexOf(this.filterHeight)!==-1):this.getDictionary.size_variants:[]},filteredWidth(){return this.getDictionary?this.filterWidth?this.getDictionary.size_variants.filter(r=>(""+r.width).indexOf(this.filterWidth)!==-1):this.getDictionary.size_variants:[]}},watch:{"doorForm.box_and_frame_color":{handler(r){let o=this.doorForm.box_and_frame_color.title;(this.doorForm.box_and_frame_color.title||"").length===4&&Object.keys(this.colors).forEach(e=>{this.colors[e].code===o&&(this.doorForm.box_and_frame_color.code=this.colors[e].code,this.doorForm.box_and_frame_color.title=this.colors[e].color.hex)})},deep:!0},"doorForm.fittings_color":{handler(r){let o=this.doorForm.fittings_color.title;(this.doorForm.fittings_color.title||"").length===4&&Object.keys(this.colors).forEach(e=>{this.colors[e].code===o&&(this.doorForm.fittings_color.code=this.colors[e].code,this.doorForm.fittings_color.title=this.colors[e].color.hex)})},deep:!0},"doorForm.back_side_finish_color":{handler(r){let o=this.doorForm.back_side_finish_color.title;(this.doorForm.back_side_finish_color.title||"").length===4&&Object.keys(this.colors).forEach(e=>{this.colors[e].code===o&&(this.doorForm.back_side_finish_color.code=this.colors[e].code,this.doorForm.back_side_finish_color.title=this.colors[e].color.hex)})},deep:!0},"doorForm.front_side_finish_color":{handler(r){let o=this.doorForm.front_side_finish_color.title;(this.doorForm.front_side_finish_color.title||"").length===4&&(console.log((this.doorForm.front_side_finish_color.title||"").length),Object.keys(this.colors).forEach(e=>{if(this.colors[e].code===o){const l=this.colors[e];this.doorForm.front_side_finish_color.code=l.code,this.doorForm.front_side_finish_color.title=l.color.hex}}))},deep:!0},"doorForm.need_handle_holes":{handler(r){this.doorForm.need_handle_holes||(this.doorForm.handle_holes=this.getDictionary.handle_holes_variants[0],this.doorForm.handle_holes_type={title:null})},deep:!0},"doorForm.opening_type":{handler(r){if(this.doorForm.opening_type){let o=this.getDictionary.opening_variants.find(e=>e.id===this.doorForm.opening_type.id);o&&(this.doorForm.depth=o.depth||0)}},deep:!0},summaryPriceWithDealer:{handler(r){this.doorForm.price=this.summaryPriceWithDealer},deep:!0},summaryPrice:{handler(r){this.doorForm.price=this.summaryPrice},deep:!0}},mounted(){this.confirmModal=new bootstrap.Modal(document.getElementById("confirm-modal"),{}),this.loadRalColors(),this.door?this.$nextTick(()=>{this.doorForm={id:this.door.product.id,width:this.door.product.width,height:this.door.product.height,depth:this.door.product.depth,count:this.door.quantity,size:this.door.product.size,purpose:this.door.product.purpose||null,handle_holes:this.door.product.handle_holes||null,handle_holes_type:this.door.product.handle_holes_type||null,opening_type:this.door.product.opening_type||null,box_and_frame_color:this.door.product.box_and_frame_color||null,door_type:this.door.product.door_type||null,front_side_finish:this.door.product.front_side_finish||null,back_side_finish:this.door.product.back_side_finish||null,front_side_finish_color:this.door.product.front_side_finish_color||null,back_side_finish_color:this.door.product.back_side_finish_color||null,seal_color:this.door.product.seal_color||null,fittings_color:this.door.product.fittings_color||null,loops:this.door.product.loops||null,loops_count:this.door.product.loops_count||0,price_type:this.door.product.price_type||null,hinge_manufacturer:this.door.product.hinge_manufacturer||null,need_handle_holes:!0,need_upper_jumper:!1,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!1}}):(this.doorForm.id=O.v1(),this.clearForm(!1)),this.doorForm.purpose="Дверь "+(this.cartProducts.length+1)},methods:{openConfirmModal(r,o){this.confirm.title=r||null,this.confirm.message=o||null,this.confirmModal.show()},loadRalColors(){axios.get("/ral_pretty.json").then(r=>{this.colors=r.data})},selectSideFinish(r,o,e){this.doorForm[r][o][e].selected||!1||this.doorForm[r][o].forEach(s=>{s.selected&&delete s.selected}),this.doorForm[r][o][e].selected=!this.doorForm[r][o][e].selected},priceForSide(r){let o=this.doorForm.price_type.key,e=0,l=null,s=this.getDictionary.prices;if(this.doorForm.width===0&&this.doorForm.height===0)return 0;if(s.forEach(i=>{this.doorForm.width===i.width&&this.doorForm.height===i.height&&(l=i)}),!l)return e;let d=null;return l.materials&&l.materials.forEach(i=>{i.id===this.doorForm[r].id&&(d=i.price,e=typeof i.price=="object"?i.price[o]:i.price)}),this.doorForm[r].price_variants=d,e},isHex(r){return/^#[0-9A-F]{6}$/i.test(r)},callbackSelectColor(r){this.doorForm[this.selectedColorParam].title=r.color.hex,this.doorForm[this.selectedColorParam].code=r.color.code||r.color.hex||null,this.colorModal.hide()},selectColor(r,o){this.doorForm[r]={title:o.code||null,code:o.code||null,price:o.price||0,type:o.type||"all"},o.title==="RAL"&&(this.selectedColorParam=r,this.doorForm[r]={title:"RAL",code:"RAL",price:o.price||0,type:o.type||"all"},this.colorModal=new bootstrap.Modal(document.getElementById("choose-color-"+this.doorForm.id),{}),this.colorModal.show())},clearForm(r=!1){this.confirmModal.hide(),r?this.doorForm={id:O.v1(),width:this.getDictionary.size_variants[0].width||0,height:this.getDictionary.size_variants[0].height||0,depth:0,count:0,size:null,purpose:"Входная",handle_holes:this.getDictionary.handle_holes_variants[0],handle_holes_type:this.getDictionary.handle_holes_type_variants[0],opening_type:this.getDictionary.opening_variants[0],box_and_frame_color:{title:null},door_type:this.getDictionary.door_variants[0],front_side_finish:this.getDictionary.finishes_variants[0],back_side_finish:this.getDictionary.finishes_variants[0],front_side_finish_color:{title:null},back_side_finish_color:{title:null},seal_color:{title:null},fittings_color:{title:null},loops:this.getDictionary.loops_variants[0],loops_count:2,price_type:this.getDictionary.price_type_variants[0],hinge_manufacturer:this.getDictionary.hinge_manufacturer_variants[0],need_handle_holes:!0,need_upper_jumper:!1,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!1}:this.doorForm={id:O.v1(),width:0,height:0,depth:0,count:1,price:0,size:null,purpose:null,dealer_percent:0,opening_type:{title:null},box_and_frame_color:{title:null},door_type:{title:null},front_side_finish:{title:null},back_side_finish:{title:null},front_side_finish_color:{title:null},back_side_finish_color:{title:null},seal_color:{title:null},fittings_color:{title:null},loops:{title:null},loops_count:0,price_type:{title:null},hinge_manufacturer:{title:null},handle_holes:this.getDictionary.handle_holes_variants[0],handle_holes_type:{title:null},need_handle_holes:!0,need_upper_jumper:!1,need_automatic_doorstep:!1,need_hidden_stopper:!1,need_hidden_door_closer:!1,need_hidden_skirting_board:!1,need_door_install:!1,need_wrapper:!1}},selectDoorSize(r){if(r==null){this.doorForm.width=0,this.doorForm.height=0,this.doorForm.size=null,this.doorForm.loops_count=0;return}this.doorForm.width=r.width,this.doorForm.height=r.height,this.doorForm.size=r,this.doorForm.loops_count=r.loops_count},changeDoorCount(r){r==="add"&&this.doorForm.count++,r==="sub"&&this.doorForm.count>0&&this.doorForm.count--},selectFrontSideFinish(){(this.doorForm.front_side_finish.door_variants||[]).length!==0&&(this.finishFrontVariantModal=new bootstrap.Modal(document.getElementById("finish-front-variant-modal-"+this.doorForm.id),{}),this.finishFrontVariantModal.show())},selectBackSideFinish(){(this.doorForm.back_side_finish.door_variants||[]).length!==0&&(this.finishBackVariantModal=new bootstrap.Modal(document.getElementById("finish-back-variant-modal-"+this.doorForm.id),{}),this.finishBackVariantModal.show())},alert(r){this.messages.push(r)},removeMessage(r){this.messages.splice(r,1)},submitForm(){this.messages=[],this.$store.dispatch("addProductToCart",this.doorForm).then(()=>{this.$nextTick(()=>{this.doorForm.id=O.v4()}),this.confirmModal.show(),this.$notify({title:"DoDoors",text:"Дверь успешно добавлена в корзину",type:"success"})})}}},Yl=Object.assign(Ql,{setup(r){return(o,e)=>{const l=oo("lazy");return n(),a(p,null,[t("div",je,[t("div",Ie,[t("form",{onSubmit:e[61]||(e[61]=co((...s)=>o.submitForm&&o.submitForm(...s),["prevent"]))},[t("div",Me,[t("div",Ve,[t("button",{type:"button",onClick:e[0]||(e[0]=s=>o.openConfirmModal("Внимание!","Вы очищает текущую работу в калькуляторе! Продолжить?")),class:"btn rounded-0 w-100 btn-dark p-3"},"Очистить форму ")]),t("div",Ee,[t("div",ze,[t("div",Pe,[u(t("input",{type:"text",min:"0","onUpdate:modelValue":e[1]||(e[1]=s=>o.doorForm.purpose=s),class:"form-control",id:"floatingInput"},null,512),[[$,o.doorForm.purpose]]),Ae]),qe,t("ul",Re,[t("li",null,[t("a",{class:"dropdown-item",onClick:e[2]||(e[2]=s=>o.doorForm.purpose=null),href:"javascript:void(0)"},"Не выбрано")]),Te,t("li",null,[(n(!0),a(p,null,m(o.getDictionary.purpose_variants,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary text-white":o.doorForm.purpose===s}]),onClick:d=>o.doorForm.purpose=s,href:"javascript:void(0)"},c(s),11,Le))),256))])])])]),t("div",He,[t("div",Oe,[t("div",Be,[u(t("input",{type:"number",min:"0",onInvalid:e[3]||(e[3]=s=>o.alert("Вы не выбрали  ввели высоту двери!")),"onUpdate:modelValue":e[4]||(e[4]=s=>o.doorForm.height=s),class:"form-control",id:"floatingInput",required:""},null,544),[[$,o.doorForm.height]]),Ne]),We,t("ul",Ge,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[5]||(e[5]=s=>o.selectDoorSize(null))},"Не выбрано")]),Ke,t("li",Xe,[t("div",Je,[u(t("input",{type:"search","onUpdate:modelValue":e[6]||(e[6]=s=>o.filterHeight=s),class:"form-control",id:"filtered-height",placeholder:"name@example.com"},null,512),[[$,o.filterHeight]]),Qe])]),Ye,t("li",Ze,[(n(!0),a(p,null,m(o.filteredHeight,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary":o.doorForm.width===s.width&&o.doorForm.width===s.height}]),onClick:d=>o.selectDoorSize(s),href:"javascript:void(0)"},c(s.height)+"x"+c(s.width),11,xe))),256)),o.filteredHeight.length===0?(n(),a("p",ot,"Ничего не найдено")):f("",!0)])])])]),t("div",et,[t("div",tt,[t("div",st,[u(t("input",{type:"number",min:"0",onInvalid:e[7]||(e[7]=s=>o.alert("Вы не выбрали  ввели ширину двери!")),"onUpdate:modelValue":e[8]||(e[8]=s=>o.doorForm.width=s),class:"form-control",id:"floatingInput",required:""},null,544),[[$,o.doorForm.width]]),rt]),lt,t("ul",it,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[9]||(e[9]=s=>o.selectDoorSize(null))},"Не выбрано")]),dt,t("li",nt,[t("div",at,[u(t("input",{type:"search","onUpdate:modelValue":e[10]||(e[10]=s=>o.filterWidth=s),class:"form-control",id:"filtered-height",placeholder:"name@example.com"},null,512),[[$,o.filterWidth]]),ct])]),ht,t("li",ft,[(n(!0),a(p,null,m(o.filteredWidth,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary text-white":o.doorForm.width===s.width&&o.doorForm.width===s.height}]),onClick:d=>o.selectDoorSize(s),href:"javascript:void(0)"},c(s.height)+"x"+c(s.width),11,ut))),256)),o.filteredWidth.length===0?(n(),a("p",_t,"Ничего не найдено")):f("",!0)])])])]),t("div",pt,[t("div",mt,[u(t("select",{class:"form-select","onUpdate:modelValue":e[11]||(e[11]=s=>o.doorForm.opening_type=s),onInvalid:e[12]||(e[12]=s=>o.alert("Вы не выбрали вариант открывания и толщину двери!")),id:"floatingSelect","aria-label":"Floating label select example",required:""},[vt,(n(!0),a(p,null,m(o.getDictionary.opening_variants,s=>(n(),a("option",{value:s},c(s.title)+" (толщина "+c(s.depth)+" мм) ",9,gt))),256))],544),[[I,o.doorForm.opening_type]]),bt])]),t("div",yt,[t("div",Ft,[u(t("select",{class:"form-select","onUpdate:modelValue":e[13]||(e[13]=s=>o.doorForm.door_type=s),onInvalid:e[14]||(e[14]=s=>o.alert("Вы не выбрали тип двери!")),id:"door-type","aria-label":"door-type",required:""},[kt,(n(!0),a(p,null,m(o.getDictionary.door_variants,s=>(n(),a("option",{value:s},c(s.title),9,wt))),256))],544),[[I,o.doorForm.door_type]]),Ct])]),t("div",$t,[t("div",Dt,[u(t("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=s=>o.doorForm.hinge_manufacturer=s),onInvalid:e[16]||(e[16]=s=>o.alert("Вы не выбрали расположение петель!")),id:"floatingSelect","aria-label":"Floating label select example",required:""},[St,(n(!0),a(p,null,m(o.getDictionary.hinge_manufacturer_variants,s=>(n(),a("option",{value:s},c(s.title),9,Ut))),256))],544),[[I,o.doorForm.hinge_manufacturer]]),jt])]),t("div",It,[t("div",Mt,[u(t("select",{class:"form-select","onUpdate:modelValue":e[17]||(e[17]=s=>o.doorForm.loops=s),onInvalid:e[18]||(e[18]=s=>o.alert("Вы не выбрали сторону петель!")),id:"floatingSelect","aria-label":"Floating label select example",required:""},[Vt,(n(!0),a(p,null,m(o.getDictionary.loops_variants,s=>(n(),a("option",{value:s},c(s.title),9,Et))),256))],544),[[I,o.doorForm.loops]]),zt])]),t("div",Pt,[t("div",At,[t("div",qt,[u(t("select",{class:"form-select",onInvalid:e[19]||(e[19]=s=>o.alert("Вы не выбрали отделку первой стороны двери!")),"onUpdate:modelValue":e[20]||(e[20]=s=>o.doorForm.front_side_finish=s),id:"floatingSelect","aria-label":"Floating label select example",required:""},[Rt,(n(!0),a(p,null,m(o.getDictionary.finishes_variants,s=>(n(),a("option",{value:s},c(s.title),9,Tt))),256))],544),[[I,o.doorForm.front_side_finish]]),Lt]),(o.doorForm.front_side_finish.door_variants||[]).length!==0?(n(),a("button",{key:0,onClick:e[21]||(e[21]=(...s)=>o.selectFrontSideFinish&&o.selectFrontSideFinish(...s)),class:"btn btn-outline-secondary rounded-0",type:"button"},Ot)):f("",!0)]),o.priceForSide("front_side_finish")===0?(n(),a("p",Bt,Wt)):f("",!0)]),t("div",Gt,[t("div",Kt,[o.isHex(o.doorForm.front_side_finish_color.title)?(n(),a("span",{key:0,class:"input-group-text border-secondary",style:M([{"background-color":o.doorForm.front_side_finish_color.title},{width:"40px","border-radius":"0px"}]),id:"basic-addon1"},null,4)):f("",!0),t("div",Xt,[u(t("input",{type:"text","onUpdate:modelValue":e[22]||(e[22]=s=>o.doorForm.front_side_finish_color.title=s),onInvalid:e[23]||(e[23]=s=>o.alert("Вы не указали лицевую отделку двери!")),class:"form-control",id:"front_side_finish_color",required:""},null,544),[[$,o.doorForm.front_side_finish_color.title]]),Jt]),Qt,t("ul",Yt,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[24]||(e[24]=s=>o.doorForm.front_side_finish_color={title:null})},"Не выбрано")]),Zt,t("li",null,[(n(!0),a(p,null,m(o.filteredSideFinishColors,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary text-white":o.doorForm.front_side_finish_color.title===s.title}]),onClick:d=>o.selectColor("front_side_finish_color",s),href:"javascript:void(0)"},c(s.title),11,xt))),256))])])])]),t("div",os,[t("div",es,[t("div",ts,[u(t("select",{class:"form-select",onInvalid:e[25]||(e[25]=s=>o.alert("Вы не выбрали отделку второй стороны двери!")),"onUpdate:modelValue":e[26]||(e[26]=s=>o.doorForm.back_side_finish=s),id:"floatingSelect","aria-label":"Floating label select example",required:""},[ss,(n(!0),a(p,null,m(o.getDictionary.finishes_variants,s=>(n(),a("option",{value:s},c(s.title),9,rs))),256))],544),[[I,o.doorForm.back_side_finish]]),ls]),(o.doorForm.back_side_finish.door_variants||[]).length!==0?(n(),a("button",{key:0,onClick:e[27]||(e[27]=(...s)=>o.selectBackSideFinish&&o.selectBackSideFinish(...s)),class:"btn btn-outline-secondary rounded-0",type:"button"},ds)):f("",!0)]),o.priceForSide("back_side_finish")===0?(n(),a("p",ns,cs)):f("",!0)]),t("div",hs,[t("div",fs,[o.isHex(o.doorForm.back_side_finish_color.title)?(n(),a("span",{key:0,class:"input-group-text border-secondary",style:M([{"background-color":o.doorForm.back_side_finish_color.title},{width:"40px","border-radius":"0"}]),id:"basic-addon1"},null,4)):f("",!0),t("div",us,[u(t("input",{type:"text",onInvalid:e[28]||(e[28]=s=>o.alert("Вы не указали внутреннюю отделку двери!")),"onUpdate:modelValue":e[29]||(e[29]=s=>o.doorForm.back_side_finish_color.title=s),class:"form-control",id:"back_side_finish_color",required:""},null,544),[[$,o.doorForm.back_side_finish_color.title]]),_s]),ps,t("ul",ms,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[30]||(e[30]=s=>o.doorForm.back_side_finish_color={title:null})},"Не выбрано")]),vs,t("li",null,[(n(!0),a(p,null,m(o.filteredSideFinishColors,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary text-white":o.doorForm.back_side_finish_color.title===s.title}]),onClick:d=>o.selectColor("back_side_finish_color",s),href:"javascript:void(0)"},c(s.title),11,gs))),256))])])])]),t("div",bs,[t("div",ys,[o.isHex(o.doorForm.box_and_frame_color.title)?(n(),a("span",{key:0,class:"input-group-text border-secondary",style:M([{"background-color":o.doorForm.box_and_frame_color.title},{width:"40px","border-radius":"0"}]),id:"basic-addon1"},null,4)):f("",!0),t("div",Fs,[u(t("input",{type:"text",onInvalid:e[31]||(e[31]=s=>o.alert("Вы не выбрали цвет короба и каркаса")),"onUpdate:modelValue":e[32]||(e[32]=s=>o.doorForm.box_and_frame_color.title=s),class:"form-control",id:"box_and_frame_color",required:""},null,544),[[$,o.doorForm.box_and_frame_color.title]]),ks]),ws,t("ul",Cs,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[33]||(e[33]=s=>o.doorForm.box_and_frame_color={title:null})},"Не выбрано")]),$s,t("li",null,[(n(!0),a(p,null,m(o.filteredBoxAndFrameColors,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary text-white":o.doorForm.box_and_frame_color.title===s.title}]),onClick:d=>o.selectColor("box_and_frame_color",s),href:"javascript:void(0)"},c(s.title),11,Ds))),256))])])])]),t("div",Ss,[t("div",Us,[o.isHex(o.doorForm.seal_color.title)?(n(),a("span",{key:0,class:"input-group-text border-secondary",style:M([{"background-color":o.doorForm.seal_color.title},{width:"40px","border-radius":"0px"}]),id:"basic-addon1"},null,4)):f("",!0),t("div",js,[u(t("input",{type:"text",onInvalid:e[34]||(e[34]=s=>o.alert("Вы не выбрали цвет уплотнителя")),"onUpdate:modelValue":e[35]||(e[35]=s=>o.doorForm.seal_color.title=s),class:"form-control",id:"seal_color",required:""},null,544),[[$,o.doorForm.seal_color.title]]),Is]),Ms,t("ul",Vs,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[36]||(e[36]=s=>o.doorForm.seal_color={title:null})},"Не выбрано")]),Es,t("li",null,[(n(!0),a(p,null,m(o.filteredSealColors,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary text-white":o.doorForm.seal_color.title===s.title}]),onClick:d=>o.selectColor("seal_color",s),href:"javascript:void(0)"},c(s.title),11,zs))),256))])])])]),t("div",Ps,[t("div",As,[o.isHex(o.doorForm.fittings_color.title)?(n(),a("span",{key:0,class:"input-group-text border-secondary",style:M([{"background-color":o.doorForm.fittings_color.title},{width:"40px","border-radius":"0px"}]),id:"basic-addon1"},null,4)):f("",!0),t("div",qs,[u(t("input",{type:"text",onInvalid:e[37]||(e[37]=s=>o.alert("Вы не выбрали цвет фурнитуры")),"onUpdate:modelValue":e[38]||(e[38]=s=>o.doorForm.fittings_color.title=s),class:"form-control",id:"fittings_color",required:""},null,544),[[$,o.doorForm.fittings_color.title]]),Rs]),Ts,t("ul",Ls,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[39]||(e[39]=s=>o.doorForm.fittings_color={title:null})},"Не выбрано")]),Hs,t("li",null,[(n(!0),a(p,null,m(o.filteredFittingsColors,s=>(n(),a("a",{class:g(["dropdown-item",{"bg-primary text-white":o.doorForm.fittings_color.title===s.title}]),onClick:d=>o.selectColor("fittings_color",s),href:"javascript:void(0)"},c(s.title),11,Os))),256))])])])]),t("div",Bs,[t("div",Ns,[u(t("textarea",{class:"form-control border-secondary rounded-0","onUpdate:modelValue":e[40]||(e[40]=s=>o.doorForm.comment=s),style:{"min-height":"100px"},placeholder:"Оставьте комментарий",id:"door-comment"},null,512),[[$,o.doorForm.comment]]),Ws])])]),o.need_addition?(n(),a("div",Gs,[t("div",Ks,[t("div",Xs,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[41]||(e[41]=s=>o.doorForm.need_handle_holes=s),type:"checkbox",role:"switch",id:"need-handle-holes",checked:""},null,512),[[U,o.doorForm.need_handle_holes]]),Js])]),o.doorForm.need_handle_holes?(n(),a("div",Qs,[t("div",Ys,[u(t("select",{class:"form-select",onInvalid:e[42]||(e[42]=s=>o.alert("Вы не выбрали отверстие под ручку!")),"onUpdate:modelValue":e[43]||(e[43]=s=>o.doorForm.handle_holes=s),id:"floatingSelect","aria-label":"Floating label select example",required:""},[(n(!0),a(p,null,m(o.getDictionary.handle_holes_variants,s=>(n(),a("option",{value:s},c(s.title),9,Zs))),256))],544),[[I,o.doorForm.handle_holes]]),xs])])):f("",!0),o.doorForm.need_handle_holes&&o.doorForm.handle_holes.id!==3?(n(),a("div",or,[t("div",er,[u(t("select",{class:"form-select",onInvalid:e[44]||(e[44]=s=>o.alert("Вы не выбрали внешний вид ручки!")),"onUpdate:modelValue":e[45]||(e[45]=s=>o.doorForm.handle_holes_type=s),id:"floatingSelect","aria-label":"Floating label select example",required:""},[tr,(n(!0),a(p,null,m(o.getDictionary.handle_holes_type_variants,s=>(n(),a("option",{value:s},c(s.title),9,sr))),256))],544),[[I,o.doorForm.handle_holes_type]]),rr])])):f("",!0),(o.doorForm.handle_holes_type.variants||[]).length>0&&o.doorForm.need_handle_holes&&o.doorForm.handle_holes.id!==3?(n(),a("div",lr,[t("div",ir,[t("div",dr,[t("p",nr,[v("Цвет ручки "+c(o.doorForm.handle_holes_type.color||"не указан")+" ",1),o.doorForm.handle_holes_type.color?(n(),a("span",{key:0,class:"d-inline-block",style:M([{"background-color":o.doorForm.handle_holes_type.color},{width:"50px",height:"10px"}])},null,4)):f("",!0)])]),(n(!0),a(p,null,m(o.doorForm.handle_holes_type.variants,(s,d)=>(n(),a("div",ar,[t("div",{class:g(["card cursor-pointer",{"border-secondary shadow-lg":s.selected}]),onClick:i=>o.selectSideFinish("handle_holes_type","variants",d)},[u(t("img",hr,null,512),[[l,s.image]]),t("div",fr,[s.title?(n(),a("h6",ur,c(s.title||"не указано"),1)):f("",!0),s.description?(n(),a("p",_r,c(s.description||"не указано"),1)):f("",!0)])],10,cr)]))),256))])])):f("",!0),(o.doorForm.handle_holes_type.variants||[]).length===0&&o.doorForm.need_handle_holes?(n(),a("div",pr,vr)):f("",!0),t("div",gr,[t("div",br,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[46]||(e[46]=s=>o.doorForm.need_upper_jumper=s),type:"checkbox",role:"switch",id:"need-upper-jumper",checked:""},null,512),[[U,o.doorForm.need_upper_jumper]]),yr])]),t("div",Fr,[t("div",kr,[u(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[47]||(e[47]=s=>o.doorForm.need_automatic_doorstep=s),role:"switch",id:"need-automatic-doorstep",checked:""},null,512),[[U,o.doorForm.need_automatic_doorstep]]),wr])]),t("div",Cr,[t("div",$r,[u(t("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":e[48]||(e[48]=s=>o.doorForm.need_hidden_stopper=s),id:"need-hidden-stopper",checked:""},null,512),[[U,o.doorForm.need_hidden_stopper]]),Dr])]),t("div",Sr,[t("div",Ur,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[49]||(e[49]=s=>o.doorForm.need_hidden_door_closer=s),type:"checkbox",role:"switch",id:"need-hidden-door-closer",checked:""},null,512),[[U,o.doorForm.need_hidden_door_closer]]),jr])]),t("div",Ir,[t("div",Mr,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[50]||(e[50]=s=>o.doorForm.need_hidden_skirting_board=s),type:"checkbox",role:"switch",id:"need-hidden-skirting-board",checked:""},null,512),[[U,o.doorForm.need_hidden_skirting_board]]),Vr])]),t("div",Er,[t("div",zr,[u(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[51]||(e[51]=s=>o.doorForm.need_door_install=s),role:"switch",id:"need-door-install",checked:""},null,512),[[U,o.doorForm.need_door_install]]),Pr])]),t("div",Ar,[t("div",qr,[u(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[52]||(e[52]=s=>o.doorForm.need_wrapper=s),role:"switch",id:"need-door-wrapper",checked:""},null,512),[[U,o.doorForm.need_wrapper]]),Rr])])])):f("",!0),t("div",Tr,[t("div",Lr,[t("div",{class:g(["p-0 mb-2",{"col-md-2":o.doorForm.price_type.id===3,"col-md-4":o.doorForm.price_type.id!==3}])},[t("div",Hr,[u(t("select",{class:"form-select","onUpdate:modelValue":e[53]||(e[53]=s=>o.doorForm.price_type=s),onInvalid:e[54]||(e[54]=s=>o.alert("Вы не выбрали тип цены!")),id:"door-type","aria-label":"door-type",required:""},[Or,(n(!0),a(p,null,m(o.getDictionary.price_type_variants,s=>(n(),a("option",{value:s},c(s.title),9,Br))),256))],544),[[I,o.doorForm.price_type]]),Nr])],2),o.doorForm.price_type.id===3?(n(),a("div",Wr,[t("div",Gr,[u(t("input",{type:"number",min:"0",onInvalid:e[55]||(e[55]=s=>o.alert("Вы не ввели процент дилера!")),"onUpdate:modelValue":e[56]||(e[56]=s=>o.doorForm.dealer_percent=s),class:"form-control text-center",id:"floatingInput",required:""},null,544),[[$,o.doorForm.dealer_percent]]),Kr])])):f("",!0),t("div",Xr,[t("button",{type:"button",onClick:e[57]||(e[57]=s=>o.changeDoorCount("sub")),class:"btn btn-dark rounded-0 mr-2 px-3"},Qr),t("div",Yr,[u(t("input",{type:"number",onInvalid:e[58]||(e[58]=s=>o.alert("Вы не указали количество дверей")),"onUpdate:modelValue":e[59]||(e[59]=s=>o.doorForm.count=s),min:"1",value:"1",class:"form-control rounded-0 text-center"},null,544),[[$,o.doorForm.count]])]),t("button",{type:"button",onClick:e[60]||(e[60]=s=>o.changeDoorCount("add")),class:"btn btn-dark rounded-0 ml-2 px-3"},xr)]),t("div",ol,[t("p",el,c(o.resultPrice)+"х"+c(o.doorForm.count)+"="+c(o.resultPrice*o.doorForm.count)+"₽",1)]),t("div",tl,[t("button",{disabled:!o.doorForm.price_type.key,class:"btn btn-dark rounded-0 w-100"},[rl,v(" Сохранить ")],8,sl)])])])],32)]),t("div",ll,[t("div",il,[L(Ao,{door:o.doorForm},null,8,["door"]),t("div",dl,[t("div",nl,[al,t("h6",cl,c(o.doorForm.door_type.title)+" "+c(o.doorForm.width)+"x"+c(o.doorForm.height)+"x"+c(o.doorForm.depth)+", ",1),t("h6",hl,[o.doorForm.box_and_frame_color.title?(n(),a("span",fl,"("+c(o.doorForm.box_and_frame_color.title)+"),",1)):f("",!0),o.doorForm.front_side_finish.title?(n(),a("span",ul,"первая сторона "+c(o.doorForm.front_side_finish.title)+", ",1)):f("",!0),o.doorForm.back_side_finish.title?(n(),a("span",_l,"/вторая сторона "+c(o.doorForm.back_side_finish.title)+",",1)):f("",!0),o.doorForm.loops.title?(n(),a("span",pl,"петли "+c(o.doorForm.loops.title),1)):f("",!0),o.doorForm.hinge_manufacturer.title?(n(),a("span",ml,c(o.doorForm.hinge_manufacturer.title),1)):f("",!0),o.doorForm.fittings_color.title?(n(),a("span",vl,"("+c(o.doorForm.fittings_color.title)+"),",1)):f("",!0),o.doorForm.opening_type.title?(n(),a("span",gl,c(o.doorForm.opening_type.title)+",",1)):f("",!0),o.doorForm.handle_holes.title?(n(),a("span",bl,c(o.doorForm.handle_holes.title),1)):f("",!0)])])])])]),t("div",yl,[o.messages.length>0?(n(!0),a(p,{key:0},m(o.messages,(s,d)=>(n(),a("div",{onClick:i=>o.removeMessage(d),class:"alert alert-danger alert-dismissible fade show my-2",role:"alert"},[kl,v(" "+c(s||"Ошибка"),1)],8,Fl))),256)):f("",!0)])]),t("div",wl,[t("div",Cl,[t("div",$l,[t("div",Dl,[Sl,t("h3",Ul,c(o.confirm.title||"-"),1),t("p",jl,c(o.confirm.message||"-"),1),t("div",Il,[t("div",Ml,[t("button",{class:"btn btn-dark rounded-0 w-100",type:"button",onClick:e[62]||(e[62]=(...s)=>o.clearForm&&o.clearForm(...s))},"Да, очистить ")]),t("div",Vl,[t("button",{class:"btn btn-outline-secondary rounded-0 w-100",onClick:e[63]||(e[63]=s=>o.confirmModal.hide())},"Нет, не очищать ")])])])])])]),t("div",{class:"modal fade",id:"choose-color-"+o.doorForm.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",zl,[t("div",Pl,[Al,t("div",ql,[L(fo,{onSelect:o.callbackSelectColor},null,8,["onSelect"])])])])],8,El),t("div",{class:"modal fade",id:"finish-front-variant-modal-"+o.doorForm.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Tl,[t("div",Ll,[Hl,t("div",Ol,[L(Z,{item:o.doorForm.front_side_finish,"onUpdate:item":e[64]||(e[64]=s=>o.doorForm.front_side_finish=s)},null,8,["item"])]),Bl])])],8,Rl),t("div",{class:"modal fade",id:"finish-back-variant-modal-"+o.doorForm.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Wl,[t("div",Gl,[Kl,t("div",Xl,[L(Z,{item:o.doorForm.back_side_finish,"onUpdate:item":e[65]||(e[65]=s=>o.doorForm.back_side_finish=s)},null,8,["item"])]),Jl])])],8,Nl)],64)}}}),Zl={class:"row"},xl={class:"col-lg-12"},oi={name:"MyComponent",data(){return{loading:!1,messages:[],selectedColor:null,selectedDoor:null,confirm:{title:null,message:null}}},computed:{...eo(["getErrors","getDictionary","cartTotalCount","cartProducts","cartTotalPrice"]),summaryPriceWithDealer(){return Math.round(this.summaryPrice*(1+(this.doorForm.dealer_percent||0)/100))},summaryPrice(){let r=0;return Object.keys(this.doorForm).forEach(o=>{o&&typeof this.doorForm[o]=="object"&&this.doorForm[o]!=null&&(r+=this.doorForm[o].price||0)}),r}},mounted(){window.addEventListener("select-door-item",r=>{this.selectedDoor=r.detail.item||null,this.loading=!0,this.$nextTick(()=>{this.loading=!1}),this.$notify({title:"DoDoors",text:"Вы выбрали дверь для редактирования"})}),this.$store.dispatch("loadFormattedSizes").then(r=>{}).catch(()=>{})},methods:{selectColor(r){this.selectedColor=r.color.hex},clearForm(){this.loading=!0,this.selectedDoor=null,this.$nextTick(()=>{this.loading=!1}),this.$notify({title:"DoDoors",text:"Форма очищена"})}}},ri=Object.assign(oi,{setup(r){return(o,e)=>(n(),a("div",Zl,[t("div",xl,[o.loading?f("",!0):(n(),ho(Yl,{key:0,onCallback:e[0]||(e[0]=l=>o.openConfirmModal("Дверь успешно добавлена в корзину!","Очистить калькулятор?")),door:o.selectedDoor},null,8,["door"]))])]))}});export{ri as _};
