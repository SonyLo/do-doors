import{A as V}from"./ApplicationLogo-D1tkHKrI.js";import{B as M,D as I,G as $,x,o,c as r,b as t,I as w,f as y,S as E,a as b,w as l,q as g,T as B,d as u,u as F,Y as D,m as P,k as R,v as k,e as a,F as C,r as L,t as f,p as S,g as i,j as N,_ as z,$ as O}from"./app-K7pY369U.js";import{v as q}from"./vue-the-mask-CB4ysAgb.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"relative"},Q={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(n){const s=n,e=_=>{h.value&&_.key==="Escape"&&(h.value=!1)};M(()=>document.addEventListener("keydown",e)),I(()=>document.removeEventListener("keydown",e));const m=$(()=>({48:"w-48"})[s.width.toString()]),c=$(()=>s.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":s.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),h=x(!1);return(_,d)=>(o(),r("div",A,[t("div",{onClick:d[0]||(d[0]=T=>h.value=!h.value)},[w(_.$slots,"trigger")]),y(t("div",{class:"fixed inset-0 z-40",onClick:d[1]||(d[1]=T=>h.value=!1)},null,512),[[E,h.value]]),b(B,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:l(()=>[y(t("div",{class:g(["absolute z-50 mt-2 rounded-md shadow-lg",[m.value,c.value]]),style:{display:"none"},onClick:d[2]||(d[2]=T=>h.value=!1)},[t("div",{class:g(["rounded-md ring-1 ring-black ring-opacity-5",n.contentClasses])},[w(_.$slots,"content")],2)],2),[[E,h.value]])]),_:3})]))}},j={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(n){return(s,e)=>(o(),u(F(D),{href:n.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:l(()=>[w(s.$slots,"default")]),_:3},8,["href"]))}},p={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(n){const s=n,e=$(()=>s.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(m,c)=>(o(),u(F(D),{href:n.href,class:g(e.value)},{default:l(()=>[w(m.$slots,"default")]),_:3},8,["href","class"]))}},v={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(n){const s=n,e=$(()=>s.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(m,c)=>(o(),u(F(D),{href:n.href,class:g(e.value)},{default:l(()=>[w(m.$slots,"default")]),_:3},8,["href","class"]))}},J={directives:{mask:q.mask},computed:{...P(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"])},watch:{"clientForm.current_payed":{handler(n){this.clientForm.payed_percent=Math.round(this.clientForm.current_payed/this.cartTotalPrice*100)},deep:!0}},data(){return{tab:0,step:0,discount:0,self_clients:[],clientForm:{id:null,name:null,phone:null,email:null,info:null,promo:null,work_with_nds:1,items:[],current_payed:0,payed_percent:0,delivery_terms:null}}},mounted(){this.loadSelfClients()},methods:{hasRoles(n){let s=!1;return typeof n=="object"?this.$page.props.auth.roles.forEach(e=>{s=s||n.includes(e)}):this.$page.props.auth.roles.includes(n),s},back(){this.$emit("back")},preparedLawStatus(n){let e=(this.getDictionary.statuses||[]).find(m=>m.value===n)||null;return e?e.title:null},selectInfo(n){if(n==null){this.clientForm.id=null,this.clientForm.name=null,this.clientForm.email=null,this.clientForm.phone=null;return}this.clientForm.id=n.id||null,this.clientForm.name=n.title||null,this.clientForm.email=n.email||null,this.clientForm.phone=n.phone||null},clearCart(){this.$store.dispatch("clearCart").then(n=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"})}).catch(n=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},findPromo(){this.discount=0,!((this.clientForm.promo||"").length<=5)&&this.$store.dispatch("findPromoCode",{code:this.clientForm.promo}).then(n=>{this.discount=n.discount||0})},loadSelfClients(){this.$store.dispatch("loadSelfClients").then(n=>{this.self_clients=n.data||[]}).catch(()=>{})},submit(){this.clientForm.items=this.cartProducts;let n=new FormData;Object.keys(this.clientForm).forEach(s=>{const e=this.clientForm[s]||"";typeof e=="object"?n.append(s,JSON.stringify(e)):n.append(s,e)}),n.append("total_price",this.cartTotalPrice),n.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:n}).then(s=>{this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(s=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},G={class:"input-group mb-3"},K={class:"form-floating"},Y=t("label",{for:"checkout-name"},"Ваше Ф.И.О.",-1),H={key:0,class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},W=t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"},null,-1),X=[W],Z={class:"dropdown-menu dropdown-menu-end rounded-0"},ee=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),te=["onClick"],se={class:"form-floating mb-3"},oe=t("label",{for:"checkout-phone"},"Ваш номер телефона",-1),ne={class:"form-floating mb-3"},ae=t("label",{for:"checkout-email"},"Ваш email",-1),re={class:"form-floating"},ie=t("label",{for:"checkout-info"},"Дополнительная информация",-1),le={class:"row my-3"},ce={class:"col-md-6"},de={class:"form-check"},ue=t("label",{class:"form-check-label",for:"work-with-nds"}," Для ООО ",-1),me={class:"col-md-6"},he={class:"form-check"},fe=t("label",{class:"form-check-label",for:"work-without-nds"}," Для ИП ",-1),pe=t("hr",{class:"hr hr-blurry my-3"},null,-1),_e={class:"font-bold"},ve={key:0},be=t("p",{class:"mb-2"},[t("small",null,"Возможно в рассрочку!")],-1),ye=t("p",{class:"mb-2",style:{"line-height":"80%"}},[t("small",null,"От цвета шпона или цвета покраски стекла цена не зависит, просто уточните эти детали в беседе с менеджером")],-1),ge={class:"form-floating mb-3"},ke=t("label",{for:"checkout-promo"},"Промокод",-1),we={key:0},$e={class:"form-floating mb-3"},Ce=t("label",{for:"checkout-name"},"Начальная внесенная покупателем сумма, руб",-1),Fe={class:"form-floating mb-3"},De=t("label",{for:"checkout-name"},"Процент внесенной суммы от полной стоимости",-1),Te={class:"form-floating mb-3"},Pe=t("label",{for:"checkout-name"},"Срок передачи товара покупателю",-1),Ee=t("button",{class:"btn btn-dark w-100 my-2 rounded-0"},"Отправить и скачать договор",-1),Se={key:1,class:"btn btn-dark w-100 my-2 rounded-0"},je={key:1,class:"card rounded-0"},xe=t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")],-1),Le=[xe];function qe(n,s,e,m,c,h){const _=R("mask");return n.cartTotalCount>0?(o(),r("form",{key:0,onSubmit:s[13]||(s[13]=N((...d)=>h.submit&&h.submit(...d),["prevent"]))},[t("div",G,[t("div",K,[y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=d=>c.clientForm.name=d),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[k,c.clientForm.name]]),Y]),c.self_clients.length>0?(o(),r("button",H,X)):a("",!0),t("ul",Z,[t("li",null,[t("a",{class:"dropdown-item",onClick:s[1]||(s[1]=d=>h.selectInfo(null)),href:"javascript:void(0)"},"Не выбрано")]),ee,t("li",null,[(o(!0),r(C,null,L(c.self_clients,d=>(o(),r("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:T=>h.selectInfo(d)},f(d.title||null)+" ("+f(h.preparedLawStatus(d.status)||"Не указан")+")",9,te))),256))])])]),t("div",se,[y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=d=>c.clientForm.phone=d),id:"checkout-phone",placeholder:"name@example.com",required:""},null,512),[[_,"+7(###)###-##-##"],[k,c.clientForm.phone]]),oe]),t("div",ne,[y(t("input",{type:"email",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=d=>c.clientForm.email=d),id:"checkout-email",placeholder:"name@example.com",required:""},null,512),[[k,c.clientForm.email]]),ae]),t("div",re,[y(t("textarea",{class:"form-control border-secondary rounded-0","onUpdate:modelValue":s[4]||(s[4]=d=>c.clientForm.info=d),placeholder:"Оставьте свой комментарий",id:"checkout-info"},null,512),[[k,c.clientForm.info]]),ie]),t("div",le,[t("div",ce,[t("div",de,[y(t("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":s[5]||(s[5]=d=>c.clientForm.work_with_nds=d),name:"flexRadioDefault",id:"work-with-nds"},null,512),[[S,c.clientForm.work_with_nds]]),ue])]),t("div",me,[t("div",he,[y(t("input",{class:"form-check-input",type:"radio",value:"0",name:"flexRadioDefault","onUpdate:modelValue":s[6]||(s[6]=d=>c.clientForm.work_with_nds=d),id:"work-without-nds"},null,512),[[S,c.clientForm.work_with_nds]]),fe])])]),pe,t("h6",_e,[i("Итого цена "+f(Math.round(n.cartTotalPrice*(1-c.discount/100)))+" ₽ ",1),c.discount>0?(o(),r("span",ve,"(скидка "+f(c.discount)+"%)",1)):a("",!0)]),be,ye,t("div",ge,[y(t("input",{type:"text",class:"form-control",onKeyup:s[7]||(s[7]=(...d)=>h.findPromo&&h.findPromo(...d)),"onUpdate:modelValue":s[8]||(s[8]=d=>c.clientForm.promo=d),id:"checkout-promo",placeholder:"name@example.com"},null,544),[[k,c.clientForm.promo]]),ke]),h.hasRoles(["manager","administrator"])?(o(),r("div",we,[i(f(c.clientForm.client)+" ",1),t("div",$e,[y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=d=>c.clientForm.current_payed=d),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[k,c.clientForm.current_payed]]),Ce]),t("div",Fe,[y(t("input",{type:"text",disabled:"",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=d=>c.clientForm.payed_percent=d),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[k,c.clientForm.payed_percent]]),De]),t("div",Te,[y(t("input",{type:"date",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=d=>c.clientForm.delivery_terms=d),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[k,c.clientForm.delivery_terms]]),Pe]),Ee])):(o(),r("button",Se,"Отправить")),t("button",{type:"button",class:"btn btn-outline-secondary w-100 rounded-0",onClick:s[12]||(s[12]=(...d)=>h.back&&h.back(...d))},"Назад ")],32)):(o(),r("div",je,Le))}const Ue=U(J,[["render",qe]]),Ve={props:["item"],methods:{editDoorItem(){window.dispatchEvent(new CustomEvent("select-door-item",{detail:{item:this.item}}))},removeProduct(){this.$store.dispatch("removeProduct",this.item.product.id)},changeQuantityProductInCart(n="increment"){let s=n==="increment"?this.item.quantity+1:this.item.quantity-1;if(s===0){this.$store.dispatch("removeProduct",this.item.product.id);return}this.$store.dispatch("setQuantity",{id:this.item.product.id,quantity:s})}}},Me={class:"card mb-2 rounded-0"},Ie={class:"card-body"},Be={class:"row"},Re={class:"col-md-12"},Ne={class:"text-muted font-bold"},ze={class:"text-black mb-0"},Oe={key:0},Ae={key:1,class:"ml-1"},Qe={key:2,class:"ml-1"},Je={key:3},Ge={key:4,class:"ml-1"},Ke={key:5,class:"ml-1"},Ye={key:6,class:"ml-1"},He={key:7,class:"ml-1"},We={key:8,class:"ml-1"},Xe={key:9,class:"ml-1"},Ze={key:10,class:"ml-1"},et={key:11,class:"ml-1"},tt={key:12,class:"ml-1"},st={key:13,class:"ml-1"},ot={key:14,class:"ml-1"},nt={key:15,class:"ml-1"},at={key:16,class:"ml-1"},rt={class:"row d-flex align-items-center"},it={class:"col-5 col-md-5 col-lg-5 col-xl-5 d-flex justify-content-center mt-2"},lt=t("i",{class:"fas fa-minus"},null,-1),ct=[lt],dt={class:"btn",style:{color:"black"}},ut=t("i",{class:"fas fa-plus"},null,-1),mt=[ut],ht={class:"col-5 col-md-5 col-lg-5 col-xl-5"},ft={class:"mb-0 text-center font-bold"},pt={class:"col-2 col-md-2 col-lg-2 col-xl-2 text-center"},_t=t("i",{class:"fas fa-times"},null,-1),vt=[_t],bt={class:"col-12"},yt=t("i",{class:"fa-regular fa-pen-to-square mr-2"},null,-1);function gt(n,s,e,m,c,h){return o(),r("div",Me,[t("div",Ie,[t("div",Be,[t("div",Re,[t("h6",Ne,f(e.item.product.purpose||"-")+": "+f(e.item.product.door_type.title)+" "+f(e.item.product.width)+"x"+f(e.item.product.height)+"x"+f(e.item.product.depth),1),t("h6",ze,[e.item.product.box_and_frame_color.title?(o(),r("span",Oe,"("+f(e.item.product.box_and_frame_color.title)+")",1)):a("",!0),i(" лицо "),e.item.product.front_side_finish.title?(o(),r("span",Ae,f(e.item.product.front_side_finish.title),1)):a("",!0),i("/ "),e.item.product.back_side_finish.title?(o(),r("span",Qe,f(e.item.product.back_side_finish.title)+",",1)):a("",!0),i(" петли "),e.item.product.loops.title?(o(),r("span",Je,f(e.item.product.loops.title)+",",1)):a("",!0),e.item.product.hinge_manufacturer.title?(o(),r("span",Ge,f(e.item.product.hinge_manufacturer.title)+",",1)):a("",!0),e.item.product.fittings_color.title?(o(),r("span",Ke,"("+f(e.item.product.fittings_color.title)+"),",1)):a("",!0),e.item.product.opening_type.title?(o(),r("span",Ye,f(e.item.product.opening_type.title)+",",1)):a("",!0),e.item.product.handle_holes.title?(o(),r("span",He,f(e.item.product.handle_holes.title)+",",1)):a("",!0),e.item.product.need_automatic_doorstep?(o(),r("span",We," автоматический порожек,")):a("",!0),e.item.product.need_upper_jumper?(o(),r("span",Xe," верхняя перемычка,")):a("",!0),e.item.product.need_handle_holes?(o(),r("span",Ze," дверная ручка,")):a("",!0),e.item.product.handle_holes_type.title?(o(),r("span",et,f(e.item.product.handle_holes_type.title)+",",1)):a("",!0),e.item.product.handle_holes.title?(o(),r("span",tt,f(e.item.product.handle_holes.title)+",",1)):a("",!0),e.item.product.need_hidden_door_closer?(o(),r("span",st," скрытый доводчик,")):a("",!0),e.item.product.need_hidden_skirting_board?(o(),r("span",ot," скрытый плинтус,")):a("",!0),e.item.product.need_hidden_stopper?(o(),r("span",nt," скрытый стопор,")):a("",!0),e.item.product.need_door_install?(o(),r("span",at," установка двери")):a("",!0)])])]),t("div",rt,[t("div",it,[t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:s[0]||(s[0]=_=>h.changeQuantityProductInCart("decrement"))},ct),t("span",dt,f(e.item.quantity),1),t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:s[1]||(s[1]=_=>h.changeQuantityProductInCart("increment"))},mt)]),t("div",ht,[t("h6",ft,f(e.item.quantity*(e.item.product.price||0))+" ₽",1)]),t("div",pt,[t("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=(..._)=>h.removeProduct&&h.removeProduct(..._)),class:"text-muted"},vt)]),t("div",bt,[t("button",{type:"button",style:{color:"black"},class:"btn btn-link",onClick:s[3]||(s[3]=(..._)=>h.editDoorItem&&h.editDoorItem(..._))},[yt,i("Редактировать")])])])])])}const kt=U(Ve,[["render",gt]]),wt={class:"offcanvas offcanvas-end",tabindex:"-1",id:"cart","aria-labelledby":"cart"},$t={class:"offcanvas-header"},Ct={class:"offcanvas-title font-bold"},Ft={key:0},Dt={key:1},Tt=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Pt={key:0,class:"offcanvas-body"},Et=t("div",{class:"hr my-3"},null,-1),St={key:1,class:"card rounded-0"},jt=t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")],-1),xt=[jt],Lt={key:1,class:"offcanvas-body"},qt={key:2,class:"offcanvas-footer p-3"},Ut={class:"card rounded-0"},Vt={class:"card-body"},Mt={class:"font-bold"},It=t("p",{class:"mb-2"},[t("small",null,"Возможно в рассрочку!")],-1),Bt=t("p",{class:"mb-2",style:{"line-height":"80%"}},[t("small",null,"От цвета шпона или цвета покраски стекла цена не зависит, просто уточните эти детали в беседе с менеджером")],-1),Rt={key:0},Nt={directives:{mask:q.mask},computed:{...P(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"])},data(){return{tab:0,step:0,discount:0}},mounted(){},methods:{back(){this.step=0,this.tab=0},checkout(){this.step=1,this.tab=1},clearCart(){this.$store.dispatch("clearCart").then(n=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"}),window.dispatchEvent(new CustomEvent("clear-cart"))}).catch(n=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},downloadCartExcel(){let n=this.cartProducts,s=new FormData;s.append("items",JSON.stringify(n)),this.$store.dispatch("downloadExcel",{cardData:s}).then(e=>{var m=window.URL.createObjectURL(new Blob([e])),c=document.createElement("a");c.href=m,c.setAttribute("download","cart.xls"),document.body.appendChild(c),c.click(),this.$notify({title:"DoDoors",text:"Excel успешно скачан!",type:"success"})}).catch(e=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},loadSelfClients(){this.$store.dispatch("loadSelfClients").then(n=>{this.self_clients=n.data||[]}).catch(()=>{})},submit(){this.clientForm.items=this.cartProducts;let n=new FormData;Object.keys(this.clientForm).forEach(s=>{const e=this.clientForm[s]||"";typeof e=="object"?n.append(s,JSON.stringify(e)):n.append(s,e)}),n.append("total_price",this.cartTotalPrice),n.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:n}).then(s=>{this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(s=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},zt=Object.assign(Nt,{__name:"CalcCartSimple",setup(n){return(s,e)=>(o(),r("div",wt,[t("div",$t,[t("h5",Ct,[s.tab===0?(o(),r("span",Ft,"Вы выбрали")):a("",!0),s.tab===1?(o(),r("span",Dt,"Оформление заказа")):a("",!0)]),Tt]),s.tab===0?(o(),r("div",Pt,[s.cartProducts.length>0?(o(),r(C,{key:0},[(o(!0),r(C,null,L(s.cartProducts,m=>(o(),u(kt,{item:m},null,8,["item"]))),256)),Et,t("button",{onClick:e[0]||(e[0]=(...m)=>s.downloadCartExcel&&s.downloadCartExcel(...m)),class:"btn btn-dark rounded-0 w-100 mb-2"}," Скачать в виде Excel-файла "),t("button",{onClick:e[1]||(e[1]=(...m)=>s.clearCart&&s.clearCart(...m)),class:"btn btn-outline-secondary rounded-0 w-100 mb-2"}," Очистить корзину ")],64)):(o(),r("div",St,xt))])):a("",!0),s.tab===1?(o(),r("div",Lt,[s.step===1?(o(),u(Ue,{key:0,onBack:s.back},null,8,["onBack"])):a("",!0)])):a("",!0),s.cartProducts.length>0&&s.tab===0?(o(),r("div",qt,[t("div",Ut,[t("div",Vt,[t("h6",Mt,"Итого цена "+f(s.cartTotalPrice)+" ₽",1),It,Bt,s.step===0?(o(),r("div",Rt,[t("button",{class:"btn btn-dark rounded-0 w-100 mb-2",onClick:e[2]||(e[2]=(...m)=>s.checkout&&s.checkout(...m))},"Обсудить заказ с менеджером "),t("button",{class:"btn btn-outline-secondary rounded-0 w-100 mb-2",onClick:e[3]||(e[3]=(...m)=>s.checkout&&s.checkout(...m))},"Получить цену на почту "),t("button",{class:"btn btn-outline-secondary rounded-0 w-100 mb-2",onClick:e[4]||(e[4]=(...m)=>s.checkout&&s.checkout(...m))},"Получить цену в Telegram ")])):a("",!0)])])])):a("",!0)]))}}),Ot={class:"min-h-screen bg-gray-100"},At={class:"bg-white border-b border-gray-100"},Qt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Jt={class:"flex justify-between h-16"},Gt={class:"flex"},Kt={class:"shrink-0 flex items-center"},Yt={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},Ht={class:"badge bg-danger ml-1 rounded-full"},Wt={class:"hidden sm:flex sm:items-center sm:ms-6"},Xt={class:"ms-3 relative"},Zt={class:"inline-flex rounded-0"},es={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-0 text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},ts=t("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ss={class:"-me-2 flex items-center sm:hidden"},os={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ns={class:"pt-2 pb-3 space-y-1"},as={class:"pt-4 pb-1 border-t border-gray-200"},rs={class:"px-4"},is={class:"font-medium text-base text-gray-800"},ls={class:"font-medium text-sm text-gray-500"},cs={class:"mt-3 space-y-1"},ds=t("hr",null,null,-1),us={class:"mt-3 space-y-1"},ms=t("i",{class:"fa-solid fa-lock"},null,-1),hs=t("i",{class:"fa-solid fa-lock"},null,-1),fs={key:0,class:"bg-white shadow"},ps={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},_s=O('<div class="container border-b border-gray-100"><footer class="py-3 my-4"><div class="d-flex justify-center"><img src="/images/logo.jpg" style="width:100px;" alt=""></div><p class="text-center text-muted">© 2024 DoDoors</p></footer></div>',1),vs={key:0,class:"cart-fixed-btn"},bs={class:"btn rounded-0 shadow-lg","data-bs-toggle":"offcanvas",href:"#cart",role:"button","aria-controls":"cart"},ys=t("i",{class:"fa-solid fa-basket-shopping text-primary"},null,-1),gs={class:"badge text-primary font-bold"},ks={class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"main-side-admin-menu","aria-labelledby":"offcanvasExampleLabel"},ws=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"}," DoDoors "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("i",{class:"fa-solid fa-xmark"})])],-1),$s={class:"offcanvas-body"},Cs={class:"row"},Fs={class:"col-md-6"},Ds=t("i",{class:"fa-solid fa-user-tie mr-2"},null,-1),Ts={class:"col-md-6"},Ps=t("i",{class:"fa-solid fa-screwdriver-wrench mr-2"},null,-1),Es={class:"py-5"},Ss={key:0,class:"d-flex flex-col align-items-center"},js={key:1,class:"d-flex flex-col align-items-center"},xs={data(){return{menuTab:0}},computed:{...P(["getErrors","cartTotalCount","cartProducts"])},mounted(){},methods:{hasRoles(n){return(this.$page.props.auth.roles||[]).includes(n)},can(n){return(this.$page.props.auth.permissions||[]).includes(n)}}},Ms=Object.assign(xs,{__name:"AuthenticatedLayout",setup(n){const s=x(!1);return(e,m)=>{const c=z("notifications");return o(),r(C,null,[t("div",null,[b(c,{position:"top right"}),t("div",Ot,[t("nav",At,[t("div",Qt,[t("div",Jt,[t("div",Gt,[t("div",Kt,[b(F(D),{href:e.route("dashboard")},{default:l(()=>[b(V,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),t("div",Yt,[e.can("manage-views-adminmenu")?(o(),u(p,{key:0,"data-bs-toggle":"offcanvas",href:"#main-side-admin-menu",role:"button","aria-controls":"main-side-admin-menu"},{default:l(()=>[i(" Админ.меню ")]),_:1})):a("",!0),b(p,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:l(()=>[i(" Главная ")]),_:1},8,["href","active"]),e.cartTotalCount>0?(o(),u(p,{key:1,href:e.route("basket"),active:e.route().current("basket")},{default:l(()=>[i(" Корзина "),t("span",Ht,f(e.cartTotalCount),1)]),_:1},8,["href","active"])):a("",!0)])]),t("div",Wt,[t("div",Xt,[b(Q,{align:"right",width:"48"},{trigger:l(()=>[t("span",Zt,[t("button",es,[i(f(e.$page.props.auth.user.name)+" ",1),ts])])]),content:l(()=>[b(j,{href:e.route("profile.edit")},{default:l(()=>[i(" Профиль")]),_:1},8,["href"]),b(j,{href:e.route("logout"),method:"post",as:"button"},{default:l(()=>[i(" Выход ")]),_:1},8,["href"])]),_:1})])]),t("div",ss,[t("button",{onClick:m[0]||(m[0]=h=>s.value=!s.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[(o(),r("svg",os,[t("path",{class:g({hidden:s.value,"inline-flex":!s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),t("path",{class:g({hidden:!s.value,"inline-flex":s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),t("div",{class:g([{block:s.value,hidden:!s.value},"sm:hidden"])},[t("div",ns,[b(v,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:l(()=>[i(" Главная страница ")]),_:1},8,["href","active"])]),t("div",as,[t("div",rs,[t("div",is,f(e.$page.props.auth.user.name),1),t("div",ls,f(e.$page.props.auth.user.email),1)]),t("div",cs,[b(v,{href:e.route("profile.edit")},{default:l(()=>[i(" Профиль")]),_:1},8,["href"]),b(v,{href:e.route("logout"),method:"post",as:"button"},{default:l(()=>[i(" Выход ")]),_:1},8,["href"]),ds]),t("div",us,[e.can("manage-users")?(o(),u(v,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:l(()=>[i(" Пользователи ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-clients")?(o(),u(v,{key:1,class:"p-3"},{default:l(()=>[i(" Клиенты "),ms]),_:1})):a("",!0),e.can("manage-orders")?(o(),u(v,{key:2,class:"p-3"},{default:l(()=>[i(" Заказы "),hs]),_:1})):a("",!0),e.can("manage-materials")?(o(),u(v,{key:3,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:l(()=>[i(" Материалы ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-handles")?(o(),u(v,{key:4,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:l(()=>[i(" Ручки ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-hinges")?(o(),u(v,{key:5,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:l(()=>[i(" Петли ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-door-variants")?(o(),u(v,{key:6,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:l(()=>[i(" Типы дверей ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-colors")?(o(),u(v,{key:7,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:l(()=>[i(" Цвета ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-sizes")?(o(),u(v,{key:8,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:l(()=>[i(" Размеры ")]),_:1},8,["href","active"])):a("",!0)])])],2)]),e.$slots.header?(o(),r("header",fs,[t("div",ps,[w(e.$slots,"header")])])):a("",!0),t("main",null,[w(e.$slots,"default")])])]),_s,e.cartTotalCount>0?(o(),r("div",vs,[t("a",bs,[ys,t("span",gs,f(e.cartTotalCount)+" шт.",1)])])):a("",!0),b(zt),t("div",ks,[ws,t("div",$s,[t("div",Cs,[t("div",Fs,[t("button",{class:g(["btn w-100 rounded-0",{"btn-dark":e.menuTab===0,"btn-outline-secondary":e.menuTab!==0}]),onClick:m[1]||(m[1]=h=>e.menuTab=0)},[Ds,i("Общее ")],2)]),t("div",Ts,[t("button",{class:g(["btn w-100 rounded-0",{"btn-dark":e.menuTab===1,"btn-outline-secondary":e.menuTab!==1}]),onClick:m[2]||(m[2]=h=>e.menuTab=1)},[Ps,i("Админ ")],2)])]),t("div",Es,[e.menuTab===0?(o(),r("nav",Ss,[e.can("manage-calc")?(o(),u(p,{key:0,class:"p-3",href:e.route("calc"),active:e.route().current("calc")},{default:l(()=>[i(" Калькулятор ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-clients")?(o(),u(p,{key:1,class:"p-3",href:e.route("clients"),active:e.route().current("clients")},{default:l(()=>[i(" Клиенты ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-clients")?(o(),u(p,{key:2,class:"p-3",href:e.route("documents"),active:e.route().current("documents")},{default:l(()=>[i(" Договора (Документы) ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-orders")?(o(),u(p,{key:3,class:"p-3",href:e.route("orders"),active:e.route().current("orders")},{default:l(()=>[i(" Заказы ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-promo-codes")?(o(),u(p,{key:4,class:"p-3",href:e.route("promo-codes"),active:e.route().current("promo-codes")},{default:l(()=>[i(" Промокоды ")]),_:1},8,["href","active"])):a("",!0)])):a("",!0),e.menuTab===1?(o(),r("nav",js,[e.can("manage-users")?(o(),u(p,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:l(()=>[i(" Пользователи ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-roles")?(o(),u(p,{key:1,class:"p-3",href:e.route("roles"),active:e.route().current("roles")},{default:l(()=>[i(" Роли пользователей ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-permissions")?(o(),u(p,{key:2,class:"p-3",href:e.route("permissions"),active:e.route().current("permissions")},{default:l(()=>[i(" Разрешения пользователей ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-services")?(o(),u(p,{key:3,class:"p-3",href:e.route("services"),active:e.route().current("services")},{default:l(()=>[i(" Сервисы ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-materials")?(o(),u(p,{key:4,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:l(()=>[i(" Материалы ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-handles")?(o(),u(p,{key:5,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:l(()=>[i(" Ручки ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-hinges")?(o(),u(p,{key:6,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:l(()=>[i(" Петли ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-door-variants")?(o(),u(p,{key:7,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:l(()=>[i(" Типы дверей ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-colors")?(o(),u(p,{key:8,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:l(()=>[i(" Цвета ")]),_:1},8,["href","active"])):a("",!0),e.can("manage-sizes")?(o(),u(p,{key:9,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:l(()=>[i(" Размеры ")]),_:1},8,["href","active"])):a("",!0)])):a("",!0)])])])],64)}}});export{Ue as C,Ms as _};
